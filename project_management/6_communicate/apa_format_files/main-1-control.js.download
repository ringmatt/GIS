!(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=358)})([(function(e,t,n){var r=n(4),i=n(30),a=n(18),o=n(28),s=n(24),u=function(e,t,n){var c,d,l,f,p=e&u.F,h=e&u.G,m=e&u.S,g=e&u.P,v=e&u.B,y=h?r:m?r[t]||(r[t]={}):(r[t]||{}).prototype,b=h?i:i[t]||(i[t]={}),E=b.prototype||(b.prototype={});for(c in h&&(n=t),n)l=((d=!p&&y&&void 0!==y[c])?y:n)[c],f=v&&d?s(l,r):g&&"function"==typeof l?s(Function.call,l):l,y&&o(y,c,l,e&u.U),b[c]!=l&&a(b,c,f),g&&E[c]!=l&&(E[c]=l)};r.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u}),(function(module,exports,__webpack_require__){"use strict";var _slicedToArray=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(exports,"__esModule",{value:!0});var snakeCase=__webpack_require__(259),merge=__webpack_require__(260),string_const_1=__webpack_require__(2),Hashes=__webpack_require__(114),SESSION_EVENT_TIMES={},AUCTION_EVENT_TIMES={},CALC_EVENT_TIMES={},versionName=void 0,util={logStack:[],enableDebug:function(e,t){(e||void 0===e)&&(window.DEBUG_MODE="verbose"),t&&util.logStack.reduceRight((function(e,t){console.log.apply(console,t)}),void 0)},launchScript:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};document.head.appendChild(this.getScript(e,t,n,r,i))},getScript:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a="https:"===document.location.protocol,o=document.createElement("script");return o.async=void 0===r.async||r.async,o.type="text/javascript",o.defer=r.defer,0!==e.indexOf("http")&&0!==e.indexOf("//")||(e=e.substring(e.indexOf("//")+2)),o.src=(a?"https://":"http://")+e,"function"==typeof t&&(o.readyState?o.onreadystatechange=function(){"loaded"!==o.readyState&&"complete"!==o.readyState||(o.onreadystatechange=null,t())}:o.onload=t),"function"==typeof n&&(o.onerror=n),i&&Object.keys(i).forEach((function(e){o.setAttribute(e,i[e])})),o},getUrlParams:function(){var e={};return window.location.search.slice(1).split("&").map((function(t){var n=t.split("=");return 2===n.length?e[n[0]]=n[1]:""!==n[0]&&(e[n[0]]=""),e})),e},removeParamFromQueryString:function(e,t){var n=util.getUrlParams();delete n[e];var r=[];for(var i in n)n.hasOwnProperty(i)&&r.push(encodeURIComponent(i)+"="+encodeURIComponent(n[i]));var a=r.join("&").trim(),o=location.protocol+"//"+location.host+location.pathname,s=a?o+"?"+a:o;window.history.pushState({},document.title,s),t&&(window.location.href=s)},copy:function(e){return JSON.parse(JSON.stringify(e))},genUUID:(function(){for(var e=[],t=0;t<256;t++)e[t]=(t<16?"0":"")+t.toString(16);return function(){var t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,r=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return e[255&t]+e[t>>8&255]+e[t>>16&255]+e[t>>24&255]+"-"+e[255&n]+e[n>>8&255]+"-"+e[n>>16&15|64]+e[n>>24&255]+"-"+e[63&r|128]+e[r>>8&255]+"-"+e[r>>16&255]+e[r>>24&255]+e[255&i]+e[i>>8&255]+e[i>>16&255]+e[i>>24&255]}})(),genRandomString:function(){var e=["a","n","c","d","e","f","a1j","b2","a3","c4m","f5","e6","b7w","a8s","f9","d0"],t=e[Math.floor(Math.random()*e.length)],n=t+this.genUUID().replace(/-/g,t),r=Math.floor(Math.random()*n.length);return r=Math.max(r,13),n.substring(0,r)},embedCss:function(e){var t=document.createElement("link");t.href=e,t.type="text/css",t.rel="stylesheet",t.media="screen,print",document.head.appendChild(t)},addClass:function(e,t){e.classList?e.classList.add(t):e.className+=" "+t},removeClass:function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},getTime:function(e){var t=window.performance.now();return e?t:parseInt(t,10)},throw:function(e,t){switch(e="ADV Error: "+e,void 0===t?t=new Error(e):t.message=e+": "+t.message,window.DEV_MODE){case"warn":try{console.error(t)}catch(e){}break;case"strict":throw t;default:return window.newrelic&&(window.newrelic.addRelease("sbmAdVersion",versionName),window.newrelic.noticeError(t,{testVersion:versionName})),t}},loadDataConnection:function(e){this.fluentd=e},log:function(e,t){if(t="string"==typeof t?t:"default",this.detectIE())(window.DEBUG_MODE||"all"===window.NS_DEBUG)&&console.log(t.toUpperCase()+": "+e);else{var n=void 0;switch(t){case string_const_1.default.LOG_NAMESPACE.REFRESH:n="#f58231";break;case string_const_1.default.LOG_NAMESPACE.STATE:n="#e01b6a";break;case string_const_1.default.LOG_NAMESPACE.DATA:n="#3cb44b";break;case string_const_1.default.LOG_NAMESPACE.BIDS:n="#4363d8";break;case string_const_1.default.LOG_NAMESPACE.PREBID:n="#911eb4";break;case string_const_1.default.LOG_NAMESPACE.VIDEO:n="#bfef45";break;case string_const_1.default.LOG_NAMESPACE.DS:n="#42d4f4";break;case string_const_1.default.LOG_NAMESPACE.CONSENT:n="#f0bc22";break;case string_const_1.default.LOG_NAMESPACE.WARNING:n="#e0391b";break;case string_const_1.default.LOG_NAMESPACE.FLOORD:n="#1B870A";break;case string_const_1.default.LOG_NAMESPACE.FUNDING_CHOICES:n="#630EEE";break;case string_const_1.default.LOG_NAMESPACE.CHEGG_BIDDER:n="#665E73";break;default:n="#000"}var r="background: "+n+"; color: #fff",i="%c SBM: "+t.toUpperCase()+" ",a=[];if("string"!=typeof e&&e.length?a=e:a.push(e),a.unshift(r),a.unshift(i),util.logStack.unshift(a),util.logStack.length=1e3,window.DEBUG_MODE||"all"===window.NS_DEBUG)try{"verbose"===window.DEBUG_MODE||window.NS_DEBUG?console.log.apply(console,a):"static"===window.DEBUG_MODE&&console.log.apply(console,this.copy(a))}catch(e){}}},addGlobalKey:function addGlobalKey(parent,key,value){try{var cleanParent=parent.replace(/[^A-z0-9_.\[\]]/g,""),obj=eval(cleanParent)}catch(e){util.throw('Object "'+(cleanParent||parent)+'" does not exist',e)}try{Object.defineProperty(obj,key,{configurable:!1,value:value})}catch(e){util.throw("Error creating immutable SBMGlobal property",e),obj[key]=value}},getOptimizelyKvps:function(){if(window._sbmGetOptimizelyGamKvps)try{return window._sbmGetOptimizelyGamKvps()}catch(e){return util.log("Failed to get optimizely KVP: "+e,string_const_1.default.LOG_NAMESPACE.WARNING),[]}return[]},onUnload:function(e){window.addEventListener("unload",e)},tryCallback:function(e,t,n){if("function"==typeof e[t])try{e[t].apply({},n)}catch(e){util.throw("Could not run `user."+t+"()`",e)}},isEmptyObject:function(e){for(var t in e)return!1;return!0},diff:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e),r=n?[]:{},i=void 0;for(var a in e)"object"===_typeof(t[a])&&"object"===_typeof(e[a])?(i=this.diff(e[a],t[a]),!1===this.isEmptyObject(i)&&(n?r.push(i):r[a]=i)):t[a]!==e[a]&&(n?r.push(e[a]):r[a]=e[a]);return r},onDocReady:function(e){"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},dynamicStyle:function(e){var t=document.createElement("style");t.textContent=e,document.head.appendChild(t)},detectIE:function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var n=e.indexOf("rv:");return parseInt(e.substring(n+3,e.indexOf(".",n)),10)}var r=e.indexOf("Edge/");return r>0&&parseInt(e.substring(r+5,e.indexOf(".",r)),10)},sendDataLayerEvent:function(e){var t={event:"ad event",eventCategory:"ad interaction",eventAction:e.eventAction,eventLabel:e.eventLabel};window.dataLayer&&window.dataLayer.push&&window.dataLayer.push(t)},updateDataLayer:function(e){window.dataLayer=window.dataLayer||[],window.dataLayer.push&&"object"===(void 0===e?"undefined":_typeof(e))&&window.dataLayer.push(e)},turboLinksPreventCaching:function(){var e=document.getElementsByTagName("head")[0],t=document.createElement("meta");t.name="turbolinks-cache-control",t.content="no-cache",e.appendChild(t)},recordEventTime:function(e,t){var n=util.getTime();t?AUCTION_EVENT_TIMES[t]?AUCTION_EVENT_TIMES[t][e]=n:AUCTION_EVENT_TIMES[t]=_defineProperty({},e,n):SESSION_EVENT_TIMES[e]=n},getEventTime:function(e,t){return t?AUCTION_EVENT_TIMES[t]?AUCTION_EVENT_TIMES[t][e]:null:SESSION_EVENT_TIMES[e]},getAuctionDuration:function(e){var t=util.getEventTime("auctionInit",e),n=util.getEventTime("dfpAuctionEnd",e);return t&&n?n-t:null},getPrebidAuctionDuration:function(e){var t=util.getEventTime("prebidAuctionInit",e),n=util.getEventTime("prebidAuctionEnd",e);return t&&n?n-t:null},getNileDuration:function(e){var t=util.getEventTime("nileAuctionInit",e),n=util.getEventTime("nileAuctionEnd",e);return t&&n?n-t:null},calculatedEventTimes:function(e,t){return CALC_EVENT_TIMES[e]||(CALC_EVENT_TIMES[e]={auctionDuration:util.getAuctionDuration(e),prebidDuration:util.getPrebidAuctionDuration(e),nileDuration:util.getNileDuration(e)}),t?util.keysToSnakeCase(CALC_EVENT_TIMES[e]):CALC_EVENT_TIMES[e]},setVersionName:function(e){versionName=e},keysToSnakeCase:function(e){if(!e)return e;var t=Array.isArray(e),n=t?[]:{};return Object.keys(e).reduce((function(n,r){var i=e[r];("object"===(void 0===i?"undefined":_typeof(i))&&(i=util.keysToSnakeCase(i)),t)?n.push(i):n[snakeCase(r)]=i;return n}),n)},deepMerge:function(e,t){merge(e,t)},getUserKeyLocalStorage:function(e){switch(e){case"mw":return"userstate";default:return"user"}},readUserLocalStorage:function(e){var t=util.getUserKeyLocalStorage(e),n=void 0;try{var r=window.localStorage&&window.localStorage.getItem(t);r&&(n=JSON.parse(r))}catch(e){util.throw("Failed to read user item from local storage",e)}return n},getUserEmail:function(e){var t=util.readUserLocalStorage(e);return t&&t.user&&t.user.email?t.user.email:null},getHashedEmail:function(e){var t=e.split("@"),n=_slicedToArray(t,2),r=n[0],i=n[1],a=r.split("+"),o=_slicedToArray(a,1)[0],s=(o=o.replace(".","").toLowerCase())+"@"+i;return(new Hashes.SHA256).hex(s)},getUrlSafeHashedEmail:function(e){var t=util.getHashedEmail(e);return btoa("1="+t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},transformSiteName:function(e){var t={bibme:"bm",bm:"bm",citationmachine:"cm",cm:"cm",citethisforme:"ctfm",ctfm:"ctfm",easybib:"eb",eb:"eb",mw:"mw",cw:"cw",cheggprep:"prep",prep:"prep",chegg:"core",cu:"cu",life:"life",math:"math",search:"search",owl:"owl"};return t[e]?t[e]:(util.throw("Config site name "+e+" not available in transform object"),e)},getGaHitCount:function(){if(window.gaData){var e=Object.keys(window.gaData)[0];return e&&window.gaData[e]&&window.gaData[e].hitcount?window.gaData[e].hitcount:-1}}};exports.default=util}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=window.location.hostname,i=(function(e){var t="nosite";e.match(/easybib/i)?t="eb":e.match(/citationmachine/i)?t="cm":e.match(/bibme/i)?t="bm":e.match(/citethisforme/i)&&(t="ctfm");return t})(r)+"_",a=r.replace(/.*?\.(.*\.(?:com|org|net))/i,"$1"),o={PREFIX:"sbm_",PATH:"/",DOMAIN:"."+r,SITE:{HOSTNAME:r,DOMAIN:a,PREFIX:i,NAME:window.location.hostname.replace(/(?:\w+\.)?((?:\w|\d)*)(?:\.\w+)/,"$1")},STORE:{BIDS:"bids",LIMIT:200},CHANNEL:{NONE:-1,HEADER:0,ADX:1,MD:2,CPC:3,EBDA:4},CHANNEL_NAMES:{MD:"md",ADX:"adx",NILE:"nile",NONE:"none",GRAMMARLY:"grammarly",PAPERCHECKER:"paperchecker",EBDA:"ebda",PREBID:"prebid"},MEDIA_TYPES:{BANNER:"banner",VIDEO:"video"},CLASS_NAMES:{AD:"sbm-rand",LINK:"upgrade-link",STICKY:"sbm-sticky-enabled",DOCKED:"docked"},IDS:{CLOSE:"close-button",PLAY_PAUSE:"play-pause-button",MUTE_UNMUTE:"mute-unmute-button",VIDEO_BUTTONS:"video-buttons",NON_CLICKABLE_OVERLAY:"nonclickable-overlay"},COOKIE:{A_B_TEST:"a_b_test",WHITELISTED:i+"whitelisted",BEEN_THANKED:i+"been_thanked",OPTANON_CONSENT:"OptanonConsent",EU_PUB_CONSENT:"eupubconsent",COUNTRY:"country",DMA:"dma",VIEWED_UNLOCK_SESSION:"viewed_unlock_session",PREVIOUS_TRUEX_GCS:"previous_truex_gcs",AD_LITE_STANDARD:"ad_lite",TRUEX_USER_ID:"truex_user_id",SUBMIT_BLOCKED_COUNT:i+"submit_blocked",SELENIUM:i+"selenium_test",SBM_ID:"sbm_id",SBM_SESSION_ID:"sbm_session_id_2"},UNLOCK_PLACEMENT_NAME:"D_UNLOCK",SURVEY_UNLOCK_PLACEMENT_NAME:"D_SURVEYUNLOCK",VID_PLACEMENT_NAME:"D_VID",BID_STATUS:{WAITING:"waiting",SUCCESS:"success",NONE:"nbr",ERROR:"error"},PERFORMANCE_EVENTS:{INIT:"init",RENDERED:"rendered",VIEWABLE:"viewable"},LOG_NAMESPACE:{REFRESH:"refresh",STATE:"state",DATA:"data",BIDS:"bids",PREBID:"prebid",VIDEO:"video",DS:"data science",CONSENT:"consent",WARNING:"warning",FLOORD:"floord",FUNDING_CHOICES:"funding_choices",CHEGG_BIDDER:"chegg_bidder"},DISPLAY_AUCTION_TYPES:{CURRENT:"currentPage",NEXT:"nextPage"},SBM:{EVENT_TYPES:{SLOT_RENDER:{NAME:"slot_render",VERSION:"3"},VIDEO_EVENT:{NAME:"video_event",VERSION:"2"},AD_PERFORMANCE:{NAME:"ad_performance",VERSION:"1"},AUCTION_EVENT:{NAME:"auction_event",VERSION:"1"},AD_VARIOUS:{NAME:"ad_various",VERSION:"1"}}},RIO:{EVENT_TYPES:{CLICKSTREAM_AD_IMPRESSION:{NAME:"clickstream_ad_impression",VERSION:"1"},CLICKSTREAM_INTERACTION:{NAME:"clickstream_interaction",VERSION:"3"},CLICKSTREAM_SUCCESS:{NAME:"clickstream_success",VERSION:"4"},CLICKSTREAM_COMPONENT_VIEW:{NAME:"clickstream_component_view",VERSION:"3"}},SBM_NAMESPACE:"sbmAnalytics",DEFAULT_NAMESPACE:"wtaCmd",APP_ID:"sbm",DEFAULT_APP_ID:"al_cell",WT_PROPERTY:"wt"},VIDEO_PARTNERS:{CUSTOM:"custom",SPRING_SERVE:"springserve",PRIMIS:"primis"},VJS:{FATAL_ERRS:[100,101,102,300,301,302,303,400,401,402,403,405,406,407,408,409,410,500,501,502,503,900,901,1005,1009],EVENTS:{HTML:["ended","timeupdate"],IMA:["adProgress","allAdsCompleted","click","start","impression","pause","complete","viewable_impression","loaded"],SKIP:["timeupdate","adProgress"]}},FLOOR_TIERS:{US:"US",GB_AU_CA:"GB_AU_CA",ROW:"ROW"},PARTNER_PREFIX:{PRIMIS:"pr",SPRINGSERVE:"bp"},DOM_EVENTS:{SCROLL:"scroll",FOCUS:"focus",BLUR:"blur",CLICK:"click"},VIDEO_EVENTS:{BLURRED_AD:"blurred_ad",ERROR_OPP:"error_opp",PLAYER_LOAD:"player_load",FCAP:"fcap",START:"ad-start",COMPLETE:"ad-complete",PAUSE:"ad-pause",IMPRESSION:"ad-impression",CLICK:"ad-click",REQUEST:"ad-request",ERROR:"error",VIEWABLE:"ad-viewable",INTERRUPT:"ad-interrupt",TIMEOUT:"timeout",PLAYER_RESET:"player_reset",CONTENT_START:"content-start",CONTENT_COMPLETE:"content-complete"},UNLOCK:{EVENTS:{QUALIFY:"qualify for unlock",WILL_SEE_MODAL:"will see modal",SHOWN_MODAL:"shown modal",CLICK_WATCH_VIDEO:"click watch video",COMPLETED_MODAL:"completed modal",MODAL_ERROR:"modal error",SURVEY:"survey"},RSW:{REGION:"unlock citation",SPONSORED_MESSAGE:"view a sponsored message",DONE:"I'm done",CONTINUE_CITING:"click to continue citing"}},VIDEO_PLAYER_EVENTS:{PLAY:"play",PAUSE:"pause",UNPAUSE:"unpause",COLLAPSE:"collapse",EXPAND:"expand",MUTE:"mute",UNMUTE:"unmute"},VIDEO_SESSION_STATE:{BLURRED_AD:"blurredAdCount",UNFILLED_REQUEST:"unfilledRequestCount",FCAP_REACHED:"fCapReached",MANUAL_PAUSE:"manuallyPaused",MANUAL_MUTE:"manuallyMuted"},MODE:{S:"s",R:"r"},MODENAME:{STANDARD:"standard",REFRESH:"refresh"},VIEWABILITY:{PIXEL_THRESHOLD:.5,TIME_THRESHOLD:1e3,CHECK_INTERVAL:50},TARGETING:{ON:"on"},NO_DATA:"none",HEADER_ADVERTISER_ID:91854729,NILE_ADVERTISER_ID:91854849,GAM_URL:"https://pubads.g.doubleclick.net/gampad/adx?iu=/",MOBILE:"mobile",DESKTOP:"desktop",SUPPRESS_TYPES:{BY_COOKIE:"cookie",BY_APPLICATION:"application",BY_CONFIG:"config",BY_WINDOW:"window"},ALLOWED_PARAMS_ADFREE:{ARCHIE_SUPPRESS:"archie_suppress",EDU_MODE:"edu_mode"},LARGE_VIDEO_PLAYER:"large video player",REGULAR_VIDEO_PLAYER:"regular video player"};t.default=o}),(function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}}),(function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)}),(function(e,t,n){var r=n(3);e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}}),(function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}}),(function(e,t,n){var r=n(73)("wks"),i=n(32),a=n(4).Symbol,o="function"==typeof a;(e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}).store=r}),(function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}}),(function(e,t,n){var r=n(5),i=n(90),a=n(48),o=Object.defineProperty;t.f=n(16)?Object.defineProperty:function(e,t,n){if(r(e),t=a(t,!0),r(n),i)try{return o(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getDateXMinutesFromNow=t.deepEquals=t.setCookieOnRootDomain=t.getLocalPortFromUrl=t.getLocalPortFromParam=t.getUserAgent=t.noWindow=t.getCommandKey=t.getNamespaceKey=t.isObject=t.wrapTimeout=void 0;var i=r(n(89)),a=r(n(12)),o=n(13),s=r(n(66)),u=n(67),c=r(n(14));function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}t.wrapTimeout=function(e,t){return new Promise((function(n){return setTimeout((function(){return n(e())}),t)}))};var l=function(e){return!!e&&Object.getPrototypeOf(e)===Object.prototype};t.isObject=l;t.getNamespaceKey=function(e){return"".concat(e,"RswCommand")};t.getCommandKey=function(e){return e?"".concat(e,"RswCommand"):o.DEFAULT_COMMAND_KEY};var f=function(){return"undefined"==typeof window};t.noWindow=f;t.getUserAgent=function(e){return e||(f()?"unknown":window.navigator.userAgent)};t.getLocalPortFromParam=function(e){return!0===e?o.LOCAL_ENV_DEFAULT_PORT:Number(e)?Number(e):null};t.getLocalPortFromUrl=function(e){if(f())return null;var t=e||window.location;try{if(t.href.includes(o.LOCAL_ENV_QUERY_PARAM)){var n=new URLSearchParams(t.search).get(o.LOCAL_ENV_QUERY_PARAM);if(Number(n))return Number(n);if("true"===n)return o.LOCAL_ENV_DEFAULT_PORT}}catch(e){return null}return null};t.setCookieOnRootDomain=function(e,t,n){try{var r=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({domain:(0,u.isLocalDomain)(window.location.href)?void 0:(0,u.getRootDomain)(window.location.href),secure:!0,SameSite:"None"},n);s.default.set(e,t,r)}catch(e){c.default.error(e)}};t.deepEquals=function e(t,n){if(t===n)return!0;if(l(t)){if(l(n)){var r=Object.entries(t);return r.length===Object.keys(n).length&&r.reduce((function(t,r){var a=(0,i.default)(r,2),o=a[0],s=a[1];if(!1===t)return t;var u=n[o];return e(s,u)}),!0)}return!1}if(Array.isArray(t)){if(Array.isArray(n)&&t.length===n.length){var a=n.sort((function(e,t){return e<t?-1:1}));return!t.sort((function(e,t){return e<t?-1:1})).some((function(t,n){var r=a[n];return!1===e(t,r)}))}return!1}return!1};t.getDateXMinutesFromNow=function(e){return new Date(Date.now()+6e4*e)}}),(function(e,t,n){var r=n(35),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}}),(function(e,t){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_PREVIOUS_CACHE_TIMEOUT=t.VIEW_CURRENT_CACHE_KEY=t.VIEW_PREVIOUS_CACHE_KEY=t.DEFAULT_NAMESPACE=t.DEFAULT_COMMAND_KEY=t.LOCAL_ENV_DEFAULT_PORT=t.LOCAL_ENV_QUERY_PARAM=t.EVENTS=t.PLATFORM_WHITELIST=t.DATA_REQUEST_RETRIES=t.CHEGG_ID_REQUEST_RETRIES=t.MCID_REQUEST_RETRIES=t.DELAY_BETWEEN_RETRIES=t.SLOW_RESPONSE_THRESHOLD=t.INIT_TIMEOUT_THRESHOLD=t.DEFAULT_BATCH_INTERVAL=t.LOGGING_NAMESPACE=t.BASE_EVENT_TYPE=t.BASE_EVENT_VERSION=t.ADOBE=void 0;t.ADOBE={demdexUrl:"https://chegginc.demdex.net/id?d_visid_ver=4.2.0&d_fieldgroup=MC&d_rtbd=json&d_ver=2&d_verify=1&d_orgid=3FE7CBC1556605A77F000101%40AdobeOrg&d_nsid=0&ts=",cacheBuster:"cache_buster",cookieName:"AMCV_3FE7CBC1556605A77F000101@AdobeOrg",adobeFallbackCookieName:"s_ecid",legacyCookieName:"mcid",fallbackCookieName:"local_fallback_mcid",responseIndex:"mcid",timeout:5e3};t.BASE_EVENT_VERSION="4";t.BASE_EVENT_TYPE="web";t.LOGGING_NAMESPACE="rio-sdk-web";t.DEFAULT_BATCH_INTERVAL=200;t.INIT_TIMEOUT_THRESHOLD=7e3;t.SLOW_RESPONSE_THRESHOLD=5e3;t.DELAY_BETWEEN_RETRIES=50;t.MCID_REQUEST_RETRIES=2;t.CHEGG_ID_REQUEST_RETRIES=2;t.DATA_REQUEST_RETRIES=8;var r=["tablet","mobile","desktop","tv","bot",void 0];t.PLATFORM_WHITELIST=r;t.EVENTS={pageview:{cheggDbEventName:"page_view",version:"4.0.0"},cardEngagement:{cheggDbEventName:"card_engagement",version:"3.0.0"},citationCreated:{cheggDbEventName:"citation_created",version:"2.0.0"},paperUpload:{cheggDbEventName:"paper_upload",version:"3.0.0"},transaction:{cheggDbEventName:"transaction",version:"3.0.0"},slotRender:{cheggDbEventName:"slot_render",version:"1.0.0"},videoEvent:{cheggDbEventName:"video_event",version:"1.0.0"}};t.LOCAL_ENV_QUERY_PARAM="use-local-rsw-port";t.LOCAL_ENV_DEFAULT_PORT=8042;t.DEFAULT_COMMAND_KEY="wtaCmd";t.DEFAULT_NAMESPACE="default";t.VIEW_PREVIOUS_CACHE_KEY="rsw_view_previous_cache";t.VIEW_CURRENT_CACHE_KEY="rsw_view_current_cache";t.VIEW_PREVIOUS_CACHE_TIMEOUT=36e5}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(121),i=n(13),a=n(10),o={log:function(){if((0,a.noWindow)()||!window.silenceLogging){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).log.apply(e,[i.LOGGING_NAMESPACE].concat(n))}},warn:function(){if((0,a.noWindow)()||!window.silenceLogging){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,[i.LOGGING_NAMESPACE].concat(n))}},error:function(e){!(0,a.noWindow)()&&window.silenceLogging||(e.message="".concat(i.LOGGING_NAMESPACE,": ").concat(e.message),(0,r.errorEmitter)(e))}};t.default=o}),(function(e,t,n){"use strict";var r=n(126),i=Object.prototype.toString;function a(e){return"[object Array]"===i.call(e)}function o(e){return void 0===e}function s(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==i.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Function]"===i.call(e)}function d(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),a(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}e.exports={isArray:a,isArrayBuffer:function(e){return"[object ArrayBuffer]"===i.call(e)},isBuffer:function(e){return null!==e&&!o(e)&&null!==e.constructor&&!o(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:s,isPlainObject:u,isUndefined:o,isDate:function(e){return"[object Date]"===i.call(e)},isFile:function(e){return"[object File]"===i.call(e)},isBlob:function(e){return"[object Blob]"===i.call(e)},isFunction:c,isStream:function(e){return s(e)&&c(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:d,merge:function e(){var t={};function n(n,r){u(t[r])&&u(n)?t[r]=e(t[r],n):u(n)?t[r]=e({},n):a(n)?t[r]=n.slice():t[r]=n}for(var r=0,i=arguments.length;r<i;r++)d(arguments[r],n);return t},extend:function(e,t,n){return d(t,(function(t,i){e[i]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}}),(function(e,t,n){e.exports=!n(8)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(2),u=n(271),c=n(138),d=["adSystem","eventName","player","playerId","auctionType","cuePoint"],l={cpm:0,channel:-1,advertiserId:0,lineItemId:-1,timeToAuctionEnd:0},f=(function(){function e(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}return i(e,null,[{key:"init",value:function(t,n){e.user=n,e.sitePrefix=t.prefix,t.archieAnalytics&&(e.endpoint=t.archieAnalytics.wtRioEventEndpoint,t.archieAnalytics.sbmRsw&&(e.config=t.archieAnalytics,e.sendSbmAnalyticsEvents=t.archieAnalytics.sendSbmAnalyticsEvents,e.useDefaultClient=!t.archieAnalytics.useSbmClient,e.appSendsInitialUnlockEvents=t.archieAnalytics.appSendsInitialUnlockEvents,e.isInit=!0,e.initRio()))}},{key:"getEventTypeVersion",value:function(e){return e===s.default.SBM.EVENT_TYPES.SLOT_RENDER.NAME?s.default.SBM.EVENT_TYPES.SLOT_RENDER.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.VERSION:e===s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME?s.default.SBM.EVENT_TYPES.VIDEO_EVENT.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.VERSION:e===s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.NAME?s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.VERSION:e===s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME?s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.VERSION:e===s.default.SBM.EVENT_TYPES.AUCTION_EVENT.NAME?s.default.SBM.EVENT_TYPES.AUCTION_EVENT.VERSION:void o.default.log("Unable to find Event type",s.default.LOG_NAMESPACE.DATA)}},{key:"getAuthState",value:function(){var t="logged_out",n=o.default.readUserLocalStorage(e.sitePrefix);return n&&n.loggedIn&&(t="hard_logged_in"),t}},{key:"initRio",value:function(){if(e.defaultClient=u.getClient(),!e.useDefaultClient||!e.defaultClient.isInit){o.default.log("No RSW found on the page, creating SBM client",s.default.LOG_NAMESPACE.DATA),e.rioClient=u.getClient(s.default.RIO.SBM_NAMESPACE);var t=o.default.transformSiteName(e.sitePrefix),n=e.endpoint,r=s.default.RIO.APP_ID,i=e.config.rioExperiments?e.genExperimentsArray():null,a={endpoint:n,appId:r,property:s.default.SITE.NAME,authState:this.getAuthState(),testCells:[{layer:s.default.RIO.APP_ID,cell:e.user.versionName}],errorHandler:function(e){return o.default.log("Unable to send event(s) to RSW: "+e,s.default.LOG_NAMESPACE.DATA)},view:{property:s.default.RIO.WT_PROPERTY,experience:t,view_name:e.user.page||""}};i&&(a.experiments=i),e.rioClient.init(a)}}},{key:"getOsName",value:function(){var t=e.rioClient.stateManager.get();return t?t.osName:void 0}},{key:"getPlatform",value:function(){var t=e.rioClient.stateManager.get();return t?t.platform:void 0}},{key:"getSubscriptionsStatus",value:function(){var t="non_member",n=o.default.readUserLocalStorage(e.sitePrefix);return n&&(n.user&&"mybibpro"===n.user.role||n.isSubscribed)&&(t="active"),t}},{key:"send",value:function(t,n){var i=t.data,o=t.type;if(e.isInit){var u={type:o,data:i,version:e.getEventTypeVersion(o),options:{}};if((n||e.useDefaultClient)&&e.defaultClient&&e.defaultClient.isInit){var c=e.defaultClient.stateManager.get().testCells;Array.isArray(c)?c.find((function(t){return t.cell===e.user.testGroup}))||e.defaultClient.updateState({testCells:[{layer:s.default.RIO.DEFAULT_APP_ID,cell:e.user.versionName}]}):"object"===(void 0===c?"undefined":r(c))&&null!==typeof c&&(c[s.default.RIO.APP_ID]||e.defaultClient.updateState({testCells:a({},s.default.RIO.DEFAULT_APP_ID,e.user.versionName)})),u.options.endpoint=e.endpoint,e.defaultClient.sendEvent(u)}else{var d=e.rioClient.stateManager.get();e.rioClient.updateState({authState:this.getAuthState()}),e.config.rioExperiments&&!d.experiments&&e.genExperimentsArray()&&e.rioClient.updateState({experiments:e.genExperimentsArray()}),e.user.page&&d.view.view_name!==e.user.page&&e.rioClient.updateState({view:{view_name:e.user.page}}),e.rioClient.sendEvent(u)}}}},{key:"generateVideoEvent",value:function(e){return Object.assign(e,{layout:this.user.layout})}},{key:"generateClickStreamEvent",value:function(t){var n=t.bid,r=t.placement,i=t.auction,u=t.advertiserId,d=(t.eventTimes,t.cheggBidderCpmSource),l=n.renderEnd-i.initTime;l<0&&(l=0);var f=void 0!==d&&n.partnerName===s.default.CHANNEL_NAMES.MD?s.default.LOG_NAMESPACE.CHEGG_BIDDER:"default",p=void 0!==d&&c.default.success,h=c.default.success?Math.abs(c.default.endTime-c.default.initTime):0,m={component_view:{component:{name:r.name,type:"ad slot",id:n.id,region_name:r.name}},content:{metadata:{ad:{won_impression:n.dfpWinner,auction_id:i.id,bid_id:n.id,line_item_id:n.lineItemId?n.lineItemId:-1,creative_id:n.creativeId?n.creativeId:-1,cpm:n.cents/100,channel:n.channel?n.channel:-1,partner:n.partnerName,placement:r.name,layout:this.user.layout?this.user.layout:"unknown",mode:i.mode,is_initial_auction:this.user.isInitialAuction,time_to_auction_end:l,advertiser_id:u||0,cached:i.id!==n.auctionId,floor:n.floor?n.floor:void 0,encoded_cpm:n.nil,time_on_site:o.default.getTime(),cpm_source:f,sbm_id:this.user.sbmId,page_count:this.user.pageCount?this.user.pageCount:-1,size:{px_width:n.width,px_height:n.height},next_bid_partner:n.nextBidPartner,next_bid_cpm:n.nextBidCpm,hit_count:o.default.getGaHitCount(),md_pricing:p,ccpa_applies:this.user.ccpaApplies,gdpr_applies:this.user.gdprApplies,ccpa_consented:this.user.hasOwnProperty("ccpaConsented")?this.user.ccpaConsented:null,gdpr_consented:this.user.hasOwnProperty("gdprConsented")?this.user.gdprConsented:null,time_md_pricing_end:h,refresh_type:this.user.refreshType,has_ats_envelope:this.user.hasAtsEnvelope,response_time:n.responseTime?n.responseTime:null}}}};return e.user.country?m.content.metadata.ad.location=e.user.country:m.content.metadata.ad.location="NA",n.dfpWinner&&(e.winningClickStreamData[i.id]?e.winningClickStreamData[i.id][r.name]=m:e.winningClickStreamData[i.id]=a({},r.name,m)),m}},{key:"getClickStreamAdEventDataByPlacement",value:function(t,n){return e.winningClickStreamData[n]&&e.winningClickStreamData[n][t]?e.winningClickStreamData[n][t]:(o.default.log("Unable to find stored clickstream_ad_data when "+t+" was clicked.",s.default.LOG_NAMESPACE.DATA),null)}},{key:"formatClickstreamInteractionData",value:function(e){return{interaction:{element:e.component_view.component,type:"click"},content:e.content}}},{key:"getClickstreamAdInteractionData",value:function(t,n){var r=e.getClickStreamAdEventDataByPlacement(t,n);return r?e.formatClickstreamInteractionData(r):null}},{key:"getClickstreamInteractionData",value:function(e){return{interaction:{element:{text:e.text,name:e.name,region_name:e.region_name,type:e.type?e.type:"button",value:e.value?e.value:""},type:"click"}}}},{key:"generateVideoClickStreamEvent",value:function(e){var t=o.default.keysToSnakeCase(e);return{component_view:{component:{name:e.placement,type:"video player",id:e.bidId,region_name:e.placement}},content:{content_id:null,content_label:"biblio_id",metadata:{ad:t}}}}},{key:"generateAuctionEvent",value:function(t){var n=o.default.calculatedEventTimes(t.id,!0),r=n.auction_duration,i=n.prebid_duration,a=n.nile_duration,u={id:t.id,refresh_count:t.refreshCount,refresh_type:t.refreshType,mode:t.mode,request_count:t.advPage.headerPlacementCount,impressions:Object.keys(t.advPage.headerPlacements).filter((function(e){return t.advPage.headerPlacements[e].isRendered})).length,expired:t.expired,auction_duration:r,prebid_duration:i,nile_duration:a};e.send({type:s.default.SBM.EVENT_TYPES.AUCTION_EVENT.NAME,data:u})}},{key:"sendUnlockEvent",value:function(t,n){var r=void 0,i={interaction:{type:"click",element:{type:"button"}}};switch(n&&n.demandSource&&(i.interaction.element.value=n.demandSource),t){case s.default.UNLOCK.EVENTS.QUALIFY:o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.EVENTS.QUALIFY}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.UNLOCK.EVENTS.WILL_SEE_MODAL:var a={name:s.default.UNLOCK.EVENTS.WILL_SEE_MODAL,state:"ready"};n&&n.demandSource&&(a.value=n.demandSource),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_SUCCESS.NAME,data:a};break;case s.default.UNLOCK.EVENTS.SHOWN_MODAL:var u={component_view:{component:{name:s.default.UNLOCK.RSW.CONTINUE_CITING,type:"component"}}};n&&n.demandSource&&(u.component_view.component.value=n.demandSource),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_COMPONENT_VIEW.NAME,data:u};break;case s.default.UNLOCK.EVENTS.CLICK_WATCH_VIDEO:e.appSendsInitialUnlockEvents||(o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.RSW.SPONSORED_MESSAGE,region_name:s.default.UNLOCK.RSW.REGION}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i});break;case s.default.UNLOCK.EVENTS.COMPLETED_MODAL:o.default.deepMerge(i,{interaction:{element:{name:s.default.UNLOCK.RSW.DONE,region_name:s.default.UNLOCK.RSW.REGION}}}),r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:i};break;case s.default.VIDEO_EVENTS.IMPRESSION:var c=e.transformImpressionData(n.data),d=e.generateVideoClickStreamEvent(c);r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:d};break;case s.default.VIDEO_EVENTS.CLICK:var l=e.transformImpressionData(n.data),f=e.generateVideoClickStreamEvent(l),p=e.formatClickstreamInteractionData(f);r={type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:p};break;default:o.default.log("No case for unlock event: "+t,s.default.LOG_NAMESPACE.DATA)}r&&e.send(r,!0)}},{key:"transformImpressionData",value:function(e){for(var t in d.forEach((function(t){delete e[t]})),l)e.hasOwnProperty(t)||(e[""+t]=l[""+t]);return e}},{key:"generatePerformanceIndex",value:function(t,n){var r={event_name:t,placement:n.name,layout:this.user.layout,page:this.user.page,page_count:this.user.pageCount?this.user.pageCount:-1,mode:n.auction.mode,location:this.user.country,sbm_id:this.user.sbmId};if(t!==s.default.PERFORMANCE_EVENTS.INIT){var i=e.getClickStreamAdEventDataByPlacement(n.name,n.auction.id);if(i){var a=i.content.metadata.ad;r.partner=a.partner,r.cpm=a.cpm,r.line_item_id=a.line_item_id}}"D_VID"!==n.name&&e.send({type:s.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME,data:r})}},{key:"genExperimentsArray",value:function(){var e=o.default.getOptimizelyKvps();return e.length?e.map((function(e){return{experiment_id:e.experiment,variant_id:e.variation}})):null}}]),e})();f.winningClickStreamData={},f.isInit=!1,t.default=f}),(function(e,t,n){var r=n(9),i=n(31);e.exports=n(16)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}}),(function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}}),(function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),o=["US","CA","AU","MY","IN","PH","NL","MX","ZA","CO","BR","TR","SG"],s="iab",u={gdprLoadingThroughAdvantage:!1,consentStringPromise:null,uspDataPromise:null,tcData:null,uspData:null,goog:!1,handlerSet:!1,tcfLoaded:!1,getConsentStringPromise:function(){return u.consentStringPromise?u.consentStringPromise:(u.consentStringPromise=new Promise((function(e){try{i.default.log("GDPR applies. Attempting to get consent string.",a.default.LOG_NAMESPACE.CONSENT);var t=0,n=setInterval((function(){if(t+=1,window.__sbmNoGdpr)u.tcData={gdprApplies:!1},clearInterval(n),e();else if(window.__tcfapi&&window.OneTrust&&!u.handlerSet){window.OptanonActiveGroups.match(/,goog,/)?u.goog=!0:u.goog=!1,window.OneTrust.OnConsentChanged((function(e,t,n){window.OptanonActiveGroups.match(/,goog,/)?u.goog=!0:u.goog=!1}));var r=window.OneTrust.getGeolocationData();r&&o.indexOf(r.country)>=0&&(u.tcData={gdprApplies:!1},e());u.handlerSet||(window.__tcfapi("addEventListener",2,(function(t,r){u.tcData=t,"useractioncomplete"!==t.eventStatus&&"tcloaded"!==t.eventStatus||(u.tcfLoaded=!0,clearInterval(n),e())})),u.handlerSet=!0)}else t>=50&&(i.default.log("Optanon Cookie not found after 50 retries. Resolving consent string promise.",a.default.LOG_NAMESPACE.CONSENT),clearInterval(n),e())}),100)}catch(t){i.default.throw("Error polling for Optanon Cookie",t),e()}})),u.consentStringPromise)},getUspDataPromise:function(){return u.uspDataPromise?u.uspDataPromise:(u.uspDataPromise=new Promise((function(e){try{i.default.log("CCPA applies. Attempting to get uspData.",a.default.LOG_NAMESPACE.CONSENT);var t=0,n=setInterval((function(){t+=1,c()?!u.uspData&&window.__uspapi?window.__uspapi("getUSPData",1,(function(t,r){r&&(u.uspData=t,clearInterval(n),e())})):t>=50&&(i.default.log("UspData not found after 50 retries. Resolving uspData promise.",a.default.LOG_NAMESPACE.CONSENT),clearInterval(n),e()):(u.uspData={uspString:"1--"},clearInterval(n),e())}),100)}catch(t){i.default.throw("Error fetching uspData",t),e()}})),u.uspDataPromise)}};t.IabConsent=u;var c=function(){return!!window.__sbmRegion&&"CA"===window.__sbmRegion};t.getCcpaApplies=c;var d=function(){return new Promise((function(e){try{u.getConsentStringPromise().then((function(){e(l())}))}catch(t){i.default.throw("Error getting consent string",t),e(l())}}))};t.getConsentString=d;var l=function(){return{consentData:u.tcData?u.tcData.tcString:null,gdprApplies:u.tcData?u.tcData.gdprApplies:null,hasGlobalScope:!1}};t.getCMPValues=l;var f=function(){return{version:u.uspData?u.uspData.version:null,uspString:u.uspData?u.uspData.uspString:null}};t.userConfiguredConsent=function(){return u.tcData&&"useractioncomplete"===u.tcData.eventStatus||"tcloaded"};t.userAllowsPersonalAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,d();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&u.tcData.purpose.consents[4]||!t.gdprApplies);case 6:case"end":return e.stop()}}),e,this)})))};t.userAllowsAnalytics=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(m()){e.next=2;break}return e.abrupt("return",!0);case 2:return e.next=4,d();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&u.tcData.purpose.consents[8]||!t.gdprApplies);case 6:case"end":return e.stop()}}),e,this)})))};t.consentSignalForGooglePersonalizedAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.tcfLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&h()&&p()&&u.tcData.purpose.consents[3]&&u.tcData.purpose.consents[4]);case 6:case"end":return e.stop()}}),e,this)})))};t.consentSignalForGoogleNonPersonalizedAds=function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.tcfLoaded){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,d();case 4:return t=e.sent,e.abrupt("return",t.gdprApplies&&h()&&p());case 6:case"end":return e.stop()}}),e,this)})))};var p=function(){return u.tcData.purpose.consents[1]||!1},h=function(){return u.tcData.vendor.consents[755]||!1};t.getUspData=function(){return new Promise((function(e){try{u.getUspDataPromise().then((function(){e(f())}))}catch(t){i.default.throw("Error getting uspData object",t),e(f())}}))};var m=function(){return!window.__sbmNoGdpr&&(!u.tcData||u.tcData.gdprApplies)};t.getGdprApplies=m;t.loadGdprEndpoint=function(e){if(e.gdpr&&e.gdpr.loadScript){u.gdprLoadingThroughAdvantage=!0;var t=[];e.gdpr.endpoint?t=[e.gdpr.endpoint]:e.gdpr.endpoints&&(t=e.gdpr.endpoints),t.forEach((function(e){var t="string"==typeof e?{url:e,attributes:null}:{url:e.url,attributes:e.attributes},n=t.url,r=t.attributes;i.default.launchScript(n,(function(){i.default.log("gdpr endpoint launched",a.default.LOG_NAMESPACE.CONSENT)}),(function(){i.default.throw("Launching gdpr endpoint failed")}),{},r)}))}};t.patch=function(){if(window.__sbmNoGdpr){var e=window.__tcfapi;window.__tcfapi=function(t,n,r){"getTCData"===t||"addEventListener"===t||"ping"===t?r({cmpId:123,cmpVersion:2,gdprApplies:!1,tcfPolicyVersion:2,eventStatus:"tcloaded",cmpStatus:"loaded"},!0):"removeEventListener"===t?r(!0):e(t,n,r)}}};t.createPrebidConsentManagementConfig=function(e,t){return m()?{consentManagement:{gdpr:{cmpApi:s,timeout:e.timeout?e.timeout:t,defaultGdprScope:!0}}}:{consentManagement:{usp:{timeout:e.timeout?e.timeout:t}}}}}),(function(e,t,n){var r=n(70),i=n(36);e.exports=function(e){return r(i(e))}}),(function(e,t,n){var r=n(0),i=n(30),a=n(8);e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],o={};o[e]=t(n),r(r.S+r.F*a((function(){n(1)})),"Object",o)}}),(function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(20);function s(e){return""+i.default.SITE.PREFIX+e}var u={getItem:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e)return null;var n=t?i.default.PREFIX+e:e;return decodeURIComponent(document.cookie.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null},setItem:function(e,t,n,a,s){return r(this,void 0,void 0,regeneratorRuntime.mark((function r(){var u,c,d;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,o.userAllowsAnalytics();case 2:if(r.sent){r.next=5;break}return r.abrupt("return",!1);case 5:if(e&&!/^(?:expires|max\-age|path|domain|secure)$/i.test(e)){r.next=7;break}return r.abrupt("return",!1);case 7:if(u="",n||(c=new Date,18e5,c.setTime(c.getTime()+18e5),n=c.toUTCString()),!n){r.next=19;break}r.t0=n.constructor,r.next=r.t0===Number?13:r.t0===String?15:r.t0===Date?17:19;break;case 13:return u=n===1/0?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+n,r.abrupt("break",19);case 15:return u="; expires="+n,r.abrupt("break",19);case 17:return u="; expires="+n.toUTCString(),r.abrupt("break",19);case 19:return d=i.default.PREFIX+e,document.cookie=encodeURIComponent(d)+"="+encodeURIComponent(t)+u+(s?"; domain="+s:"")+(a?"; path="+a:"")+"; SameSite=none; secure",r.abrupt("return",!0);case 22:case"end":return r.stop()}}),r,this)})))},removeItem:function(e,t,n,r){if(!this.hasItem(e,r))return!1;var a=r?e:i.default.PREFIX+e;return document.cookie=encodeURIComponent(a)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(n?"; domain="+n:"")+(t?"; path="+t:""),!0},hasItem:function(e,t){if(!e)return!1;var n=t?e:i.default.PREFIX+e;return new RegExp("(?:^|;\\s*)"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(document.cookie)},keys:function(){for(var e=document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),t=e.length,n=0;n<t;n++)e[n]=decodeURIComponent(e[n]);return e}};t.default={setTestGroup:function(e,t,n){if(!e)return t.replace(/.*((?:\w|\d{1,2})-(?:test|control)).*/,"$1");var r=i.default.COOKIE.A_B_TEST,o=n||u.getItem(r),s=void 0;if(o){var c=e.find((function(e){return e.name===o}));if(c)if(c.session)s=o;else{var d=0,l=[],f=!0,p=!1,h=void 0;try{for(var m,g=e[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var v=m.value;v.traffic>0&&(v.session?d+=v.traffic:l.push(a.default.copy(v)))}}catch(e){p=!0,h=e}finally{try{!f&&g.return&&g.return()}finally{if(p)throw h}}if(d>0&&l.length>0){var y=1-d;e=l.map((function(e){return e.traffic+=e.traffic/y*d,e}))}}else s="error"}if(!s){var b=Math.random(),E=0,_=!0,S=!1,A=void 0;try{for(var w,O=e[Symbol.iterator]();!(_=(w=O.next()).done);_=!0){var I=w.value;if(!(E<b||0===E))break;E+=I.traffic,s=I.name}}catch(e){S=!0,A=e}finally{try{!_&&O.return&&O.return()}finally{if(S)throw A}}}return u.setItem(r,s,null,i.default.PATH,i.default.DOMAIN),s},getTestCellVariant:function(){var e=i.default.COOKIE.A_B_TEST;return u.getItem(e)},checkAdBlockWhiteListed:function(){var e=i.default.COOKIE.WHITELISTED;return"true"===u.getItem(e)},verifyTestGroup:function(e){var t=i.default.COOKIE.A_B_TEST,n=u.getItem(t);e.find((function(e){return e.name===n}))||(u.removeItem(t,i.default.PATH,i.default.DOMAIN),u.removeItem(t,i.default.PATH,"."+i.default.SITE.HOSTNAME))},setAdBlockDetected:function(){var e=s("abd");return u.setItem(e,"true",1/0,i.default.PATH,i.default.DOMAIN),!0},getAdBlockDetected:function(){return"true"===u.getItem(s("abd"))},beenThanked:function(){return"true"===u.getItem(s("been_thanked"))},setAdBlockWhitelistedTrue:function(){var e=i.default.COOKIE.WHITELISTED;u.setItem(e,"true",null,i.default.PATH,i.default.DOMAIN)},docCookies:u,getOptanonConsent:function(){return u.getItem(i.default.COOKIE.OPTANON_CONSENT,!1)},getEUConsent:function(){return u.getItem(i.default.COOKIE.EU_PUB_CONSENT,!1)},getCountry:function(){return u.getItem(i.default.COOKIE.COUNTRY)},setCountry:function(e){u.setItem(i.default.COOKIE.COUNTRY,e,1/0,i.default.PATH,i.default.DOMAIN)},getDma:function(){return u.getItem(i.default.COOKIE.DMA)},setDma:function(e){u.setItem(i.default.COOKIE.DMA,e,1/0,i.default.PATH,i.default.DOMAIN)},getTruexUserId:function(){return u.getItem(i.default.COOKIE.TRUEX_USER_ID)},setTruexUserId:function(e){return u.setItem(i.default.COOKIE.TRUEX_USER_ID,e,1/0,i.default.PATH,i.default.DOMAIN)},getPreviousTruexGcs:function(){return u.getItem(i.default.COOKIE.PREVIOUS_TRUEX_GCS)},setPreviousTruexGcs:function(e){var t=new Date,n=e||2592e5;return t.setTime(t.getTime()+n),u.setItem(i.default.COOKIE.PREVIOUS_TRUEX_GCS,"true",t.toUTCString(),i.default.PATH,i.default.DOMAIN)},setViewedUnlock:function(e){var t=new Date,n=isNaN(e)?2592e5:e;return t.setTime(t.getTime()+n),u.setItem(i.default.COOKIE.VIEWED_UNLOCK_SESSION,!0,t.toUTCString(),i.default.PATH,i.default.DOMAIN)},getViewedUnlock:function(){return u.getItem(i.default.COOKIE.VIEWED_UNLOCK_SESSION)},removeAdLiteStandard:function(){return u.removeItem(i.default.COOKIE.AD_LITE_STANDARD,i.default.PATH,i.default.DOMAIN)},nsDebug:function(e){return e?"off"===e?u.removeItem("ns_debug",i.default.PATH,i.default.DOMAIN):u.setItem("ns_debug",e,1/0,i.default.PATH,i.default.DOMAIN):u.getItem("ns_debug")},archieRadar:function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return(n=new Date).setTime(n.getTime()+18e5),t.next=5,u.setItem("archie_radar",e,n.toUTCString(),i.default.PATH,i.default.DOMAIN);case 5:return t.abrupt("return",t.sent);case 6:return t.abrupt("return",u.getItem("archie_radar"));case 7:case"end":return t.stop()}}),t,this)})))},bypassAdsCookie:function(e){if(e){var t=new Date;return t.setTime(t.getTime()+27e5),u.setItem("bypass_ads",e,t.toUTCString(),i.default.PATH,i.default.DOMAIN),e}return u.getItem("bypass_ads")},removeAtsCookies:function(){return["idl_env","_lr_env"].forEach((function(e){u.removeItem(e,i.default.PATH,null,!0)})),!0}}}),(function(e,t,n){var r=n(33);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}}),(function(e,t,n){var r=n(36);e.exports=function(e){return Object(r(e))}}),(function(e,t,n){"use strict";if(n(16)){var r=n(34),i=n(4),a=n(8),o=n(0),s=n(69),u=n(91),c=n(24),d=n(40),l=n(31),f=n(18),p=n(39),h=n(35),m=n(11),g=n(92),v=n(42),y=n(48),b=n(19),E=n(77),_=n(3),S=n(25),A=n(78),w=n(50),O=n(45),I=n(49).f,C=n(79),T=n(32),P=n(7),x=n(51),k=n(71),N=n(76),D=n(80),R=n(44),j=n(59),M=n(58),B=n(75),U=n(98),L=n(9),V=n(27),F=L.f,G=V.f,q=i.RangeError,z=i.TypeError,W=i.Uint8Array,H=Array.prototype,K=u.ArrayBuffer,Y=u.DataView,$=x(0),J=x(2),X=x(3),Q=x(4),Z=x(5),ee=x(6),te=k(!0),ne=k(!1),re=D.values,ie=D.keys,ae=D.entries,oe=H.lastIndexOf,se=H.reduce,ue=H.reduceRight,ce=H.join,de=H.sort,le=H.slice,fe=H.toString,pe=H.toLocaleString,he=P("iterator"),me=P("toStringTag"),ge=T("typed_constructor"),ve=T("def_constructor"),ye=s.CONSTR,be=s.TYPED,Ee=s.VIEW,_e=x(1,(function(e,t){return Ie(N(e,e[ve]),t)})),Se=a((function(){return 1===new W(new Uint16Array([1]).buffer)[0]})),Ae=!!W&&!!W.prototype.set&&a((function(){new W(1).set({})})),we=function(e,t){var n=h(e);if(n<0||n%t)throw q("Wrong offset!");return n},Oe=function(e){if(_(e)&&be in e)return e;throw z(e+" is not a typed array!")},Ie=function(e,t){if(!(_(e)&&ge in e))throw z("It is not a typed array constructor!");return new e(t)},Ce=function(e,t){return Te(N(e,e[ve]),t)},Te=function(e,t){for(var n=0,r=t.length,i=Ie(e,r);r>n;)i[n]=t[n++];return i},Pe=function(e,t,n){F(e,t,{get:function(){return this._d[n]}})},xe=function(e){var t,n,r,i,a,o,s=S(e),u=arguments.length,d=u>1?arguments[1]:void 0,l=void 0!==d,f=C(s);if(null!=f&&!A(f)){for(o=f.call(s),r=[],t=0;!(a=o.next()).done;t++)r.push(a.value);s=r}for(l&&u>2&&(d=c(d,arguments[2],2)),t=0,n=m(s.length),i=Ie(this,n);n>t;t++)i[t]=l?d(s[t],t):s[t];return i},ke=function(){for(var e=0,t=arguments.length,n=Ie(this,t);t>e;)n[e]=arguments[e++];return n},Ne=!!W&&a((function(){pe.call(new W(1))})),De=function(){return pe.apply(Ne?le.call(Oe(this)):Oe(this),arguments)},Re={copyWithin:function(e,t){return U.call(Oe(this),e,t,arguments.length>2?arguments[2]:void 0)},every:function(e){return Q(Oe(this),e,arguments.length>1?arguments[1]:void 0)},fill:function(e){return B.apply(Oe(this),arguments)},filter:function(e){return Ce(this,J(Oe(this),e,arguments.length>1?arguments[1]:void 0))},find:function(e){return Z(Oe(this),e,arguments.length>1?arguments[1]:void 0)},findIndex:function(e){return ee(Oe(this),e,arguments.length>1?arguments[1]:void 0)},forEach:function(e){$(Oe(this),e,arguments.length>1?arguments[1]:void 0)},indexOf:function(e){return ne(Oe(this),e,arguments.length>1?arguments[1]:void 0)},includes:function(e){return te(Oe(this),e,arguments.length>1?arguments[1]:void 0)},join:function(e){return ce.apply(Oe(this),arguments)},lastIndexOf:function(e){return oe.apply(Oe(this),arguments)},map:function(e){return _e(Oe(this),e,arguments.length>1?arguments[1]:void 0)},reduce:function(e){return se.apply(Oe(this),arguments)},reduceRight:function(e){return ue.apply(Oe(this),arguments)},reverse:function(){for(var e,t=Oe(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this},some:function(e){return X(Oe(this),e,arguments.length>1?arguments[1]:void 0)},sort:function(e){return de.call(Oe(this),e)},subarray:function(e,t){var n=Oe(this),r=n.length,i=v(e,r);return new(N(n,n[ve]))(n.buffer,n.byteOffset+i*n.BYTES_PER_ELEMENT,m((void 0===t?r:v(t,r))-i))}},je=function(e,t){return Ce(this,le.call(Oe(this),e,t))},Me=function(e){Oe(this);var t=we(arguments[1],1),n=this.length,r=S(e),i=m(r.length),a=0;if(i+t>n)throw q("Wrong length!");for(;a<i;)this[t+a]=r[a++]},Be={entries:function(){return ae.call(Oe(this))},keys:function(){return ie.call(Oe(this))},values:function(){return re.call(Oe(this))}},Ue=function(e,t){return _(e)&&e[be]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Le=function(e,t){return Ue(e,t=y(t,!0))?l(2,e[t]):G(e,t)},Ve=function(e,t,n){return!(Ue(e,t=y(t,!0))&&_(n)&&b(n,"value"))||b(n,"get")||b(n,"set")||n.configurable||b(n,"writable")&&!n.writable||b(n,"enumerable")&&!n.enumerable?F(e,t,n):(e[t]=n.value,e)};ye||(V.f=Le,L.f=Ve),o(o.S+o.F*!ye,"Object",{getOwnPropertyDescriptor:Le,defineProperty:Ve}),a((function(){fe.call({})}))&&(fe=pe=function(){return ce.call(this)});var Fe=p({},Re);p(Fe,Be),f(Fe,he,Be.values),p(Fe,{slice:je,set:Me,constructor:function(){},toString:fe,toLocaleString:De}),Pe(Fe,"buffer","b"),Pe(Fe,"byteOffset","o"),Pe(Fe,"byteLength","l"),Pe(Fe,"length","e"),F(Fe,me,{get:function(){return this[be]}}),e.exports=function(e,t,n,u){var c=e+((u=!!u)?"Clamped":"")+"Array",l="get"+e,p="set"+e,h=i[c],v=h||{},y=h&&O(h),b=!h||!s.ABV,S={},A=h&&h.prototype,C=function(e,n){F(e,n,{get:function(){return (function(e,n){var r=e._d;return r.v[l](n*t+r.o,Se)})(this,n)},set:function(e){return (function(e,n,r){var i=e._d;u&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.v[p](n*t+i.o,r,Se)})(this,n,e)},enumerable:!0})};b?(h=n((function(e,n,r,i){d(e,h,c,"_d");var a,o,s,u,l=0,p=0;if(_(n)){if(!(n instanceof K||"ArrayBuffer"==(u=E(n))||"SharedArrayBuffer"==u))return be in n?Te(h,n):xe.call(h,n);a=n,p=we(r,t);var v=n.byteLength;if(void 0===i){if(v%t)throw q("Wrong length!");if((o=v-p)<0)throw q("Wrong length!")}else if((o=m(i)*t)+p>v)throw q("Wrong length!");s=o/t}else s=g(n),a=new K(o=s*t);for(f(e,"_d",{b:a,o:p,l:o,e:s,v:new Y(a)});l<s;)C(e,l++)})),A=h.prototype=w(Fe),f(A,"constructor",h)):a((function(){h(1)}))&&a((function(){new h(-1)}))&&j((function(e){new h,new h(null),new h(1.5),new h(e)}),!0)||(h=n((function(e,n,r,i){var a;return d(e,h,c),_(n)?n instanceof K||"ArrayBuffer"==(a=E(n))||"SharedArrayBuffer"==a?void 0!==i?new v(n,we(r,t),i):void 0!==r?new v(n,we(r,t)):new v(n):be in n?Te(h,n):xe.call(h,n):new v(g(n))})),$(y!==Function.prototype?I(v).concat(I(y)):I(v),(function(e){e in h||f(h,e,v[e])})),h.prototype=A,r||(A.constructor=h));var T=A[he],P=!!T&&("values"==T.name||null==T.name),x=Be.values;f(h,ge,!0),f(A,be,c),f(A,Ee,!0),f(A,ve,h),(u?new h(1)[me]==c:me in A)||F(A,me,{get:function(){return c}}),S[c]=h,o(o.G+o.W+o.F*(h!=v),S),o(o.S,c,{BYTES_PER_ELEMENT:t}),o(o.S+o.F*a((function(){v.of.call(h,1)})),c,{from:xe,of:ke}),"BYTES_PER_ELEMENT"in A||f(A,"BYTES_PER_ELEMENT",t),o(o.P,c,Re),M(c),o(o.P+o.F*Ae,c,{set:Me}),o(o.P+o.F*!P,c,Be),r||A.toString==fe||(A.toString=fe),o(o.P+o.F*a((function(){new h(1).slice()})),c,{slice:je}),o(o.P+o.F*(a((function(){return[1,2].toLocaleString()!=new h([1,2]).toLocaleString()}))||!a((function(){A.toLocaleString.call([1,2])}))),c,{toLocaleString:De}),R[c]=P?T:x,r||P||f(A,he,x)}}else e.exports=function(){}}),(function(e,t,n){var r=n(52),i=n(31),a=n(21),o=n(48),s=n(19),u=n(90),c=Object.getOwnPropertyDescriptor;t.f=n(16)?c:function(e,t){if(e=a(e),t=o(t,!0),u)try{return c(e,t)}catch(e){}if(s(e,t))return i(!r.f.call(e,t),e[t])}}),(function(e,t,n){var r=n(4),i=n(18),a=n(19),o=n(32)("src"),s=Function.toString,u=(""+s).split("toString");n(30).inspectSource=function(e){return s.call(e)},(e.exports=function(e,t,n,s){var c="function"==typeof n;c&&(a(n,"name")||i(n,"name",t)),e[t]!==n&&(c&&(a(n,o)||i(n,o,e[t]?""+e[t]:u.join(String(t)))),e===r?e[t]=n:s?e[t]?e[t]=n:i(e,t,n):(delete e[t],i(e,t,n)))})(Function.prototype,"toString",(function(){return"function"==typeof this&&this[o]||s.call(this)}))}),(function(e,t,n){var r=n(32)("meta"),i=n(3),a=n(19),o=n(9).f,s=0,u=Object.isExtensible||function(){return!0},c=!n(8)((function(){return u(Object.preventExtensions({}))})),d=function(e){o(e,r,{value:{i:"O"+ ++s,w:{}}})},l=e.exports={KEY:r,NEED:!1,fastKey:function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[r].i},getWeak:function(e,t){if(!a(e,r)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[r].w},onFreeze:function(e){return c&&l.NEED&&u(e)&&!a(e,r)&&d(e),e}}}),(function(e,t){var n=e.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)}),(function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}}),(function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}}),(function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}}),(function(e,t){e.exports=!1}),(function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}}),(function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}}),(function(e,t,n){var r=n(93),i=n(74);e.exports=Object.keys||function(e){return r(e,i)}}),(function(e,t){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}}),(function(e,t,n){var r=n(28);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}}),(function(e,t){e.exports=function(e,t,n,r){if(!(e instanceof t)||void 0!==r&&r in e)throw TypeError(n+": incorrect invocation!");return e}}),(function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}}),(function(e,t,n){var r=n(35),i=Math.max,a=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):a(e,t)}}),(function(e,t,n){var r=n(9).f,i=n(19),a=n(7)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}}),(function(e,t){e.exports={}}),(function(e,t,n){var r=n(19),i=n(25),a=n(72)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}}),(function(e,t,n){var r=n(7)("unscopables"),i=Array.prototype;null==i[r]&&n(18)(i,r,{}),e.exports=function(e){i[r][e]=!0}}),(function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}}),(function(e,t,n){var r=n(3);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}}),(function(e,t,n){var r=n(93),i=n(74).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}}),(function(e,t,n){var r=n(5),i=n(149),a=n(74),o=n(72)("IE_PROTO"),s=function(){},u=function(){var e,t=n(68)("iframe"),r=a.length;for(t.style.display="none",n(94).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;r--;)delete u.prototype[a[r]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(s.prototype=r(e),n=new s,s.prototype=null,n[o]=e):n=u(),void 0===t?n:i(n,t)}}),(function(e,t,n){var r=n(24),i=n(70),a=n(25),o=n(11),s=n(150);e.exports=function(e,t){var n=1==e,u=2==e,c=3==e,d=4==e,l=6==e,f=5==e||l,p=t||s;return function(t,s,h){for(var m,g,v=a(t),y=i(v),b=r(s,h,3),E=o(y.length),_=0,S=n?p(t,E):u?p(t,0):void 0;E>_;_++)if((f||_ in y)&&(g=b(m=y[_],_,v),e))if(n)S[_]=g;else if(g)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:S.push(m)}else if(d)return!1;return l?-1:c||d?d:S}}}),(function(e,t){t.f={}.propertyIsEnumerable}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.getAdobeDataStatus=t.getAdobeData=t.init=t.parseAdobeCookie=t.getAdobeCookie=t.reset=t.extractCookies=t.extractMcid=t.fetchFromRemote=t.getCacheBuster=void 0;var i=r(n(54)),a=r(n(55)),o=n(13),s=r(n(14)),u=r(n(124)),c=n(10),d=r(n(297)),l=n(67);function f(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=n(66),m=function(e){var t=Math.floor(1e9*Math.random()),n=e.indexOf("?")>-1?"&":"?";return"".concat(n).concat(o.ADOBE.cacheBuster,"=").concat(t)};t.getCacheBuster=m;var g=(function(){var e=(0,a.default)(i.default.mark((function e(t){var n,r,a,c,d,l,p,g,y;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,r=null,e.prev=2,c=m(t),e.next=6,(0,u.default)({url:"".concat(t).concat(c),options:{withCredentials:!0},retries:o.MCID_REQUEST_RETRIES});case 6:if(!((d=e.sent)instanceof Error)){e.next=9;break}throw d;case 9:if(n=v(d),(r=b(d))&&r.length>0){l=f(r);try{for(l.s();!(p=l.n()).done;)(g=p.value).name&&!h.get(g.name)&&h.set(g.name,g.value)}catch(e){l.e(e)}finally{l.f()}}e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),a=e.t0;case 17:return n||((y=a||new Error).message="Failed to gather MCID from ".concat(t,". ").concat(y.message),s.default.error(y)),e.abrupt("return",n);case 19:case"end":return e.stop()}}),e,null,[[2,14]])})));return function(t){return e.apply(this,arguments)}})();t.fetchFromRemote=g;var v=function e(t){var n=t.data,r=null;return"d_mid"in n?r=n.d_mid:"mcid"in n?r=n.mcid:"data"in n&&(r=e(n)),r};t.extractMcid=v;var y,b=function e(t){var n=t.data;return"data"in n?e(n):"cookies"in n?n.cookies:null};t.extractCookies=b;var E=new Promise((function(e){y=function(t){_="resolved",e(t)}})),_="uninitialized",S=function(){E=new Promise((function(e){y=function(t){e(t)}}))};t.reset=S;t.getAdobeCookie=function(){if(!O()){var e=h.get(o.ADOBE.cookieName);return A(e)||void 0}};var A=function(e){try{var t=decodeURI(e).split("|"),n=t.indexOf("MCMID");return-1!==n?t[n+1]:null}catch(e){return null}};t.parseAdobeCookie=A;var w=function(e){return e&&"null"!==e},O=function(){return window.location.href.includes("rsw_disable_adobe_cookie")},I=(function(){var e=(0,a.default)(i.default.mark((function e(){var t,n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_="pending",t=null,!(0,c.noWindow)()){e.next=4;break}return e.abrupt("return",{mcid:null});case 4:if((n=h.get(o.ADOBE.cookieName))&&(s.default.log("AMCV cookie is present"),t=A(n)),w(t)){e.next=11;break}return s.default.log("AMCV cookie not available, hitting demdex"),e.next=10,g(o.ADOBE.demdexUrl);case 10:t=e.sent;case 11:return w(t)||(s.default.log("Demdex failed"),t=h.get(o.ADOBE.fallbackCookieName),w(t)||(s.default.log("No local cookie, generating local cookie"),t=(0,d.default)(),h.set(o.ADOBE.fallbackCookieName,t,{domain:".".concat((0,l.getRootDomain)(window.location.href))})),r="MCMID|".concat(t),s.default.log("setting local s_ecid cookie",r,o.ADOBE.adobeFallbackCookieName),h.set(o.ADOBE.adobeFallbackCookieName,r,{domain:".".concat((0,l.getRootDomain)(window.location.href))})),t=t,h.set(o.ADOBE.legacyCookieName,t),y({mcid:t}),e.abrupt("return",{mcid:t});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})();t.init=I;var C=function(){return E};t.getAdobeData=C;var T=function(){return _};t.getAdobeDataStatus=T;var P={getAdobeData:C,getAdobeDataStatus:T,init:I,parseAdobeCookie:A,reset:S,extractCookies:b,extractMcid:v,fetchFromRemote:g};t.default=P}),(function(e,t,n){e.exports=n(273)}),(function(e,t){function n(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,a){var o=e.apply(t,r);function s(e){n(o,i,a,s,u,"next",e)}function u(e){n(o,i,a,s,u,"throw",e)}s(void 0)}))}}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(57),o=n(1),s=(function(){function e(t){var n=t.auction,r=t.config,i=t.partnerName,a=t.partnerConfig;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.auction=n,this.config=r,this.partnerConfig=a,this.partnerName=i,this.name=i,this.alias=i.substring(0,3),this.request={},this.response={},this.allBidPredictions={},this.bidPrediction={},this.bidFloor={},this.minBidFloor={},this.launchTime=o.default.getTime(),this.duration=1/0,this.responseTime=1/0,this.expectedResponseCount={},this.launchOrder=-1,this.useRenderFunction=!1,this.skipWaiting=!1}return r(e,[{key:"shouldRun",value:function(e,t){return t=t.toLowerCase(),this.partnerConfig.run[e][t]}},{key:"setBidFloor",value:function(e,t){var n=t||{dollars:.1};return this.partnerConfig.bidAdjustment&&(this.partnerConfig.bidAdjustment.revShare&&(n.dollars=n.dollars/(1-this.partnerConfig.bidAdjustment.revShare)),this.partnerConfig.bidAdjustment.discrepancy&&(n.dollars=n.dollars/(1-this.partnerConfig.bidAdjustment.discrepancy))),n.cents=this.convertCpmToCents(n.dollars),n.dollars=n.cents/100,this.bidFloor[e]=n}},{key:"setMinBidFloor",value:function(){var e=this,t=Object.keys(this.bidFloor);if(t.length>0){var n=t.sort((function(t,n){var r=e.bidFloor[t].dollars,i=e.bidFloor[n].dollars;return null===r||isNaN(r)||0===r?1:null===i||isNaN(i)||0===i?-1:r-i}))[0],r=this.bidFloor[n];for(var a in this.minBidFloor=o.default.copy(r),this.minBidFloor.algorithm=i.default.NO_DATA,this.minBidFloor.type="min_bid_floor",this.minBidFloor.partnerSource=r.partnerSource||i.default.NO_DATA,this.minBidFloor.placementSource=r.placementSource||n,this.bidFloor)this.bidFloor.hasOwnProperty(a)&&0===this.bidFloor[a].dollars&&(this.bidFloor[a]=this.minBidFloor)}else this.minBidFloor={dollars:0,algorithm:i.default.NO_DATA,partnerSource:i.default.NO_DATA,placementSource:i.default.NO_DATA,type:i.default.NO_DATA};return this.minBidFloor}},{key:"formBidRequest",value:function(e){var t=e.getViewportWidth(),n=e.name;if(n in this.partnerConfig.placements&&Array.isArray(this.partnerConfig.placements[n])){var r=this.partnerConfig.placements[n].filter(this.filterBidRequests.bind(this,e,t));this.formatForPlacement(n,r,e),this.expectedResponseCount[n]=(this.request[n]||[]).length,this.response[n]=this.createBid(n)}}},{key:"filterBidRequests",value:function(e,t,n){return null!==this.getRequestId(n)&&this.shouldRequestSize(n.size,e.placementConfig.sizes,t)}},{key:"addBidResponse",value:function(e,t,n){var r=parseFloat((o.default.getTime()-this.launchTime).toFixed(3)),a="boolean"==typeof n?n:this.auction.getPlacement(e).isComplete;t.responseTime=r,t.lateResponse=a;var s=this.response[e];(!s||s.status===i.default.BID_STATUS.WAITING||s.dollars<t.dollars)&&(this.response[e]=t)}},{key:"updateCpm",value:function(e,t){this.response[e].updateCpm(t)}},{key:"createBid",value:function(e,t){return t=isNaN(t)?0:parseFloat(t),new a.default({id:o.default.genUUID(),partnerName:this.name,partnerAlias:this.alias,placementName:e,status:i.default.BID_STATUS.WAITING,cpm:t,launchOrder:this.launchOrder,launchTime:this.launchTime,bidAdjustment:this.partnerConfig.bidAdjustment||{},useRenderFunction:this.useRenderFunction,auctionId:this.auction.id})}},{key:"shouldRequestSize",value:function(e,t,n){if(!e)return!0;if(e[0]<=n){var r=!0,i=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(e[0]===u[0]&&e[1]===u[1])return!0}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}}return!1}},{key:"shouldRequestSizes",value:function(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var u=o.value;if(!this.shouldRequestSize(u,t,n))return!1}}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return!0}},{key:"getRequestId",value:function(e){return this.auction.isRefresh&&e.rid?e.rid:!this.auction.isRefresh&&e.sid?e.sid:null}},{key:"getTrackingPixel",value:function(e){if(!e)return"";var t='<div style="position:absolute;left:0;top:0;visibility:hidden;">';return t+='<img src="'+encodeURI(e)+'"></div>'}},{key:"checkAdapterFailed",value:function(e){if(e){var t=new Error(this.name+" got borked");o.default.throw("Partner launch error",t)}return e}},{key:"formatForPlacement",value:function(e,t,n){}},{key:"requestAds",value:function(){}},{key:"launchScript",value:function(){var e=this;this.endpoint?o.default.launchScript(this.endpoint,(function(){return e.launch()}),(function(){})):this.launch()}},{key:"launch",value:function(){this.requestAds()}},{key:"convertCpmToCents",value:function(e){return Math.floor(100*e+1e-11)}},{key:"addClickEventListener",value:function(e,t,n,r){var a=this;try{var s=this;e.$ad?s.addEventListener({placement:e,fluentd:t,partner:s,eventCreativeId:n,user:r}):o.default.onDocReady((function(){e.$ad?s.addEventListener({placement:e,fluentd:t,partner:s,eventCreativeId:n,user:r}):o.default.log("Click Event for "+a.partnerName+" ads failed because $ad was not defined",i.default.LOG_NAMESPACE.WARNING)}))}catch(e){o.default.log("Click Event for "+this.partnerName+" ads failed because "+e.message,i.default.LOG_NAMESPACE.WARNING)}}},{key:"addEventListener",value:function(e){var t=e.placement,n=e.fluentd,r=e.partner,a=e.eventCreativeId,s=e.user,u=t.$ad;if(r.name===i.default.CHANNEL_NAMES.MD)try{u=t.$ad.getElementsByTagName("iframe")[0].contentWindow.document.body}catch(e){u=t.$ad,o.default.log("Getting the div from iframe failed for MD partners: "+e,i.default.LOG_NAMESPACE.WARNING)}u.addEventListener("click",(function(){r.clickCallback(t,n,a,s)}))}},{key:"clickCallback",value:function(e,t,n,r){try{var i=JSON.stringify({partnerName:this.partnerName,creativeId:n,placementName:e.name,layout:r?r.layout:void 0,mode:this.auction.mode,size:e.placementConfig.sizes[0]});o.default.sendDataLayerEvent({eventAction:"Click",eventLabel:i}),t&&t.send("Click",this.auction.id)}catch(e){o.default.throw("Failed to send dataLayer and fluentd send event for partner: "+this.partnerName,e)}}}]),e})();t.default=s}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=(function(){function e(t){var n=t.id,r=t.partnerName,i=t.partnerAlias,a=t.placementName,c=t.status,l=t.cpm,f=t.launchOrder,p=t.launchTime,h=t.bidAdjustment,m=t.useRenderFunction,g=t.auctionId,v=t.format,y=t.prebidBidResponse,b=t.floor;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.width=0,this.height=0,this.headerWinner=!1,this.dfpWinner=!1,this.auctionTimeoutModelScore=null,l=u(l),this.id=n,this.partnerName=r,this.partnerAlias=i,this.placementName=a,this.status=c,this.rawCpm=l,this.rawCents=s(l),this.revShareAdjusted=!!h.revShare,this.discrepancyAdjusted=!!h.discrepancy,this.useRenderFunction=m,this.launchOrder=f,this.launchTime=p,this.dollars=isNaN(l)?0:l;var E=y&&!isNaN(y.originalCpm)?y.originalCpm:this.dollars;this.cpm=o(this.dollars),this.cents=s(this.dollars),this.netCents=s(E),this.pageLevelId=d(),this.auctionId=g,this.initialCents=null,this.initialWinner=null,this.dfpDiscrepancy=0,this.bidAdjustment=h,this.format=v||null,this.renderEnd=null,this.prebidBidResponse=y||null,this.timeStamp=Date.now(),this.floor=this.prebidBidResponse&&b?b:null,this.prebidBidResponse&&(this.responseTime=y.timeToRespond)}return r(e,[{key:"updateCpm",value:function(e){var t=(function(e,t){t&&t.revShare&&(e*=1-t.revShare);return e})(e=u(e),this.bidAdjustment),n=(function(e,t){t&&t.discrepancy&&(e*=1-t.discrepancy);return e})(t,this.bidAdjustment);this.rawCpm=e,this.rawCents=s(e),this.dollars=n,this.cpm=o(n),this.cents=s(n),this.netCents=s(t)}},{key:"_roundBidToBucket",value:function(e){return o(e)}},{key:"setHeight",value:function(e){this.height=u(e)}},{key:"setWidth",value:function(e){this.width=u(e)}}]),e})();function o(e){var t=0;return e>0&&(t=(t=s(e))>1e4?1e4:t),btoa(String(t+95)).replace(/==/,"|2").replace(/=/,"|1")}function s(e){return Math.floor(100*e+1e-11)}function u(e){var t=void 0;return isNaN(e)?(i.default.throw("value does not evaluate to a number"),t=0):t=parseFloat(e),t}var c,d=(c=-1,function(){return++c});t.default=a}),(function(e,t,n){"use strict";var r=n(4),i=n(9),a=n(16),o=n(7)("species");e.exports=function(e){var t=r[e];a&&t&&!t[o]&&i.f(t,o,{configurable:!0,get:function(){return this}})}}),(function(e,t,n){var r=n(7)("iterator"),i=!1;try{var a=[7][r]();a.return=function(){i=!0},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a=[7],o=a[r]();o.next=function(){return{done:n=!0}},a[r]=function(){return o},e(a)}catch(e){}return n}}),(function(e,t,n){var r=n(24),i=n(100),a=n(78),o=n(5),s=n(11),u=n(79),c={},d={};(t=e.exports=function(e,t,n,l,f){var p,h,m,g,v=f?function(){return e}:u(e),y=r(n,l,t?2:1),b=0;if("function"!=typeof v)throw TypeError(e+" is not iterable!");if(a(v)){for(p=s(e.length);p>b;b++)if((g=t?y(o(h=e[b])[0],h[1]):y(e[b]))===c||g===d)return g}else for(m=v.call(e);!(h=m.next()).done;)if((g=i(m,y,h.value,t))===c||g===d)return g}).BREAK=c,t.RETURN=d}),(function(e,t,n){"use strict";var r=n(4),i=n(0),a=n(28),o=n(39),s=n(29),u=n(60),c=n(40),d=n(3),l=n(8),f=n(59),p=n(43),h=n(162);e.exports=function(e,t,n,m,g,v){var y=r[e],b=y,E=g?"set":"add",_=b&&b.prototype,S={},A=function(e){var t=_[e];a(_,e,"delete"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!d(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!d(e)?void 0:t.call(this,0===e?0:e)}:"add"==e?function(e){return t.call(this,0===e?0:e),this}:function(e,n){return t.call(this,0===e?0:e,n),this})};if("function"==typeof b&&(v||_.forEach&&!l((function(){(new b).entries().next()})))){var w=new b,O=w[E](v?{}:-0,1)!=w,I=l((function(){w.has(1)})),C=f((function(e){new b(e)})),T=!v&&l((function(){for(var e=new b,t=5;t--;)e[E](t,t);return!e.has(-0)}));C||((b=t((function(t,n){c(t,b,e);var r=h(new y,t,b);return null!=n&&u(n,g,r[E],r),r}))).prototype=_,_.constructor=b),(I||T)&&(A("delete"),A("has"),g&&A("get")),(T||O)&&A(E),v&&_.clear&&delete _.clear}else b=m.getConstructor(t,e,g,E),o(b.prototype,n),s.NEED=!0;return p(b,e),S[e]=b,i(i.G+i.W+i.F*(b!=y),S),v||m.setStrong(b,e,g),b}}),(function(e,t){t.f=Object.getOwnPropertySymbols}),(function(e,t,n){var r=n(4).navigator;e.exports=r&&r.userAgent||""}),(function(e,t,n){"use strict";var r=n(18),i=n(28),a=n(8),o=n(36),s=n(7);e.exports=function(e,t,n){var u=s(e),c=n(o,u,""[e]),d=c[0],l=c[1];a((function(){var t={};return t[u]=function(){return 7},7!=""[e](t)}))&&(i(String.prototype,e,d),r(RegExp.prototype,u,2==t?function(e,t){return l.call(e,this,t)}:function(e){return l.call(e,this)}))}}),(function(e,t){var n;n=(function(){return this})();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}),(function(e,t,n){var r,i;
/*!
 * JavaScript Cookie v2.2.1
 * https://github.com/js-cookie/js-cookie
 *
 * Copyright 2006, 2015 Klaus Hartl & Fagner Brack
 * Released under the MIT license
 */!(function(a){if(void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=a(),!!0){var o=window.Cookies,s=window.Cookies=a();s.noConflict=function(){return window.Cookies=o,s}}})((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return (function n(r){function i(){}function a(t,n,a){if("undefined"!=typeof document){"number"==typeof(a=e({path:"/"},i.defaults,a)).expires&&(a.expires=new Date(1*new Date+864e5*a.expires)),a.expires=a.expires?a.expires.toUTCString():"";try{var o=JSON.stringify(n);/^[\{\[]/.test(o)&&(n=o)}catch(e){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in a)a[u]&&(s+="; "+u,!0!==a[u]&&(s+="="+a[u].split(";")[0]));return document.cookie=t+"="+n+s}}function o(e,n){if("undefined"!=typeof document){for(var i={},a=document.cookie?document.cookie.split("; "):[],o=0;o<a.length;o++){var s=a[o].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var c=t(s[0]);if(u=(r.read||r)(u,c)||t(u),n)try{u=JSON.parse(u)}catch(e){}if(i[c]=u,e===c)break}catch(e){}}return e?i[e]:i}}return i.set=a,i.get=function(e){return o(e,!1)},i.getJSON=function(e){return o(e,!0)},i.remove=function(t,n){a(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i})((function(){}))}))}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrentUrl=t.getCurrentReferrer=t.getTopLevelDomain=t.getSubdomain=t.getLocalDomain=t.isLocalDomain=t.getRootDomain=void 0;var i=n(10),a=r(n(14)),o=n(277);t.getRootDomain=function(e){var t=new o(e).hostname.split(".");return t.slice(t.length-2,t.length).join(".")};t.isLocalDomain=function(e){var t=new o(e).hostname.split(".");return!isNaN(Number(t[0]))};t.getLocalDomain=function(e){return new o(e).hostname.split(".")[0]};t.getSubdomain=function(e){var t=new o(e).hostname.split(".");return t.length>=3?t[0]:void 0};t.getTopLevelDomain=function(e){var t=new o(e).hostname.split("."),n=t[t.length-1];return isNaN(Number(n))?n:"tst"};t.getCurrentReferrer=function(e){return e||((0,i.noWindow)()?"":e===window.document.referrer?"chegg.com":window.document.referrer)};t.getCurrentUrl=function(e){var t;return(0,i.noWindow)()?e?t=e:(a.default.error(new Error("No url passed into state")),t=""):t=window.location.href,t}}),(function(e,t,n){var r=n(3),i=n(4).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}}),(function(e,t,n){for(var r,i=n(4),a=n(18),o=n(32),s=o("typed_array"),u=o("view"),c=!(!i.ArrayBuffer||!i.DataView),d=c,l=0,f="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");l<9;)(r=i[f[l++]])?(a(r.prototype,s,!0),a(r.prototype,u,!0)):d=!1;e.exports={ABV:c,CONSTR:d,TYPED:s,VIEW:u}}),(function(e,t,n){var r=n(41);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}}),(function(e,t,n){var r=n(21),i=n(11),a=n(42);e.exports=function(e){return function(t,n,o){var s,u=r(t),c=i(u.length),d=a(o,c);if(e&&n!=n){for(;c>d;)if((s=u[d++])!=s)return!0}else for(;c>d;d++)if((e||d in u)&&u[d]===n)return e||d||0;return!e&&-1}}}),(function(e,t,n){var r=n(73)("keys"),i=n(32);e.exports=function(e){return r[e]||(r[e]=i(e))}}),(function(e,t,n){var r=n(30),i=n(4),a=i["__core-js_shared__"]||(i["__core-js_shared__"]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n(34)?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})}),(function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")}),(function(e,t,n){"use strict";var r=n(25),i=n(42),a=n(11);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),u=o>2?arguments[2]:void 0,c=void 0===u?n:i(u,n);c>s;)t[s++]=e;return t}}),(function(e,t,n){var r=n(5),i=n(33),a=n(7)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}}),(function(e,t,n){var r=n(41),i=n(7)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}}),(function(e,t,n){var r=n(44),i=n(7)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}}),(function(e,t,n){var r=n(77),i=n(7)("iterator"),a=n(44);e.exports=n(30).getIteratorMethod=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}}),(function(e,t,n){"use strict";var r=n(46),i=n(96),a=n(44),o=n(21);e.exports=n(97)(Array,"Array",(function(e,t){this._t=o(e),this._i=0,this._k=t}),(function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?n:"values"==t?e[n]:[n,e[n]])}),"values"),a.Arguments=a.Array,r("keys"),r("values"),r("entries")}),(function(e,t,n){var r=n(3),i=n(5),a=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?(function(e,t,r){try{(r=n(24)(Function.call,n(27).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(e){t=!0}return function(e,n){return a(e,n),t?e.__proto__=n:r(e,n),e}})({},!1):void 0),check:a}}),(function(e,t,n){var r,i,a,o=n(24),s=n(103),u=n(94),c=n(68),d=n(4),l=d.process,f=d.setImmediate,p=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,g=0,v={},y=function(){var e=+this;if(v.hasOwnProperty(e)){var t=v[e];delete v[e],t()}},b=function(e){y.call(e.data)};f&&p||(f=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return v[++g]=function(){s("function"==typeof e?e:Function(e),t)},r(g),g},p=function(e){delete v[e]},"process"==n(41)(l)?r=function(e){l.nextTick(o(y,e,1))}:m&&m.now?r=function(e){m.now(o(y,e,1))}:h?(a=(i=new h).port2,i.port1.onmessage=b,r=o(a.postMessage,a,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(r=function(e){d.postMessage(e+"","*")},d.addEventListener("message",b,!1)):r="onreadystatechange"in c("script")?function(e){u.appendChild(c("script")).onreadystatechange=function(){u.removeChild(this),y.call(e)}}:function(e){setTimeout(o(y,e,1),0)}),e.exports={set:f,clear:p}}),(function(e,t,n){var r=n(109),i=n(36);e.exports=function(e,t,n){if(r(t))throw TypeError("String#"+n+" doesn't accept regex!");return String(i(e))}}),(function(e,t,n){var r=n(7)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,!"/./"[e](t)}catch(e){}}return!0}}),(function(e,t,n){"use strict";var r=n(9),i=n(31);e.exports=function(e,t,n){t in e?r.f(e,t,i(0,n)):e[t]=n}}),(function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}}),(function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n}),(function(e,t){function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}}),(function(e,t,n){var r=n(274),i=n(275),a=n(122),o=n(276);e.exports=function(e,t){return r(e)||i(e,t)||a(e,t)||o()}}),(function(e,t,n){e.exports=!n(16)&&!n(8)((function(){return 7!=Object.defineProperty(n(68)("div"),"a",{get:function(){return 7}}).a}))}),(function(e,t,n){"use strict";var r=n(4),i=n(16),a=n(34),o=n(69),s=n(18),u=n(39),c=n(8),d=n(40),l=n(35),f=n(11),p=n(92),h=n(49).f,m=n(9).f,g=n(75),v=n(43),y=r.ArrayBuffer,b=r.DataView,E=r.Math,_=r.RangeError,S=r.Infinity,A=y,w=E.abs,O=E.pow,I=E.floor,C=E.log,T=E.LN2,P=i?"_b":"buffer",x=i?"_l":"byteLength",k=i?"_o":"byteOffset";function N(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,u=(1<<s)-1,c=u>>1,d=23===t?O(2,-24)-O(2,-77):0,l=0,f=e<0||0===e&&1/e<0?1:0;for((e=w(e))!=e||e===S?(i=e!=e?1:0,r=u):(r=I(C(e)/T),e*(a=O(2,-r))<1&&(r--,a*=2),(e+=r+c>=1?d/a:d*O(2,1-c))*a>=2&&(r++,a/=2),r+c>=u?(i=0,r=u):r+c>=1?(i=(e*a-1)*O(2,t),r+=c):(i=e*O(2,c-1)*O(2,t),r=0));t>=8;o[l++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[l++]=255&r,r/=256,s-=8);return o[--l]|=128*f,o}function D(e,t,n){var r,i=8*n-t-1,a=(1<<i)-1,o=a>>1,s=i-7,u=n-1,c=e[u--],d=127&c;for(c>>=7;s>0;d=256*d+e[u],u--,s-=8);for(r=d&(1<<-s)-1,d>>=-s,s+=t;s>0;r=256*r+e[u],u--,s-=8);if(0===d)d=1-o;else{if(d===a)return r?NaN:c?-S:S;r+=O(2,t),d-=o}return(c?-1:1)*r*O(2,d-t)}function R(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function j(e){return[255&e]}function M(e){return[255&e,e>>8&255]}function B(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function U(e){return N(e,52,8)}function L(e){return N(e,23,4)}function V(e,t,n){m(e.prototype,t,{get:function(){return this[n]}})}function F(e,t,n,r){var i=p(+n);if(i+t>e[x])throw _("Wrong index!");var a=e[P]._b,o=i+e[k],s=a.slice(o,o+t);return r?s:s.reverse()}function G(e,t,n,r,i,a){var o=p(+n);if(o+t>e[x])throw _("Wrong index!");for(var s=e[P]._b,u=o+e[k],c=r(+i),d=0;d<t;d++)s[u+d]=c[a?d:t-d-1]}if(o.ABV){if(!c((function(){y(1)}))||!c((function(){new y(-1)}))||c((function(){return new y,new y(1.5),new y(NaN),"ArrayBuffer"!=y.name}))){for(var q,z=(y=function(e){return d(this,y),new A(p(e))}).prototype=A.prototype,W=h(A),H=0;W.length>H;)(q=W[H++])in y||s(y,q,A[q]);a||(z.constructor=y)}var K=new b(new y(2)),Y=b.prototype.setInt8;K.setInt8(0,2147483648),K.setInt8(1,2147483649),!K.getInt8(0)&&K.getInt8(1)||u(b.prototype,{setInt8:function(e,t){Y.call(this,e,t<<24>>24)},setUint8:function(e,t){Y.call(this,e,t<<24>>24)}},!0)}else y=function(e){d(this,y,"ArrayBuffer");var t=p(e);this._b=g.call(new Array(t),0),this[x]=t},b=function(e,t,n){d(this,b,"DataView"),d(e,y,"DataView");var r=e[x],i=l(t);if(i<0||i>r)throw _("Wrong offset!");if(i+(n=void 0===n?r-i:f(n))>r)throw _("Wrong length!");this[P]=e,this[k]=i,this[x]=n},i&&(V(y,"byteLength","_l"),V(b,"buffer","_b"),V(b,"byteLength","_l"),V(b,"byteOffset","_o")),u(b.prototype,{getInt8:function(e){return F(this,1,e)[0]<<24>>24},getUint8:function(e){return F(this,1,e)[0]},getInt16:function(e){var t=F(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=F(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return R(F(this,4,e,arguments[1]))},getUint32:function(e){return R(F(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return D(F(this,4,e,arguments[1]),23,4)},getFloat64:function(e){return D(F(this,8,e,arguments[1]),52,8)},setInt8:function(e,t){G(this,1,e,j,t)},setUint8:function(e,t){G(this,1,e,j,t)},setInt16:function(e,t){G(this,2,e,M,t,arguments[2])},setUint16:function(e,t){G(this,2,e,M,t,arguments[2])},setInt32:function(e,t){G(this,4,e,B,t,arguments[2])},setUint32:function(e,t){G(this,4,e,B,t,arguments[2])},setFloat32:function(e,t){G(this,4,e,L,t,arguments[2])},setFloat64:function(e,t){G(this,8,e,U,t,arguments[2])}});v(y,"ArrayBuffer"),v(b,"DataView"),s(b.prototype,o.VIEW,!0),t.ArrayBuffer=y,t.DataView=b}),(function(e,t,n){var r=n(35),i=n(11);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length!");return n}}),(function(e,t,n){var r=n(19),i=n(21),a=n(71)(!1),o=n(72)("IE_PROTO");e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)n!=o&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}}),(function(e,t,n){var r=n(4).document;e.exports=r&&r.documentElement}),(function(e,t,n){var r=n(41);e.exports=Array.isArray||function(e){return"Array"==r(e)}}),(function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}}),(function(e,t,n){"use strict";var r=n(34),i=n(0),a=n(28),o=n(18),s=n(44),u=n(152),c=n(43),d=n(45),l=n(7)("iterator"),f=!([].keys&&"next"in[].keys()),p=function(){return this};e.exports=function(e,t,n,h,m,g,v){u(n,t,h);var y,b,E,_=function(e){if(!f&&e in O)return O[e];switch(e){case"keys":case"values":return function(){return new n(this,e)}}return function(){return new n(this,e)}},S=t+" Iterator",A="values"==m,w=!1,O=e.prototype,I=O[l]||O["@@iterator"]||m&&O[m],C=I||_(m),T=m?A?_("entries"):C:void 0,P="Array"==t&&O.entries||I;if(P&&(E=d(P.call(new e)))!==Object.prototype&&E.next&&(c(E,S,!0),r||"function"==typeof E[l]||o(E,l,p)),A&&I&&"values"!==I.name&&(w=!0,C=function(){return I.call(this)}),r&&!v||!f&&!w&&O[l]||o(O,l,C),s[t]=C,s[S]=p,m)if(y={values:A?C:_("values"),keys:g?C:_("keys"),entries:T},v)for(b in y)b in O||a(O,b,y[b]);else i(i.P+i.F*(f||w),t,y);return y}}),(function(e,t,n){"use strict";var r=n(25),i=n(42),a=n(11);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),u=i(t,o),c=arguments.length>2?arguments[2]:void 0,d=Math.min((void 0===c?o:i(c,o))-u,o-s),l=1;for(u<s&&s<u+d&&(l=-1,u+=d-1,s+=d-1);d-- >0;)u in n?n[s]=n[u]:delete n[s],s+=l,u+=l;return n}}),(function(e,t,n){"use strict";var r=n(9).f,i=n(50),a=n(39),o=n(24),s=n(40),u=n(60),c=n(97),d=n(96),l=n(58),f=n(16),p=n(29).fastKey,h=n(47),m=f?"_s":"size",g=function(e,t){var n,r=p(t);if("F"!==r)return e._i[r];for(n=e._f;n;n=n.n)if(n.k==t)return n};e.exports={getConstructor:function(e,t,n,c){var d=e((function(e,r){s(e,d,t,"_i"),e._t=t,e._i=i(null),e._f=void 0,e._l=void 0,e[m]=0,null!=r&&u(r,n,e[c],e)}));return a(d.prototype,{clear:function(){for(var e=h(this,t),n=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete n[r.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var n=h(this,t),r=g(n,e);if(r){var i=r.n,a=r.p;delete n._i[r.i],r.r=!0,a&&(a.n=i),i&&(i.p=a),n._f==r&&(n._f=i),n._l==r&&(n._l=a),n[m]--}return!!r},forEach:function(e){h(this,t);for(var n,r=o(e,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(r(n.v,n.k,this);n&&n.r;)n=n.p},has:function(e){return!!g(h(this,t),e)}}),f&&r(d.prototype,"size",{get:function(){return h(this,t)[m]}}),d},def:function(e,t,n){var r,i,a=g(e,t);return a?a.v=n:(e._l=a={i:i=p(t,!0),k:t,v:n,p:r=e._l,n:void 0,r:!1},e._f||(e._f=a),r&&(r.n=a),e[m]++,"F"!==i&&(e._i[i]=a)),e},getEntry:g,setStrong:function(e,t,n){c(e,t,(function(e,n){this._t=h(e,t),this._k=n,this._l=void 0}),(function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?d(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,d(1))}),n?"entries":"values",!n,!0),l(t)}}}),(function(e,t,n){var r=n(5);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}}),(function(e,t,n){"use strict";var r=n(37),i=n(62),a=n(52),o=n(25),s=n(70),u=Object.assign;e.exports=!u||n(8)((function(){var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=u({},e)[n]||Object.keys(u({},t)).join("")!=r}))?function(e,t){for(var n=o(e),u=arguments.length,c=1,d=i.f,l=a.f;u>c;)for(var f,p=s(arguments[c++]),h=d?r(p).concat(d(p)):r(p),m=h.length,g=0;m>g;)l.call(p,f=h[g++])&&(n[f]=p[f]);return n}:u}),(function(e,t,n){"use strict";var r=n(39),i=n(29).getWeak,a=n(5),o=n(3),s=n(40),u=n(60),c=n(51),d=n(19),l=n(47),f=c(5),p=c(6),h=0,m=function(e){return e._l||(e._l=new g)},g=function(){this.a=[]},v=function(e,t){return f(e.a,(function(e){return e[0]===t}))};g.prototype={get:function(e){var t=v(this,e);if(t)return t[1]},has:function(e){return!!v(this,e)},set:function(e,t){var n=v(this,e);n?n[1]=t:this.a.push([e,t])},delete:function(e){var t=p(this.a,(function(t){return t[0]===e}));return~t&&this.a.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,a){var c=e((function(e,r){s(e,c,t,"_i"),e._t=t,e._i=h++,e._l=void 0,null!=r&&u(r,n,e[a],e)}));return r(c.prototype,{delete:function(e){if(!o(e))return!1;var n=i(e);return!0===n?m(l(this,t)).delete(e):n&&d(n,this._i)&&delete n[this._i]},has:function(e){if(!o(e))return!1;var n=i(e);return!0===n?m(l(this,t)).has(e):n&&d(n,this._i)}}),c},def:function(e,t,n){var r=i(a(t),!0);return!0===r?m(e).set(t,n):r[e._i]=n,e},ufstore:m}}),(function(e,t){e.exports=function(e,t,n){var r=void 0===n;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3])}return e.apply(n,t)}}),(function(e,t,n){var r=n(49),i=n(62),a=n(5),o=n(4).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}}),(function(e,t,n){"use strict";var r=n(33);function i(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=r(t),this.reject=r(n)}e.exports.f=function(e){return new i(e)}}),(function(e,t,n){t.f=n(7)}),(function(e,t,n){var r=n(21),i=n(49).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?(function(e){try{return i(e)}catch(e){return o.slice()}})(e):i(r(e))}}),(function(e,t,n){"use strict";var r=n(35),i=n(36);e.exports=function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Count can't be negative");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}}),(function(e,t,n){var r=n(3),i=n(41),a=n(7)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}}),(function(e,t,n){var r=n(3),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}}),(function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}}),(function(e,t,n){var r=n(37),i=n(21),a=n(52).f;e.exports=function(e){return function(t){for(var n,o=i(t),s=r(o),u=s.length,c=0,d=[];u>c;)a.call(o,n=s[c++])&&d.push(e?[n,o[n]]:o[n]);return d}}}),(function(e,t,n){var r=n(11),i=n(108),a=n(36);e.exports=function(e,t,n,o){var s=String(a(e)),u=s.length,c=void 0===n?" ":String(n),d=r(t);if(d<=u||""==c)return s;var l=d-u,f=i.call(c,Math.ceil(l/c.length));return f.length>l&&(f=f.slice(0,l)),o?f+s:s+f}}),(function(e,t,n){(function(r){var i;!(function(){var a;function o(e){var t,n,r,i="",a=-1;if(e&&e.length)for(r=e.length;(a+=1)<r;)t=e.charCodeAt(a),n=a+1<r?e.charCodeAt(a+1):0,55296<=t&&t<=56319&&56320<=n&&n<=57343&&(t=65536+((1023&t)<<10)+(1023&n),a+=1),t<=127?i+=String.fromCharCode(t):t<=2047?i+=String.fromCharCode(192|t>>>6&31,128|63&t):t<=65535?i+=String.fromCharCode(224|t>>>12&15,128|t>>>6&63,128|63&t):t<=2097151&&(i+=String.fromCharCode(240|t>>>18&7,128|t>>>12&63,128|t>>>6&63,128|63&t));return i}function s(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function u(e,t){return e<<t|e>>>32-t}function c(e,t){for(var n,r=t?"0123456789ABCDEF":"0123456789abcdef",i="",a=0,o=e.length;a<o;a+=1)n=e.charCodeAt(a),i+=r.charAt(n>>>4&15)+r.charAt(15&n);return i}function d(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>24-t%32&255);return r}function l(e){var t,n=32*e.length,r="";for(t=0;t<n;t+=8)r+=String.fromCharCode(e[t>>5]>>>t%32&255);return r}function f(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<t%32;return r}function p(e){var t,n=8*e.length,r=Array(e.length>>2),i=r.length;for(t=0;t<i;t+=1)r[t]=0;for(t=0;t<n;t+=8)r[t>>5]|=(255&e.charCodeAt(t/8))<<24-t%32;return r}function h(e,t){var n,r,i,a,o,s,u,c,d=t.length,l=Array();for(a=(s=Array(Math.ceil(e.length/2))).length,n=0;n<a;n+=1)s[n]=e.charCodeAt(2*n)<<8|e.charCodeAt(2*n+1);for(;s.length>0;){for(o=Array(),i=0,n=0;n<s.length;n+=1)i=(i<<16)+s[n],i-=(r=Math.floor(i/d))*d,(o.length>0||r>0)&&(o[o.length]=r);l[l.length]=i,s=o}for(u="",n=l.length-1;n>=0;n--)u+=t.charAt(l[n]);for(c=Math.ceil(8*e.length/(Math.log(t.length)/Math.log(2))),n=u.length;n<c;n+=1)u=t[0]+u;return u}function m(e,t){var n,r,i,a="",o=e.length;for(t=t||"=",n=0;n<o;n+=3)for(i=e.charCodeAt(n)<<16|(n+1<o?e.charCodeAt(n+1)<<8:0)|(n+2<o?e.charCodeAt(n+2):0),r=0;r<4;r+=1)8*n+6*r>8*e.length?a+=t:a+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(i>>>6*(3-r)&63);return a}a={VERSION:"1.0.6",Base64:function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t="=",n=!0;this.encode=function(r){var i,a,s,u="",c=r.length;for(t=t||"=",r=n?o(r):r,i=0;i<c;i+=3)for(s=r.charCodeAt(i)<<16|(i+1<c?r.charCodeAt(i+1)<<8:0)|(i+2<c?r.charCodeAt(i+2):0),a=0;a<4;a+=1)u+=8*i+6*a>8*c?t:e.charAt(s>>>6*(3-a)&63);return u},this.decode=function(r){var i,a,o,s,u,c,d,l,f="",p=[];if(!r)return r;i=l=0,r=r.replace(new RegExp("\\"+t,"gi"),"");do{a=(d=e.indexOf(r.charAt(i+=1))<<18|e.indexOf(r.charAt(i+=1))<<12|(u=e.indexOf(r.charAt(i+=1)))<<6|(c=e.indexOf(r.charAt(i+=1))))>>16&255,o=d>>8&255,s=255&d,p[l+=1]=64===u?String.fromCharCode(a):64===c?String.fromCharCode(a,o):String.fromCharCode(a,o,s)}while(i<r.length);return f=p.join(""),f=n?(function(e){var t,n,r,i,a,o,s=[];if(t=n=r=i=a=0,e&&e.length)for(o=e.length,e+="";t<o;)n+=1,(r=e.charCodeAt(t))<128?(s[n]=String.fromCharCode(r),t+=1):r>191&&r<224?(i=e.charCodeAt(t+1),s[n]=String.fromCharCode((31&r)<<6|63&i),t+=2):(i=e.charCodeAt(t+1),a=e.charCodeAt(t+2),s[n]=String.fromCharCode((15&r)<<12|(63&i)<<6|63&a),t+=3);return s.join("")})(f):f},this.setPad=function(e){return t=e||t,this},this.setTab=function(t){return e=t||e,this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}},CRC32:function(e){var t,n,r,i=0,a=0;for(e=o(e),t=["00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 ","79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 ","84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F ","63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD ","A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC ","51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 ","B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 ","06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 ","E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 ","12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 ","D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 ","33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 ","CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 ","9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E ","7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D ","806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 ","60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA ","AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 ","5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 ","B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 ","05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 ","F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA ","11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 ","D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F ","30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E ","C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D"].join(""),i^=-1,n=0,r=e.length;n<r;n+=1)a=255&(i^e.charCodeAt(n)),i=i>>>8^"0x"+t.substr(9*a,8);return(-1^i)>>>0},MD5:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return l(d(f(e=r?o(e):e),8*e.length))}function a(e,t){var n,i,a,s,u;for(e=r?o(e):e,t=r?o(t):t,(n=f(e)).length>16&&(n=d(n,8*e.length)),i=Array(16),a=Array(16),u=0;u<16;u+=1)i[u]=909522486^n[u],a[u]=1549556828^n[u];return s=d(i.concat(f(t)),512+8*t.length),l(d(a.concat(s),640))}function d(e,t){var n,r,i,a,o,u=1732584193,c=-271733879,d=-1732584194,l=271733878;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,n=0;n<e.length;n+=16)r=u,i=c,a=d,o=l,u=g(u,c,d,l,e[n+0],7,-680876936),l=g(l,u,c,d,e[n+1],12,-389564586),d=g(d,l,u,c,e[n+2],17,606105819),c=g(c,d,l,u,e[n+3],22,-1044525330),u=g(u,c,d,l,e[n+4],7,-176418897),l=g(l,u,c,d,e[n+5],12,1200080426),d=g(d,l,u,c,e[n+6],17,-1473231341),c=g(c,d,l,u,e[n+7],22,-45705983),u=g(u,c,d,l,e[n+8],7,1770035416),l=g(l,u,c,d,e[n+9],12,-1958414417),d=g(d,l,u,c,e[n+10],17,-42063),c=g(c,d,l,u,e[n+11],22,-1990404162),u=g(u,c,d,l,e[n+12],7,1804603682),l=g(l,u,c,d,e[n+13],12,-40341101),d=g(d,l,u,c,e[n+14],17,-1502002290),u=v(u,c=g(c,d,l,u,e[n+15],22,1236535329),d,l,e[n+1],5,-165796510),l=v(l,u,c,d,e[n+6],9,-1069501632),d=v(d,l,u,c,e[n+11],14,643717713),c=v(c,d,l,u,e[n+0],20,-373897302),u=v(u,c,d,l,e[n+5],5,-701558691),l=v(l,u,c,d,e[n+10],9,38016083),d=v(d,l,u,c,e[n+15],14,-660478335),c=v(c,d,l,u,e[n+4],20,-405537848),u=v(u,c,d,l,e[n+9],5,568446438),l=v(l,u,c,d,e[n+14],9,-1019803690),d=v(d,l,u,c,e[n+3],14,-187363961),c=v(c,d,l,u,e[n+8],20,1163531501),u=v(u,c,d,l,e[n+13],5,-1444681467),l=v(l,u,c,d,e[n+2],9,-51403784),d=v(d,l,u,c,e[n+7],14,1735328473),u=y(u,c=v(c,d,l,u,e[n+12],20,-1926607734),d,l,e[n+5],4,-378558),l=y(l,u,c,d,e[n+8],11,-2022574463),d=y(d,l,u,c,e[n+11],16,1839030562),c=y(c,d,l,u,e[n+14],23,-35309556),u=y(u,c,d,l,e[n+1],4,-1530992060),l=y(l,u,c,d,e[n+4],11,1272893353),d=y(d,l,u,c,e[n+7],16,-155497632),c=y(c,d,l,u,e[n+10],23,-1094730640),u=y(u,c,d,l,e[n+13],4,681279174),l=y(l,u,c,d,e[n+0],11,-358537222),d=y(d,l,u,c,e[n+3],16,-722521979),c=y(c,d,l,u,e[n+6],23,76029189),u=y(u,c,d,l,e[n+9],4,-640364487),l=y(l,u,c,d,e[n+12],11,-421815835),d=y(d,l,u,c,e[n+15],16,530742520),u=b(u,c=y(c,d,l,u,e[n+2],23,-995338651),d,l,e[n+0],6,-198630844),l=b(l,u,c,d,e[n+7],10,1126891415),d=b(d,l,u,c,e[n+14],15,-1416354905),c=b(c,d,l,u,e[n+5],21,-57434055),u=b(u,c,d,l,e[n+12],6,1700485571),l=b(l,u,c,d,e[n+3],10,-1894986606),d=b(d,l,u,c,e[n+10],15,-1051523),c=b(c,d,l,u,e[n+1],21,-2054922799),u=b(u,c,d,l,e[n+8],6,1873313359),l=b(l,u,c,d,e[n+15],10,-30611744),d=b(d,l,u,c,e[n+6],15,-1560198380),c=b(c,d,l,u,e[n+13],21,1309151649),u=b(u,c,d,l,e[n+4],6,-145523070),l=b(l,u,c,d,e[n+11],10,-1120210379),d=b(d,l,u,c,e[n+2],15,718787259),c=b(c,d,l,u,e[n+9],21,-343485551),u=s(u,r),c=s(c,i),d=s(d,a),l=s(l,o);return Array(u,c,d,l)}function p(e,t,n,r,i,a){return s(u(s(s(t,e),s(r,a)),i),n)}function g(e,t,n,r,i,a,o){return p(t&n|~t&r,e,t,i,a,o)}function v(e,t,n,r,i,a,o){return p(t&r|n&~r,e,t,i,a,o)}function y(e,t,n,r,i,a,o){return p(t^n^r,e,t,i,a,o)}function b(e,t,n,r,i,a,o){return p(n^(t|~r),e,t,i,a,o)}this.hex=function(e){return c(i(e),t)},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return h(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,n){return c(a(e,n),t)},this.b64_hmac=function(e,t){return m(a(e,t),n)},this.any_hmac=function(e,t,n){return h(a(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA1:function(e){var t=!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return d(l(p(e=r?o(e):e),8*e.length))}function a(e,t){var n,i,a,s,u;for(e=r?o(e):e,t=r?o(t):t,(n=p(e)).length>16&&(n=l(n,8*e.length)),i=Array(16),a=Array(16),s=0;s<16;s+=1)i[s]=909522486^n[s],a[s]=1549556828^n[s];return u=l(i.concat(p(t)),512+8*t.length),d(l(a.concat(u),672))}function l(e,t){var n,r,i,a,o,c,d,l,p=Array(80),h=1732584193,m=-271733879,v=-1732584194,y=271733878,b=-1009589776;for(e[t>>5]|=128<<24-t%32,e[15+(t+64>>9<<4)]=t,n=0;n<e.length;n+=16){for(a=h,o=m,c=v,d=y,l=b,r=0;r<80;r+=1)p[r]=r<16?e[n+r]:u(p[r-3]^p[r-8]^p[r-14]^p[r-16],1),i=s(s(u(h,5),f(r,m,v,y)),s(s(b,p[r]),g(r))),b=y,y=v,v=u(m,30),m=h,h=i;h=s(h,a),m=s(m,o),v=s(v,c),y=s(y,d),b=s(b,l)}return Array(h,m,v,y,b)}function f(e,t,n,r){return e<20?t&n|~t&r:e<40?t^n^r:e<60?t&n|t&r|n&r:t^n^r}function g(e){return e<20?1518500249:e<40?1859775393:e<60?-1894007588:-899497514}this.hex=function(e){return c(i(e),t)},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return h(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return c(a(e,t))},this.b64_hmac=function(e,t){return m(a(e,t),n)},this.any_hmac=function(e,t,n){return h(a(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&(t=e),this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},SHA256:function(e){!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase;var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e,t){return d(E(p(e=t?o(e):e),8*e.length))}function a(e,t){e=r?o(e):e,t=r?o(t):t;var n,i=0,a=p(e),s=Array(16),u=Array(16);for(a.length>16&&(a=E(a,8*e.length));i<16;i+=1)s[i]=909522486^a[i],u[i]=1549556828^a[i];return n=E(s.concat(p(t)),512+8*t.length),d(E(u.concat(n),768))}function u(e,t){return e>>>t|e<<32-t}function l(e,t){return e>>>t}function f(e,t,n){return e&t^~e&n}function g(e,t,n){return e&t^e&n^t&n}function v(e){return u(e,2)^u(e,13)^u(e,22)}function y(e){return u(e,6)^u(e,11)^u(e,25)}function b(e){return u(e,7)^u(e,18)^l(e,3)}function E(e,n){var r,i,a,o,c,d,p,h,m,E,_,S,A,w=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],O=new Array(64);for(e[n>>5]|=128<<24-n%32,e[15+(n+64>>9<<4)]=n,m=0;m<e.length;m+=16){for(r=w[0],i=w[1],a=w[2],o=w[3],c=w[4],d=w[5],p=w[6],h=w[7],E=0;E<64;E+=1)O[E]=E<16?e[E+m]:s(s(s(u(A=O[E-2],17)^u(A,19)^l(A,10),O[E-7]),b(O[E-15])),O[E-16]),_=s(s(s(s(h,y(c)),f(c,d,p)),t[E]),O[E]),S=s(v(r),g(r,i,a)),h=p,p=d,d=c,c=s(o,_),o=a,a=i,i=r,r=s(_,S);w[0]=s(r,w[0]),w[1]=s(i,w[1]),w[2]=s(a,w[2]),w[3]=s(o,w[3]),w[4]=s(c,w[4]),w[5]=s(d,w[5]),w[6]=s(p,w[6]),w[7]=s(h,w[7])}return w}this.hex=function(e){return c(i(e,r))},this.b64=function(e){return m(i(e,r),n)},this.any=function(e,t){return h(i(e,r),t)},this.raw=function(e){return i(e,r)},this.hex_hmac=function(e,t){return c(a(e,t))},this.b64_hmac=function(e,t){return m(a(e,t),n)},this.any_hmac=function(e,t,n){return h(a(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&e,this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this},t=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998]},SHA512:function(e){!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase;var t,n=e&&"string"==typeof e.pad?e.pad:"=",r=!e||"boolean"!=typeof e.utf8||e.utf8;function i(e){return d(s(p(e=r?o(e):e),8*e.length))}function a(e,t){e=r?o(e):e,t=r?o(t):t;var n,i=0,a=p(e),u=Array(32),c=Array(32);for(a.length>32&&(a=s(a,8*e.length));i<32;i+=1)u[i]=909522486^a[i],c[i]=1549556828^a[i];return n=s(u.concat(p(t)),1024+8*t.length),d(s(c.concat(n),1536))}function s(e,n){var r,i,a,o=new Array(80),s=new Array(16),c=[new u(1779033703,-205731576),new u(-1150833019,-2067093701),new u(1013904242,-23791573),new u(-1521486534,1595750129),new u(1359893119,-1377402159),new u(-1694144372,725511199),new u(528734635,-79577749),new u(1541459225,327033209)],d=new u(0,0),p=new u(0,0),h=new u(0,0),m=new u(0,0),_=new u(0,0),S=new u(0,0),A=new u(0,0),w=new u(0,0),O=new u(0,0),I=new u(0,0),C=new u(0,0),T=new u(0,0),P=new u(0,0),x=new u(0,0),k=new u(0,0),N=new u(0,0),D=new u(0,0);for(void 0===t&&(t=[new u(1116352408,-685199838),new u(1899447441,602891725),new u(-1245643825,-330482897),new u(-373957723,-2121671748),new u(961987163,-213338824),new u(1508970993,-1241133031),new u(-1841331548,-1357295717),new u(-1424204075,-630357736),new u(-670586216,-1560083902),new u(310598401,1164996542),new u(607225278,1323610764),new u(1426881987,-704662302),new u(1925078388,-226784913),new u(-2132889090,991336113),new u(-1680079193,633803317),new u(-1046744716,-815192428),new u(-459576895,-1628353838),new u(-272742522,944711139),new u(264347078,-1953704523),new u(604807628,2007800933),new u(770255983,1495990901),new u(1249150122,1856431235),new u(1555081692,-1119749164),new u(1996064986,-2096016459),new u(-1740746414,-295247957),new u(-1473132947,766784016),new u(-1341970488,-1728372417),new u(-1084653625,-1091629340),new u(-958395405,1034457026),new u(-710438585,-1828018395),new u(113926993,-536640913),new u(338241895,168717936),new u(666307205,1188179964),new u(773529912,1546045734),new u(1294757372,1522805485),new u(1396182291,-1651133473),new u(1695183700,-1951439906),new u(1986661051,1014477480),new u(-2117940946,1206759142),new u(-1838011259,344077627),new u(-1564481375,1290863460),new u(-1474664885,-1136513023),new u(-1035236496,-789014639),new u(-949202525,106217008),new u(-778901479,-688958952),new u(-694614492,1432725776),new u(-200395387,1467031594),new u(275423344,851169720),new u(430227734,-1194143544),new u(506948616,1363258195),new u(659060556,-544281703),new u(883997877,-509917016),new u(958139571,-976659869),new u(1322822218,-482243893),new u(1537002063,2003034995),new u(1747873779,-692930397),new u(1955562222,1575990012),new u(2024104815,1125592928),new u(-2067236844,-1578062990),new u(-1933114872,442776044),new u(-1866530822,593698344),new u(-1538233109,-561857047),new u(-1090935817,-1295615723),new u(-965641998,-479046869),new u(-903397682,-366583396),new u(-779700025,566280711),new u(-354779690,-840897762),new u(-176337025,-294727304),new u(116418474,1914138554),new u(174292421,-1563912026),new u(289380356,-1090974290),new u(460393269,320620315),new u(685471733,587496836),new u(852142971,1086792851),new u(1017036298,365543100),new u(1126000580,-1676669620),new u(1288033470,-885112138),new u(1501505948,-60457430),new u(1607167915,987167468),new u(1816402316,1246189591)]),i=0;i<80;i+=1)o[i]=new u(0,0);for(e[n>>5]|=128<<24-(31&n),e[31+(n+128>>10<<5)]=n,a=e.length,i=0;i<a;i+=32){for(l(h,c[0]),l(m,c[1]),l(_,c[2]),l(S,c[3]),l(A,c[4]),l(w,c[5]),l(O,c[6]),l(I,c[7]),r=0;r<16;r+=1)o[r].h=e[i+2*r],o[r].l=e[i+2*r+1];for(r=16;r<80;r+=1)f(k,o[r-2],19),g(N,o[r-2],29),v(D,o[r-2],6),T.l=k.l^N.l^D.l,T.h=k.h^N.h^D.h,f(k,o[r-15],1),f(N,o[r-15],8),v(D,o[r-15],7),C.l=k.l^N.l^D.l,C.h=k.h^N.h^D.h,b(o[r],T,o[r-7],C,o[r-16]);for(r=0;r<80;r+=1)P.l=A.l&w.l^~A.l&O.l,P.h=A.h&w.h^~A.h&O.h,f(k,A,14),f(N,A,18),g(D,A,9),T.l=k.l^N.l^D.l,T.h=k.h^N.h^D.h,f(k,h,28),g(N,h,2),g(D,h,7),C.l=k.l^N.l^D.l,C.h=k.h^N.h^D.h,x.l=h.l&m.l^h.l&_.l^m.l&_.l,x.h=h.h&m.h^h.h&_.h^m.h&_.h,E(d,I,T,P,t[r],o[r]),y(p,C,x),l(I,O),l(O,w),l(w,A),y(A,S,d),l(S,_),l(_,m),l(m,h),y(h,d,p);y(c[0],c[0],h),y(c[1],c[1],m),y(c[2],c[2],_),y(c[3],c[3],S),y(c[4],c[4],A),y(c[5],c[5],w),y(c[6],c[6],O),y(c[7],c[7],I)}for(i=0;i<8;i+=1)s[2*i]=c[i].h,s[2*i+1]=c[i].l;return s}function u(e,t){this.h=e,this.l=t}function l(e,t){e.h=t.h,e.l=t.l}function f(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n|t.l<<32-n}function g(e,t,n){e.l=t.h>>>n|t.l<<32-n,e.h=t.l>>>n|t.h<<32-n}function v(e,t,n){e.l=t.l>>>n|t.h<<32-n,e.h=t.h>>>n}function y(e,t,n){var r=(65535&t.l)+(65535&n.l),i=(t.l>>>16)+(n.l>>>16)+(r>>>16),a=(65535&t.h)+(65535&n.h)+(i>>>16),o=(t.h>>>16)+(n.h>>>16)+(a>>>16);e.l=65535&r|i<<16,e.h=65535&a|o<<16}function b(e,t,n,r,i){var a=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l),o=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a>>>16),s=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(o>>>16),u=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(s>>>16);e.l=65535&a|o<<16,e.h=65535&s|u<<16}function E(e,t,n,r,i,a){var o=(65535&t.l)+(65535&n.l)+(65535&r.l)+(65535&i.l)+(65535&a.l),s=(t.l>>>16)+(n.l>>>16)+(r.l>>>16)+(i.l>>>16)+(a.l>>>16)+(o>>>16),u=(65535&t.h)+(65535&n.h)+(65535&r.h)+(65535&i.h)+(65535&a.h)+(s>>>16),c=(t.h>>>16)+(n.h>>>16)+(r.h>>>16)+(i.h>>>16)+(a.h>>>16)+(u>>>16);e.l=65535&o|s<<16,e.h=65535&u|c<<16}this.hex=function(e){return c(i(e))},this.b64=function(e){return m(i(e),n)},this.any=function(e,t){return h(i(e),t)},this.raw=function(e){return i(e)},this.hex_hmac=function(e,t){return c(a(e,t))},this.b64_hmac=function(e,t){return m(a(e,t),n)},this.any_hmac=function(e,t,n){return h(a(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&e,this},this.setPad=function(e){return n=e||n,this},this.setUTF8=function(e){return"boolean"==typeof e&&(r=e),this}},RMD160:function(e){!(!e||"boolean"!=typeof e.uppercase)&&e.uppercase;var t=e&&"string"==typeof e.pad?e.pa:"=",n=!e||"boolean"!=typeof e.utf8||e.utf8,r=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],i=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],a=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],d=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];function l(e){return g(v(f(e=n?o(e):e),8*e.length))}function p(e,t){e=n?o(e):e,t=n?o(t):t;var r,i,a=f(e),s=Array(16),u=Array(16);for(a.length>16&&(a=v(a,8*e.length)),r=0;r<16;r+=1)s[r]=909522486^a[r],u[r]=1549556828^a[r];return i=v(s.concat(f(t)),512+8*t.length),g(v(u.concat(i),672))}function g(e){var t,n="",r=32*e.length;for(t=0;t<r;t+=8)n+=String.fromCharCode(e[t>>5]>>>t%32&255);return n}function v(e,t){var n,o,c,l,f,p,h,m,g,v,_,S,A,w,O=1732584193,I=4023233417,C=2562383102,T=271733878,P=3285377520;for(e[t>>5]|=128<<t%32,e[14+(t+64>>>9<<4)]=t,l=e.length,c=0;c<l;c+=16){for(f=v=O,p=_=I,h=S=C,m=A=T,g=w=P,o=0;o<=79;o+=1)n=s(f,y(o,p,h,m)),n=s(n,e[c+r[o]]),n=s(n,b(o)),n=s(u(n,a[o]),g),f=g,g=m,m=u(h,10),h=p,p=n,n=s(v,y(79-o,_,S,A)),n=s(n,e[c+i[o]]),n=s(n,E(o)),n=s(u(n,d[o]),w),v=w,w=A,A=u(S,10),S=_,_=n;n=s(I,s(h,A)),I=s(C,s(m,w)),C=s(T,s(g,v)),T=s(P,s(f,_)),P=s(O,s(p,S)),O=n}return[O,I,C,T,P]}function y(e,t,n,r){return 0<=e&&e<=15?t^n^r:16<=e&&e<=31?t&n|~t&r:32<=e&&e<=47?(t|~n)^r:48<=e&&e<=63?t&r|n&~r:64<=e&&e<=79?t^(n|~r):"rmd160_f: j out of range"}function b(e){return 0<=e&&e<=15?0:16<=e&&e<=31?1518500249:32<=e&&e<=47?1859775393:48<=e&&e<=63?2400959708:64<=e&&e<=79?2840853838:"rmd160_K1: j out of range"}function E(e){return 0<=e&&e<=15?1352829926:16<=e&&e<=31?1548603684:32<=e&&e<=47?1836072691:48<=e&&e<=63?2053994217:64<=e&&e<=79?0:"rmd160_K2: j out of range"}this.hex=function(e){return c(l(e))},this.b64=function(e){return m(l(e),t)},this.any=function(e,t){return h(l(e),t)},this.raw=function(e){return l(e)},this.hex_hmac=function(e,t){return c(p(e,t))},this.b64_hmac=function(e,n){return m(p(e,n),t)},this.any_hmac=function(e,t,n){return h(p(e,t),n)},this.vm_test=function(){return"900150983cd24fb0d6963f7d28e17f72"===hex("abc").toLowerCase()},this.setUpperCase=function(e){return"boolean"==typeof e&&e,this},this.setPad=function(e){return void 0!==e&&(t=e),this},this.setUTF8=function(e){return"boolean"==typeof e&&(n=e),this}}},t&&"object"==typeof r&&r&&r.global,void 0===(i=function(){return a}.call(t,n,t,e))||(e.exports=i)})()}).call(this,n(65))}),(function(e,t,n){e.exports=(function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)})({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=(function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),a=e.getVersionPrecision(n),o=Math.max(i,a),s=0,u=e.map([t,n],(function(t){var n=o-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=o-Math.min(i,a)),o-=1;o>=s;){if(u[0][o]>u[1][o])return 1;if(u[0][o]===u[1][o]){if(o===s)return 0;o-=1}else if(u[0][o]<u[1][o])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,a=new Array(i>1?i-1:0),o=1;o<i;o++)a[o-1]=arguments[o];if(Object.assign)return Object.assign.apply(Object,[e].concat(a));var s=function(){var e=a[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=a.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e})();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},a=n(18);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=(function(){function e(){}var t,n;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,(n=[{key:"BROWSER_MAP",get:function(){return a.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return a.ENGINE_MAP}},{key:"OS_MAP",get:function(){return a.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return a.PLATFORMS_MAP}}])&&o(t,n),e})();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),a=u(n(94)),o=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var c=(function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},a=0;if(Object.keys(e).forEach((function(t){var o=e[t];"string"==typeof o?(i[t]=o,a+=1):"object"==typeof o&&(n[t]=o,r+=1)})),r>0){var o=Object.keys(n),u=s.default.find(o,(function(e){return t.isOS(e)}));if(u){var c=this.satisfies(n[u]);if(void 0!==c)return c}var d=s.default.find(o,(function(e){return t.isPlatform(e)}));if(d){var l=this.satisfies(n[d]);if(void 0!==l)return l}}if(a>0){var f=Object.keys(i),p=s.default.find(f,(function(e){return t.isBrowser(e,!0)}));if(void 0!==p)return this.compareVersion(i[p])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e){return this.isBrowser(e)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e})();t.default=c,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=/version\/(\d+(\.?_?\d+)+)/i,o=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(a,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(a,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=o,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:a.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:a.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(e){var t=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return{name:a.OS_MAP.iOS,version:t}}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:a.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:a.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:a.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:a.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:a.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:a.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:a.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:a.OS_MAP.PlayStation4,version:t}}}];t.default=o,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:a.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?) Version\//],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:a.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:a.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:a.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:a.PLATFORMS_MAP.tv}}}];t.default=o,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},a=n(18),o=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:a.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:a.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:a.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:a.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:a.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:a.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:a.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=o,e.exports=t.default}})}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(117),s=n(269),u=n(17),c=(function(){function e(t){var n=t.config,r=t.placementName,a=t.placementConfig,o=t.divId,u=t.dfpSiteId,c=t.page,d=t.mode,l=t.user,f=t.links;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.bids=[],this.nileBids=[],this.isComplete=void 0,this.timer=void 0,this.partners=n.partners,this.name=r,this.prefix=n.prefix?n.prefix+"_":i.default.SITE.PREFIX,this.placementConfig=a,this.adUnit=this.genAdUnit({page:c,placementName:r,mode:d,placementConfig:a}),this.ibv=!!a.ibv,this.isRendered=!1,this.iabViewable=!1,this.skipRefresh=!!a.skipRefresh,this.divId=o,this.setSkipDfp(d),this.setRenderPromise(),this.user=l,this.dfpSiteId=u,this.slotPath="/"+this.dfpSiteId+"/"+this.adUnit,this.links=f,this.hasParticipated=!1,this.name===i.default.VID_PLACEMENT_NAME&&(this.videoPlayer=new s.default(l,n))}return r(e,[{key:"genAdUnit",value:function(e){var t=e.page,n=e.placementName,r=e.mode,i=e.placementConfig;return i.adUnit?(i.adUnit+"_"+r).toUpperCase():(this.prefix+n.replace(/_/,"_"+t+"_").replace(/_redesign/i,"")+"_"+r).toUpperCase()}},{key:"init",value:function(e){var t=this,n=e.placementConfig,r=e.auction,s=e.page,c=r.mode;c!==i.default.MODE.R&&(this.placementConfig=n,this.skipRefresh=n.skipRefresh),this.auction=r,this.adUnit=this.genAdUnit({page:s,placementName:this.name,mode:c,placementConfig:n}),this.slotPath="/"+this.dfpSiteId+"/"+this.adUnit,this.isRendered=!1,this.iabViewable=!1,this.hasParticipated=!0,this.setSkipDfp(c),this.setRenderPromise(),n.sticky&&!this.sticky&&(this.sticky=new o.Sticky(this)),a.default.onDocReady((function(){t.setPasture(s)})),this.videoPlayer&&this.videoPlayer.shouldRun(c)&&(this.videoPlayer.play(this),this.sticky&&this.sticky.enableSticky()),u.default.sendSbmAnalyticsEvents&&u.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.INIT,this)}},{key:"shouldParticipate",value:function(e){var t=e.isRefresh,n=e.isReload,r=e.advPlacements,a=e.adsModalConfig,o=e.hasSeenVideoModalRecently,s=e.union,u=e.sizeMatch;if(!r[this.name])return!1;if(t){if(this.skipRefresh)return!1;if(this.placementConfig.skipRefreshViewable&&!this.iabViewable&&this.hasParticipated)return!1}if(n){if(this.placementConfig.skipReload&&this.hasParticipated)return!1;if(this.placementConfig.skipReloadViewable&&!this.iabViewable&&this.hasParticipated)return!1;if(this.placementConfig.skipReloadRendered&&!this.isRendered&&this.hasParticipated)return!1;if(s&&this.hasParticipated&&u)return!1}return this.placementConfig.device===this.user.device&&(!((this.name===i.default.SURVEY_UNLOCK_PLACEMENT_NAME||this.name===i.default.UNLOCK_PLACEMENT_NAME)&&(!a.alwaysParticipate&&this.user.citationCount<a.citationCount||"true"===o||!a.run))&&!(this.name===i.default.SURVEY_UNLOCK_PLACEMENT_NAME&&!a.runVast))}},{key:"setSkipDfp",value:function(e){var t=e===i.default.MODE.R?i.default.MODENAME.REFRESH:i.default.MODENAME.STANDARD;this.skipDfp=this.placementConfig.skipDfp&&this.placementConfig.skipDfp[t]?this.placementConfig.skipDfp[t]:-1}},{key:"setRenderPromise",value:function(){var e=this;this.renderPromise=new Promise((function(t){setTimeout(t,3e3),e.resolveRender=t}))}},{key:"setPasture",value:function(e){var t=this.placementConfig.divId;this.$pasture=document.getElementById(t),this.$ad=this.$pasture?this.$pasture.querySelector("div"):null,this.divId=this.$ad?this.$ad.id:this.divId,this.setElement(e,t),this.setAd()}},{key:"setElement",value:function(e,t){if(this.placementConfig.shouldInsertPasture&&!this.$pasture)this.$pasture=document.createElement("div"),this.$pasture.id=t,document.body.appendChild(this.$pasture);else if(this.placementConfig.selector&&!this.$pasture){var n=document.querySelectorAll(this.placementConfig.selector)[0];n&&(this.$pasture=document.createElement("div"),this.$pasture.id=t,n.insertBefore(this.$pasture,n.firstChild))}try{this.$pasture.style.cssText="display:block!important;visibility:visible!important;text-align:center!important;"}catch(n){a.default.throw("Could not find pasture for "+this.name+" on "+e+". Config divId "+t+" wasn't found in the DOM.",n)}}},{key:"setAd",value:function(){this.$pasture&&!this.$ad&&(this.$ad=document.createElement("div"),this.$ad.setAttribute("id",this.divId),this.$ad.setAttribute("aria-label","advertisement"),this.$ad.setAttribute("role","complementary"),this.$ad.classList.add(i.default.CLASS_NAMES.AD),this.$pasture.appendChild(this.$ad));try{var e="display:block!important;visibility:visible!important;";this.placementConfig.grayBox&&(e+="background-color:#eeeeee!important;width:728px!important;height:90px!important;margin:0 auto!important;"),this.$ad.style.cssText=e}catch(e){}}},{key:"clearPasture",value:function(){if(this.videoPlayer&&this.videoPlayer.destroy(),this.$ad&&(this.$ad.innerHTML=""),this.$pasture)for(var e=this.$pasture.children,t=0;t<e.length;t++){var n=e[t];n.classList.contains(i.default.CLASS_NAMES.AD)||n.classList.contains(i.default.CLASS_NAMES.LINK)||n.parentNode.removeChild(n)}}},{key:"skipDfpForViewability",value:function(e){return this.skipDfp>=e}},{key:"getViewportWidth",value:function(){return this.user.ua&&!isNaN(this.user.ua.viewportWidth)&&this.user.ua.viewportWidth>100?this.user.ua.viewportWidth:1e3}},{key:"destroy",value:function(e){this.sticky&&this.sticky.disableSticky(),window.GUMGUM&&window.GUMGUM.isad&&window.GUMGUM.removeISAd&&window.GUMGUM.removeISAd(),this.links.clearOldLink(this),window.SPARKFLOW&&window.SPARKFLOW.removeAds&&window.SPARKFLOW.removeAds(),document.querySelectorAll("."+this.divId+" .cpc-partner")&&this.clearPasture(),e&&(this.name===i.default.UNLOCK_PLACEMENT_NAME&&window.SBMGlobal.run.reloadActivity&&window.SBMGlobal.run.reloadActivity(null),this.hasParticipated=!1,this.clearPasture())}},{key:"slotRendered",value:function(e,t){var n=this;this.$pasture&&this.$ad&&t&&this.links.setLinksTextAndBasicStyles(this),this.makeAdVisible();try{var r=this.partners[Object.keys(this.partners).find((function(e){return e===t}))];r&&r.markViewableMs&&setTimeout((function(){return n.markViewable(e)}),r.markViewableMs),this.addEventListener()}catch(e){a.default.throw("Failed to set markViewable timer.",e)}try{this.auction&&this.auction.id===e&&(this.isRendered=!0,u.default.sendSbmAnalyticsEvents&&u.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.RENDERED,this))}catch(e){a.default.throw("Unable to mark placement "+this.name+" rendered.",e)}return this.sticky&&this.sticky.enableSticky(),this.resolveRender()}},{key:"markViewable",value:function(e){try{this.auction&&this.auction.id===e&&!this.iabViewable&&(this.iabViewable=!0,u.default.sendSbmAnalyticsEvents&&u.default.generatePerformanceIndex(i.default.PERFORMANCE_EVENTS.VIEWABLE,this)),this.sticky&&this.placementConfig.sticky&&this.placementConfig.sticky.disableStickyViewable&&(this.sticky.disableSticky(),a.default.log("Placement marked viewable: "+this.name,i.default.LOG_NAMESPACE.REFRESH))}catch(e){a.default.throw("Unable to mark placement "+this.name+" viewable.",e)}}},{key:"makeAdVisible",value:function(){try{var e=this.slotPath,t=document.getElementById("google_ads_iframe_"+e+"_0__container__"),n=document.getElementById("google_ads_iframe_"+e+"_0");t.style.position="relative";var r=0,o=setInterval((function(){r>=50&&clearInterval(o),n&&n.style.display&&(n.style.width="100%",n.style.height="100%",n.style.pointerEvents="none",n.style.display="block",n.style.visibility="visible",n.style.position="absolute",n.style.top="0",clearInterval(o)),r++}),100)}catch(e){a.default.log("Unable to alter CSS of ad container div: "+e,i.default.LOG_NAMESPACE.WARNING)}}},{key:"shouldDestroy",value:function(e){var t=e.isReload,n=e.isRefresh,r=e.shouldParticipate,i=e.advPlacements,a=e.union,o=e.sizeMatch;if(!i[this.name])return!0;if(n){if(!r)return!1}else if(t){if(this.placementConfig.skipReload)return!1;if(this.placementConfig.skipReloadViewable&&!this.iabViewable)return!1;if(this.placementConfig.skipReloadRendered&&!this.isRendered)return!1;if(a&&this.hasParticipated&&o)return!1}return!0}},{key:"addEventListener",value:function(){var e=this,t=this.$ad;try{var n=t.getElementsByTagName("iframe")[0];if(!n.contentWindow.document.body||!n.contentWindow.document.body.hasChildNodes())return;t=n.contentWindow.document.body}catch(e){return void a.default.log("Getting the div from iframe failed for MD partners: "+e,i.default.LOG_NAMESPACE.WARNING)}try{t.addEventListener("click",(function(){e.clickCallback()}),{once:!0})}catch(e){a.default.throw("Unable to add event listener",e)}}},{key:"clickCallback",value:function(){try{var e=u.default.getClickstreamAdInteractionData(this.name,this.auction.id);e?u.default.send({type:i.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:e}):a.default.log("Unable to retrieve winning clickstream data in click event",i.default.LOG_NAMESPACE.DATA)}catch(e){a.default.throw("Failed to send click event for placement: "+this.name,e)}}}],[{key:"placementObjectToArray",value:function(e){return Object.keys(e).map((function(t){return e[t]}))}}]),e})();t.default=c}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),o="\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tz-index:1000;\n\t}\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky-b1 {\n\t\twidth: 100%;\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tz-index:1000;\n\t\tleft: -64px;\n\t\tmin-width: 1240px;\n\t}\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky-top-right {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tright:10px;\n\t\tz-index:1000;\n\t}\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky-top-left {\n\t\tposition:fixed;\n\t\ttop:5px;\n\t\tleft:10px;\n\t\tz-index:1000;\n\t}\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky-bottom-right {\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tright:10px;\n\t\tz-index:1000;\n\t}\n\t."+a.default.CLASS_NAMES.STICKY+".sbm-sticky-bottom-left {\n\t\tposition:fixed;\n\t\tbottom:5px;\n\t\tleft:10px;\n\t\tz-index:1000;\n\t}\n",s=(function(){function e(t){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.enabled=!1,this.wasDocked=!1,this.placement=t,this.observer=window.IntersectionObserver?new window.IntersectionObserver(this.observerCb.bind(this),{threshold:[1,.5,.75,0]}):null}return r(e,[{key:"observerCb",value:function(e){try{var t=this.placement.placementConfig.sticky,n=void 0;if(t&&t[this.placement.auction.mode]&&(n=t[this.placement.auction.mode].className),n&&this.placement.$pasture){var r=this.placement.$pasture.getBoundingClientRect(),o=this.placement.name===a.default.VID_PLACEMENT_NAME?r.bottom<150:r.top<0;if(r.bottom-r.height>window.innerHeight||o){if("sbm-sticky"===n&&0===this.placement.$pasture.getBoundingClientRect().left){var s=(this.placement.$pasture.offsetWidth-this.placement.placementConfig.sizes[0][0])/2;this.placement.$ad.style.left=s+"px"}this.placement.$ad.classList.add(n),this.placement.name===a.default.VID_PLACEMENT_NAME&&(this.placement.videoPlayer&&this.placement.videoPlayer.player&&this.placement.videoPlayer.player.dock(),this.enableOverlay())}else this.placement.$ad.classList.remove(n),this.placement.name===a.default.VID_PLACEMENT_NAME&&(this.placement.videoPlayer&&this.placement.videoPlayer.player&&this.placement.videoPlayer.player.undock(r.bottom<150&&this.wasDocked),this.disableOverlay());this.wasDocked=r.bottom<0}}catch(e){i.default.throw("Failure handling sticky entry",e)}this.checkIntersection()}},{key:"enableSticky",value:function(){var e=this,t=void 0,n=this.placement.placementConfig.sticky;if(n&&this.observer&&n[this.placement.auction.mode]){t=n[this.placement.auction.mode];try{if(this.observer.observe(this.placement.$pasture),this.placement.$ad.classList.add(a.default.CLASS_NAMES.STICKY),n.ctaSelectors){var r=document.createElement("div");if("sbm-sticky"===t.className){var o=document.getElementById(this.placement.placementConfig.divId);r.style.left=o.getBoundingClientRect().left.toString()+"px"}r.classList.add(a.default.CLASS_NAMES.STICKY,t.className),r.id="shadow-"+this.placement.placementConfig.divId,r.style.width=this.placement.$ad.offsetWidth.toString()+"px",r.style.height=this.placement.$ad.offsetHeight.toString()+"px",r.style.zIndex="-1",document.body.appendChild(r),this.shadowDiv=r,setInterval((function(){e.observerCb(null)}),250)}this.enabled=!0}catch(e){i.default.throw("Error enabling sticky",e)}}}},{key:"disableSticky",value:function(){var e=this.placement.placementConfig.divId;if(this.placement.placementConfig.sticky&&this.observer)try{if(this.placement.$pasture&&(this.observer.unobserve(this.placement.$pasture),this.placement.$ad.classList.remove(a.default.CLASS_NAMES.STICKY)),this.placement.placementConfig.sticky.ctaSelectors){var t=document.getElementById("shadow-"+e);t&&t.remove()}this.enabled=!1}catch(e){i.default.throw("Error disabling sticky",e)}}},{key:"enableOverlay",value:function(){var e=[document.getElementById(a.default.IDS.NON_CLICKABLE_OVERLAY),document.getElementById(a.default.IDS.VIDEO_BUTTONS),document.getElementById(a.default.IDS.CLOSE)];e&&e.forEach((function(e){e&&e.classList.add(a.default.CLASS_NAMES.DOCKED)}))}},{key:"disableOverlay",value:function(){var e=[document.getElementById(a.default.IDS.NON_CLICKABLE_OVERLAY),document.getElementById(a.default.IDS.VIDEO_BUTTONS),document.getElementById(a.default.IDS.CLOSE)];e&&e.forEach((function(e){e&&e.classList.remove(a.default.CLASS_NAMES.DOCKED)}))}},{key:"checkIntersection",value:function(){var e=this;try{var t=this.placement.placementConfig.sticky;if(t&&t.ctaSelectors&&this.enabled)t.ctaSelectors.some((function(t){var n=document.querySelectorAll(t);return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(n)).some((function(t){var n=t.getBoundingClientRect(),r=e.shadowDiv.getBoundingClientRect();return e.collision(n,r)}))}))?this.placement.$ad.classList.remove(a.default.CLASS_NAMES.STICKY):this.placement.$ad.classList.add(a.default.CLASS_NAMES.STICKY)}catch(e){i.default.throw("Failure checking sticky footer elements",e)}}},{key:"collision",value:function(e,t){return!(e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}}],[{key:"insertStickyCss",value:function(t){if(!e.hasInsertedCss){var n=o;t&&t.sticky&&t.sticky.mediaMinWidth&&(n="@media screen and (min-width: "+t.sticky.mediaMinWidth+"px) { "+o+" }");var r=document.createElement("style");r.type="text/css",r.textContent=n,document.head.appendChild(r)}}}]),e})();s.hasInsertedCss=!1,t.Sticky=s}),(function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var s=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var u=n(2),c=n(1),d=n(17),l=[400,300],f=[640,480],p=[500,300],h=n(333),m=(function(){function e(t){var n=this,r=t.config,i=t.placement,a=t.user,o=t.getVideoStateByType,s=t.setManualPauseState,d=t.setManualMuteState,l=t.setContentVideoTrackingPixel,f=t.insertNativeVideoTrackingPixel;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.adErrorCount=0,this.adTimePerContentVid=0,this.auctionType="preroll",this.auctionWinners={},this.contentLoading=!1,this.contentInitTracked=!1,this.inFocus=window.document.hasFocus(),this.nileVideoBids=[],this.pbVideoBids=[],this.timerRequestMultiplier=0,this.shouldRequest=!0,this.updateContent=function(e){if(e!==n.contentIdx){n.contentIdx=e;var t=""+n.contentUrls[n.contentIdx].src;if(n.showCaptions){var r=n.contentUrls[n.contentIdx].captionSrc;r&&n.setTextTrack(r)}n.contentInitTracked=!1,n.player.src({type:"video/mp4",src:t})}},this.adsErrorHandler=this.adsErrorHandler.bind(this),this.adsReadyHandler=this.adsReadyHandler.bind(this),this.adTagIdx=0,this.showCaptions=r.showCaptions,this.containerId=i.name===u.default.UNLOCK_PLACEMENT_NAME?"custom_container":i.divId,this.contentIdx=0,this.contentUrls=r.contentUrls,this.descriptionUrl=r.descriptionUrl,this.params=r.params,this.partners=r.partners,this.pauseOnBlur=r.pauseOnBlur,this.pauseOnAd=r.pauseOnAd,this.placement=i,this.playlistConfig=r.playlistConfig,this.requestTimer=this.params.requestTimer,this.shouldRespectAdsRatio=r.shouldRespectAdsRatio,this.user=a,this.vidElemId="vjs-"+c.default.genUUID(),this.videoEventHandler=this.videoEventHandler.bind(this),this.getVideoStateByType=o,this.setManualPauseState=s,this.setManualMuteState=d,this.setContentVideoTrackingPixel=l,this.insertNativeVideoTrackingPixel=f}return i(e,[{key:"adsErrorHandler",value:function(e){var t=this,n=e.data.AdError.g.errorCode,r=u.default.VJS.FATAL_ERRS.indexOf(n)>-1;if(c.default.log("VAST adserror "+n+" occurred in Custom Player.",u.default.LOG_NAMESPACE.VIDEO),r){var i=this.auctionWinners[this.auctionId];if(i&&i.pbBid&&(i.pbBid.errored=!0),i&&i[u.default.CHANNEL_NAMES.NILE]&&(i[u.default.CHANNEL_NAMES.NILE].errored=!0),this.params.adOnError&&this.params.adOnError>this.adErrorCount&&(this.getWinningBid()||this.getNileBid())){this.adErrorCount++;var a=this.getVideoAdUnit();this.handleVideoBids(a)}else this.adErrorCount=0,setTimeout((function(){t.player.paused()&&(t.contentVideoPlaying=!0,t.play())}),2e3)}}},{key:"adsReadyHandler",value:function(){var e=this;u.default.VJS.EVENTS.IMA.forEach((function(t){e.player.ima.addEventListener(t,(function(n){"start"!==t&&"loaded"!==t&&"impression"!==t||e.setAdVolume(!0),"adProgress"===t&&(e.contentVideoPlaying=!1,e.inFocus||!e.pauseOnAd&&!e.pauseOnBlur||e.pause()),u.default.VJS.EVENTS.SKIP.indexOf(t)<0&&c.default.log("Ima event "+t+" occurred in Video JS Player.",u.default.LOG_NAMESPACE.VIDEO),t===window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&setTimeout((function(){e.player.paused()&&(e.contentVideoPlaying=!0,e.play())}),2e3)}))}))}},{key:"annotateNileBids",value:function(e,t){var n=this;c.default.log("Received "+e.length+" nile video bids",u.default.LOG_NAMESPACE.VIDEO),e.forEach((function(e){e.responseTimestamp=Date.now(),e.auctionType=n.auctionType,e.auctionId=n.auctionId,e.ttl=600,n.nileVideoBids.push(e)})),t()}},{key:"annotatePbBids",value:function(e,t){var n=this;c.default.log("Prebid video auction done",u.default.LOG_NAMESPACE.VIDEO),e&&e[this.placement.divId]&&e[this.placement.divId].bids.length&&(c.default.log("Received "+e[this.placement.divId].bids.length+" video bids",u.default.LOG_NAMESPACE.VIDEO),this.pbVideoBids=this.pbVideoBids.concat(e[this.placement.divId].bids.map((function(e){return e.auctionId=n.auctionId,e.cuePoint=n.currentCuePoint,e.auctionType=n.auctionType,e})))),t()}},{key:"createCustomPlayer",value:function(){return s(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.loadCssFiles(),e.next=3,this.loadPlayerFiles(this.params);case 3:return this.playlistConfig&&this.playlistConfig.shouldShow&&(this.playlist=new h.default({placement:this.placement,config:this.playlistConfig,contentUrls:this.contentUrls,updateCurrentContent:this.updateContent}),this.playlist.createVideoPlaylist()),e.next=6,this.createPlayer(this.params,this.user);case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e,this)})))}},{key:"createPlayer",value:function(e,t){return s(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a,o,s,d,l,f,p,h=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r=e.videoParams,i=e.imaParams,a=e.kvps,o=e.pixel,s=e.cuePoints,d=a?"&"+a+"&tg="+t.tg:"&tg="+t.tg,this.contentUrls){n.next=4;break}return n.abrupt("return");case 4:return l=this.contentUrls[this.contentIdx],f=l.src,p=l.captionSrc,"",c.default.log("Initial load with (content, ad tag): "+f+", ",u.default.LOG_NAMESPACE.VIDEO),n.abrupt("return",new Promise((function(e){c.default.onDocReady((function(){try{var t=document.createElement(u.default.MEDIA_TYPES.VIDEO);t.className="video-js vjs-default-skin",t.muted=!0,t.id=h.vidElemId,h.showCaptions&&(t.crossOrigin="anonymous"),h.playlistConfig&&h.playlistConfig.shouldShow&&(t.style.order="1"),o&&h.setPixel(o,d),h.createVideoPlayer({divId:h.containerId,videoElem:t,src:f,videoParams:r,captionSrc:p}),h.observeVjs(),h.isLvp()&&h.createDockedButtonContainer(),h.setPlayPauseStateListeners(),h.setMuteEventsHandler(),h.initializeVideoAds(h.vidElemId,"",i),h.placement.name!==u.default.UNLOCK_PLACEMENT_NAME&&(h.setVideoEventHandler(s,t,h.videoEventHandler),h.setAdsEventHandler(h.adsErrorHandler,h.adsReadyHandler)),e(t)}catch(t){c.default.throw("Video partner custom failed to create",t),e(null)}}))})));case 8:case"end":return n.stop()}}),n,this)})))}},{key:"getEventData",value:function(e){var t={};try{if(e.getAd){var n=e.getAd(),r=n.getAdSystem();n.g&&n.g.creativeId&&(t.creativeId=+n.g.creativeId),t.adSystem=r;var i=this.auctionWinners[this.auctionId],a=i&&i[u.default.CHANNEL_NAMES.NILE]?i[u.default.CHANNEL_NAMES.NILE]:{},o=i&&i.pbBid?i.pbBid:{};"Amazon"===r?(t.partner=u.default.CHANNEL_NAMES.NILE,t.encodedCpm=a.amznbid,a.dfpWinner=!0,o&&o.nextBid&&(t.nextBidCpm=o.nextBid.cpm,t.nextBidPartner=o.nextBid.bidder)):"GDFP"===r||r.indexOf("AdSense")>-1?(t.partner=u.default.CHANNEL_NAMES.ADX,o&&(t.cpm=o.cpm,t.nextBidCpm=o.cpm,t.nextBidPartner=o.bidder),a&&(t.encodedCpm=a.amznbid)):i&&i.pbBid?(t.partner=o.bidder,t.cpm=o.cpm,t.cached=o.cached,o.dfpWinner=!0,o.nextBid&&(t.nextBidCpm=o.nextBid.cpm,t.nextBidPartner=o.nextBid.bidder)):t.partner=u.default.CHANNEL_NAMES.NONE}}catch(e){c.default.log("Trying to get winner from ad: ",u.default.LOG_NAMESPACE.VIDEO)}return t}},{key:"observeVjs",value:function(){var e=this,t=document.getElementById(this.vidElemId),n=t?[].concat(o(t.classList)):[];new MutationObserver((function(r){r.forEach((function(r){if("class"===r.attributeName){var i=[].concat(o(t.classList)).filter((function(e){return-1===n.indexOf(e)})),a=n.filter((function(e){return-1===[].concat(o(t.classList)).indexOf(e)}));i.indexOf("vjs-ad-loading")>-1&&(e.contentLoading=!0),a.indexOf("vjs-ad-loading")>-1&&(e.contentLoading=!1),n=[].concat(o(t.classList))}}))})).observe(t,{attributes:!0})}},{key:"createVideoPlayer",value:function(e){var t=this,n=e.divId,r=e.videoElem,i=e.src,a=e.videoParams,o=e.captionSrc;document.getElementById(n).appendChild(r);var s=this.placement.placementConfig,c=s.video,d=s.sizes,h=c&&c.playerSize?c.playerSize[0]:d[0][0],m=c&&c.playerSize?c.playerSize[1]:d[0][1];this.sizes=d,this.size=l,this.placement.name===u.default.UNLOCK_PLACEMENT_NAME?this.size=f:this.isLvp()&&(this.size=p);var g=window.videojs(r.id,Object.assign({width:h,height:m,controls:!1,autoplay:!0,muted:!0},a));g.src({type:"video/mp4",src:i}),this.placement.name!==u.default.UNLOCK_PLACEMENT_NAME&&g.src({type:"video/mp4",src:i}),this.showCaptions&&o&&window.videojs(this.vidElemId).ready((function(){t.setTextTrack(o),g.textTracks()[0].mode="showing"})),this.player=g,window.VIDEO=this.player}},{key:"createDockedButton",value:function(e){var t=document.createElement("div");return t.id=e+"-button",t}},{key:"createDockedButtonContainer",value:function(){var e=this,t=document.createElement("div");t.id=u.default.IDS.NON_CLICKABLE_OVERLAY;var n=document.createElement("div");n.id=u.default.IDS.VIDEO_BUTTONS;var r=this.createDockedButton("play-pause");n.appendChild(r),r.classList.add(u.default.VIDEO_PLAYER_EVENTS.PAUSE);var i=this.createDockedButton("mute-unmute");n.appendChild(i),i.classList.add(u.default.VIDEO_PLAYER_EVENTS.MUTE);var a=this.createDockedButton("close");n.appendChild(a),a.addEventListener("click",(function(){if(e.placement.sticky){e.placement.sticky.disableSticky(),e.placement.sticky.disableOverlay(),e.undock(!1);var t={text:"X",name:"close video",region_name:u.default.LARGE_VIDEO_PLAYER},n=d.default.getClickstreamInteractionData(t);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:n})}})),t.appendChild(n),document.getElementById(this.containerId).appendChild(t)}},{key:"setMuteEventsHandler",value:function(){var e=this,t=document.getElementById(u.default.IDS.MUTE_UNMUTE);t&&t.addEventListener("click",(function(){var n=[].concat(o(t.classList)).includes(u.default.VIDEO_PLAYER_EVENTS.UNMUTE);n?(e.setManualMuteState(!0),e.swapButtonState(u.default.IDS.MUTE_UNMUTE,u.default.VIDEO_PLAYER_EVENTS.UNMUTE),e.setPlayerVolume(!0),e.setAdVolume(!0)):(e.setManualMuteState(!1),e.swapButtonState(u.default.IDS.MUTE_UNMUTE,u.default.VIDEO_PLAYER_EVENTS.MUTE),e.setPlayerVolume(!1),e.setAdVolume(!1));var r=n?u.default.VIDEO_PLAYER_EVENTS.MUTE:u.default.VIDEO_PLAYER_EVENTS.UNMUTE,i={text:r,name:r,region_name:e.isLvp()?u.default.LARGE_VIDEO_PLAYER:u.default.REGULAR_VIDEO_PLAYER},a=d.default.getClickstreamInteractionData(i);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:a})}))}},{key:"dock",value:function(){if(this.isDocked=!0,this.player){this.player.width(400),this.player.height(300);var e={text:u.default.VIDEO_PLAYER_EVENTS.COLLAPSE,name:u.default.VIDEO_PLAYER_EVENTS.COLLAPSE,region_name:u.default.LARGE_VIDEO_PLAYER},t=d.default.getClickstreamInteractionData(e);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:t})}document.getElementById("D_VID").firstChild.classList.add("rand_docked")}},{key:"undock",value:function(e){if(this.isDocked=!1,this.player){var t=r(this.placement.videoPlayer.player.sizes[0],2),n=t[0],i=t[1];if(this.placement.videoPlayer.player.player.width(n),this.placement.videoPlayer.player.player.height(i),e){var a={text:u.default.VIDEO_PLAYER_EVENTS.EXPAND,name:u.default.VIDEO_PLAYER_EVENTS.EXPAND,region_name:u.default.LARGE_VIDEO_PLAYER},o=d.default.getClickstreamInteractionData(a);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:o})}}document.getElementById("D_VID").firstChild.classList.remove("rand_docked")}},{key:"getNileAdUnit",value:function(){var e=this;return this.partners[u.default.CHANNEL_NAMES.NILE]?this.partners[u.default.CHANNEL_NAMES.NILE].tags.reduce((function(t,n){return n.auctionType===e.auctionType&&t.push({slotID:n.params.slotID,mediaType:u.default.MEDIA_TYPES.VIDEO}),t}),[]):[]}},{key:"getNileBid",value:function(){var e=this;if(this.nileVideoBids.length)return this.nileVideoBids=this.nileVideoBids.filter((function(t){return!t.dfpWinner&&(!t.errored&&(t.auctionId===e.auctionId||!!e.params.allowNileCache&&(t.ttl&&Date.now()-t.responseTimestamp<1e3*t.ttl)))})),this.nileVideoBids.filter((function(t){return t.auctionType===e.auctionType}))[0]}},{key:"getVideoAdUnit",value:function(){var e,t=this;e=Object.keys(this.partners).reduce((function(e,n){return t.partners[n].tags.forEach((function(r){if(n!==u.default.CHANNEL_NAMES.NILE){if(t.params.floors&&t.partners[n].floor){var i=t.partners[n].floor,o=i.key,s=i.format,c=t.placement.auction.bidFlooring.getVideoFloor(t.params.floors,s);o&&c&&(r.params=Object.assign(r.params,a({},o,c)))}r.auctionType===t.auctionType&&("ix"===n&&(r.params.size=t.size),e.push({bidder:n,params:r.params}))}})),e}),[]);var n={video:{context:"instream",playerSize:[this.size]}};return this.params.mediaTypeParams&&Object.assign(n.video,this.params.mediaTypeParams),{code:this.placement.divId,sizes:[this.size],mediaTypes:n,bids:e}}},{key:"getVideoBids",value:function(e,t){var n=this;return new Promise((function(r){var i=window.pbjs,a=n,o=new Promise((function(e){if(t.length<1)return e();window.apstag&&window.apstag.fetchBids({slots:t},(function(t){return a.annotateNileBids(t,e)}))})),s=new Promise((function(t){i.cmd.push((function(){c.default.log("Running Prebid Video",u.default.LOG_NAMESPACE.VIDEO),i.requestBids({adUnits:[e],bidsBackHandler:function(e){return a.annotatePbBids(e,t)}})}))})),d=new Promise((function(e){setTimeout(e,n.params.timeout||3e3)}));Promise.all([Promise.race([d,o]),Promise.race([d,s])]).then((function(e){r(e)}))}))}},{key:"getVideoUrl",value:function(e){var t={iu:this.placement.slotPath+"_"+this.auctionType,description_url:encodeURIComponent(this.descriptionUrl),cust_params:{TEST:window.DFPTEST,tg:this.user.tg,experiment:this.user.experiment}};c.default.getOptimizelyKvps().forEach((function(e){var n=e.experiment,r=e.variation;Object.assign(t.cust_params,a({},n,r))}));var n=this.getNileBid();if(n){var r=n.amzniid,i=n.amznbid,o=n.amznp;Object.assign(t.cust_params,{amzniid:r,amznbid:i,amznp:o}),this.auctionWinners[this.auctionId][u.default.CHANNEL_NAMES.NILE]=n}var s=this.getWinningBids(),d=s[0],l=s[1];if(d){l&&(d.nextBid=l),this.auctionWinners[this.auctionId].pbBid=d;var f=e.bids.find((function(e){return e.bidder===d.bidder}));if(f){var p=f.params.cacheHost||"https://prebid.adnxs.com/pbc/v1/cache";Object.assign(t.cust_params,{hb_cache_host:p})}}var h=Object.assign({},e,{sizes:this.sizes});h.mediaTypes.video.playerSize=this.sizes;var m=void 0;try{var g={bid:d,adUnit:h,params:t};m=window.pbjs.adServers.dfp.buildVideoUrl(g)}catch(e){c.default.log("Failed to build video url: "+e,u.default.LOG_NAMESPACE.WARNING)}return[m,d]}},{key:"getWinningBid",value:function(){return this.getWinningBids()[0]}},{key:"getWinningBids",value:function(){var e=this;return this.pbVideoBids=this.pbVideoBids.filter((function(t){return!t.dfpWinner&&(!t.errored&&(t.auctionId===e.auctionId||!(!e.partners[t.bidder]||!e.partners[t.bidder].allowBidCache)&&(t.ttl&&Date.now()-t.responseTimestamp<1e3*t.ttl)))})),this.pbVideoBids.filter((function(t){return t.auctionType===e.auctionType})).sort((function(e,t){return t.cpm-e.cpm}))}},{key:"handleVideoBids",value:function(e){var t=this.getVideoUrl(e),n=r(t,1)[0];this.invokeVideoPlayer(n)}},{key:"initializeVideoAds",value:function(e,t,n){this.player.ima(Object.assign({id:e,adTagUrl:t,showControlsForJSAds:!1,vpaidMode:window.google.ima.ImaSdkSettings.VpaidMode.INSECURE,adsRenderingSettings:{enablePreloading:!0,loadVideoTimeout:9e3,mediaLoadTimeout:1e4}},n))}},{key:"invokeVideoPlayer",value:function(e){var t=this;e&&window.videojs&&window.videojs(this.vidElemId).ready((function(){t.player.ima.changeAdTag(e),t.player.ima.requestAds()}))}},{key:"loadCssFiles",value:function(){var e=this.params.cssUrls;e&&e.forEach((function(e){c.default.embedCss(e)}))}},{key:"loadPlayerFiles",value:function(e){return s(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.imaUrl,r=e.vjsUrl,t.abrupt("return",new Promise((function(e){c.default.launchScript(r,(function(){c.default.launchScript(n,(function(){e()}),(function(){return c.default.throw("Error loading google.ima dependency script.")}))}),(function(){return c.default.throw("Error loading video.js dependency script.")}))})));case 2:case"end":return t.stop()}}),t,this)})))}},{key:"setAdVolume",value:function(e){if(this.player.ima){var t=this.player.ima.getAdsManager();if(t)if(e)this.getVideoStateByType(u.default.VIDEO_SESSION_STATE.MANUAL_MUTE)&&t.setVolume(0);else t.setVolume(.75)}}},{key:"setPlayerVolume",value:function(e){this.player&&(e?this.player.muted(!0):this.player.muted(!1))}},{key:"play",value:function(){this.getVideoStateByType(u.default.VIDEO_SESSION_STATE.MANUAL_PAUSE)||(this.contentVideoPlaying?this.player.play():this.player.ima&&this.player.ima.resumeAd())}},{key:"pause",value:function(){(this.pauseOnAd||this.pauseOnBlur)&&(this.pauseOnBlur?this.contentVideoPlaying?this.player.pause():this.player.ima.pauseAd():this.pauseOnAd&&(this.contentVideoPlaying||this.player.ima.pauseAd()))}},{key:"runAuction",value:function(){var e=this;this.shouldRequest=!1,this.adErrorCount=0,this.auctionId=c.default.genUUID(),this.auctionWinners[this.auctionId]={};var t=this.getVideoAdUnit(),n=this.getNileAdUnit();this.getVideoBids(t,n).then((function(){return e.handleVideoBids(t)}))}},{key:"setAdsEventHandler",value:function(e,t){var n=this;this.player.on("adserror",(function(t){return e(t)})),this.player.on("adsready",(function(){return t()})),this.player.on("click",(function(e){var t=n.contentUrls[n.contentIdx],r="vjs-control-bar",i="vjs-icon-placeholder";if(t.clickThroughURL){var a=!0;e&&e.target&&e.target.classList&&(a=![].concat(o(e.target.classList)).some((function(e){return[r,i].includes(e)}))),a&&window.open(t.clickThroughURL,"_blank")}}))}},{key:"setPixel",value:function(e,t){var n=""+e+t,r=document.createElement("IMG");r.setAttribute("src",n),document.body.appendChild(r)}},{key:"isLvp",value:function(){var e=this.placement.videoPlayer;if(e&&e.player&&e.player.sizes&&Array.isArray(e.player.sizes)&&Array.isArray(e.player.sizes[0]))return e.player.sizes[0].includes(500)&&e.player.sizes[0].includes(283)}},{key:"resetPlayer",value:function(){this.adTagIdx=0,this.adTimePerContentVid=Math.floor(this.adTimePerContentVid-this.player.duration()),this.contentInitTracked=!1,this.shouldRequest=!0,this.contentIdx=(this.contentIdx+1)%this.contentUrls.length;var e=""+this.contentUrls[this.contentIdx].src;if(this.playlist&&this.playlist.updateActiveEntry(this.contentIdx),this.showCaptions){var t=this.contentUrls[this.contentIdx].captionSrc;t&&this.setTextTrack(t)}this.player.src({type:"video/mp4",src:e}),this.params.requestTimer&&(this.timerRequestMultiplier=0),c.default.log("Resetting video content: "+e,u.default.LOG_NAMESPACE.VIDEO)}},{key:"setPlayPauseStateListeners",value:function(){var e=this,t=document.getElementById(u.default.IDS.PLAY_PAUSE);t&&t.addEventListener("click",(function(){var n=[].concat(o(t.classList)).includes(u.default.VIDEO_PLAYER_EVENTS.PAUSE);n?(e.setManualPauseState(!0),e.contentLoading||e.swapButtonState(u.default.IDS.PLAY_PAUSE,u.default.VIDEO_PLAYER_EVENTS.PAUSE),e.contentVideoPlaying?e.player.pause():e.player.ima.pauseAd()):(e.setManualPauseState(!1),e.contentLoading||e.swapButtonState(u.default.IDS.PLAY_PAUSE,u.default.VIDEO_PLAYER_EVENTS.PLAY),e.contentVideoPlaying?e.play():e.player.ima.resumeAd());var r=n?u.default.VIDEO_PLAYER_EVENTS.PAUSE:u.default.VIDEO_PLAYER_EVENTS.UNPAUSE,i={text:r,name:r,region_name:e.isLvp()?u.default.LARGE_VIDEO_PLAYER:u.default.REGULAR_VIDEO_PLAYER},a=d.default.getClickstreamInteractionData(i);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:a})}))}},{key:"setTextTrack",value:function(e){this.currTrackElem&&this.player.removeRemoteTextTrack(this.currTrackElem),this.currTrackElem=this.player.addRemoteTextTrack({kind:"captions",label:"English",src:e})}},{key:"setVideoEventHandler",value:function(e,t,n){u.default.VJS.EVENTS.HTML.forEach((function(r){t.addEventListener(r,(function(){return n(r,e)}))}))}},{key:"swapButtonState",value:function(e,t){if(this.isLvp()){var n=void 0;n=e===u.default.IDS.PLAY_PAUSE?t===u.default.VIDEO_PLAYER_EVENTS.PLAY?u.default.VIDEO_PLAYER_EVENTS.PAUSE:u.default.VIDEO_PLAYER_EVENTS.PLAY:t===u.default.VIDEO_PLAYER_EVENTS.MUTE?u.default.VIDEO_PLAYER_EVENTS.UNMUTE:u.default.VIDEO_PLAYER_EVENTS.MUTE;var r=document.getElementById(e);r.classList.remove(t),r.classList.add(n)}}},{key:"trackContentStart",value:function(){var e=this.contentUrls[this.contentIdx],t={eventName:u.default.VIDEO_EVENTS.CONTENT_START,player:u.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,contentTitle:e.title};d.default.send({type:u.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:t})}},{key:"insertTrackingContentVideoTag",value:function(){var e=this.contentUrls[this.contentIdx];this.insertNativeVideoTrackingPixel(e.trackingUrl,e.title),this.setContentVideoTrackingPixel(e.trackingUnit,e.title)}},{key:"sendLosingBids",value:function(e,t,n){var r=this;if(!d.default.config||d.default.config.sendLosingVideoBidsEvents){var i=this.pbVideoBids.filter((function(t){return t.auctionId===e&&!t.dfpWinner})),a={player:u.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,cuePoint:n,auctionType:t,auctionId:e,location:this.user.country};i.forEach((function(e){var t=Object.assign({},a,{partner:e.bidder,cpm:e.cpm,placement:r.placement.name,wonImpression:!1,bidId:c.default.genUUID(),isInitialAuction:r.user.isInitialAuction,mode:r.placement.auction.mode,cached:!1}),n=d.default.transformImpressionData(t),i=d.default.generateVideoClickStreamEvent(n);d.default.send({type:u.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:i})}))}}},{key:"videoEventHandler",value:function(e,t){if("timeupdate"===e){this.contentVideoPlaying=!0,this.contentInitTracked||(this.trackContentStart(),this.insertTrackingContentVideoTag(),this.contentInitTracked=!0),!this.inFocus&&this.pauseOnBlur&&this.pause();var n=this.player.currentTime();if(t&&"number"==typeof t[this.adTagIdx]){if(n>.01*this.player.duration()*t[this.adTagIdx]&&this.shouldRequest){if(this.shouldRespectAdsRatio&&!(this.player.duration()>this.adTimePerContentVid))return void this.adTagIdx++;this.sendLosingBids(this.auctionId,this.auctionType,this.currentCuePoint),this.currentCuePoint=t[this.adTagIdx],this.auctionType=0===this.currentCuePoint?"preroll":"midroll",c.default.log("Requesting ads for cue point: "+t[this.adTagIdx],u.default.LOG_NAMESPACE.VIDEO),this.runAuction(),this.adTagIdx++}}else if(this.params.requestTimer){if(n>=this.timerRequestMultiplier*this.requestTimer/1e3&&this.shouldRequest){if(this.shouldRespectAdsRatio&&!(this.player.duration()>this.adTimePerContentVid))return void this.timerRequestMultiplier++;this.auctionType=this.timerRequestMultiplier>0?"midroll":"preroll",this.timerRequestMultiplier++,this.runAuction()}}}if("ended"===e){var r={eventName:u.default.VIDEO_EVENTS.CONTENT_COMPLETE,player:u.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,contentTitle:this.contentUrls[this.contentIdx].title};d.default.send({type:u.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:r}),this.resetPlayer()}u.default.VJS.EVENTS.SKIP.indexOf(e)<0&&c.default.log("Video event "+e+" occurred in Video JS Player.",u.default.LOG_NAMESPACE.VIDEO)}}]),e})();t.default=m}),(function(e,t,n){var r=n(120);function i(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return i=function(){return e},e}e.exports=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!==r(e)&&"function"!=typeof e)return{default:e};var t=i();if(t&&t.has(e))return t.get(e);var n={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){var s=a?Object.getOwnPropertyDescriptor(e,o):null;s&&(s.get||s.set)?Object.defineProperty(n,o,s):n[o]=e[o]}return n.default=e,t&&t.set(e,n),n}}),(function(e,t){function n(t){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=n=function(e){return typeof e}:e.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(t)}e.exports=n}),(function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.errorEmitter=t.init=t.reset=void 0;t.reset=function(){r=void 0};var i=function(e){r=e||console.error};t.init=i;t.errorEmitter=function(e){r||i(),r(e)}}),(function(e,t,n){var r=n(123);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}}),(function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.sendImmediateRequest=void 0;var i=r(n(12)),a=r(n(54)),o=r(n(55)),s=r(n(125)),u=n(13),c=r(n(14)),d=n(10);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var p=(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,u,c,d,l,f,p;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.options,i=t.data,o=t.retries,u=t.retriesRemaining,c=t.delay,e.prev=1,l=i?"post":"get",f=!0===r.withCredentials,p=r.headers?r.headers:{},e.next=7,(0,s.default)({method:l,url:n,data:i,withCredentials:f,headers:p});case 7:d=e.sent,e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,v({retries:o,retriesRemaining:u,delay:c,url:n,options:r,data:i,error:e.t0});case 14:d=e.sent;case 15:return e.abrupt("return",d);case 16:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(t){return e.apply(this,arguments)}})(),h=(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,u,c;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,i=t.options,u=f({"content-type":"application/json;charset=UTF-8"},(o=void 0===i?{}:i).headers),c=!0===o.withCredentials,e.prev=3,e.abrupt("return",fetch(n,{method:"POST",headers:u,keepalive:!0,credentials:c?"include":"same-origin",body:JSON.stringify(r)}));case 7:return e.prev=7,e.t0=e.catch(3),e.abrupt("return",(0,s.default)({method:"POST",headers:u,url:n,data:r,withCredentials:!0}));case 10:case"end":return e.stop()}}),e,null,[[3,7]])})));return function(t){return e.apply(this,arguments)}})();t.sendImmediateRequest=h;var m=function(e){return setTimeout((function(){c.default.log(new Error("Request to ".concat(e," took greater than ").concat(u.SLOW_RESPONSE_THRESHOLD," to complete")))}),u.SLOW_RESPONSE_THRESHOLD)},g=(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s,c,d;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.url,r=t.data,i=t.retries,o=t.options,s=void 0===o?{}:o,c=m(n),e.next=4,p({url:n,data:r,options:s,retries:i,retriesRemaining:i,delay:u.DELAY_BETWEEN_RETRIES});case 4:return d=e.sent,clearTimeout(c),e.abrupt("return",d);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),v=(function(){var e=(0,o.default)(a.default.mark((function e(t){var n,r,i,o,s,u,l,f;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.retries,r=t.retriesRemaining,i=t.delay,o=t.url,s=t.options,u=t.data,l=t.error,r===n&&(l.message="RSW's first request to ".concat(o," failed. Retrying. ").concat(l.message),c.default.log(l)),r===n-1&&0!==r&&(l.message="RSW request to ".concat(o," failed twice in a row. Will continue to retry"),c.default.error(l)),0!==r){e.next=7;break}return l.message="RSW request to ".concat(o," failed all ").concat(n," retries. ").concat(l.message),c.default.error(l),e.abrupt("return",l);case 7:return f=r-1,e.abrupt("return",(0,d.wrapTimeout)((function(){return p({url:o,options:s,data:u,retries:n,delay:i,retriesRemaining:f})}),i));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),y=g;t.default=y}),(function(e,t,n){e.exports=n(280)}),(function(e,t,n){"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}}),(function(e,t,n){"use strict";var r=n(15);function i(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var a;if(n)a=n(t);else if(r.isURLSearchParams(t))a=t.toString();else{var o=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),o.push(i(t)+"="+i(e))})))})),a=o.join("&")}if(a){var s=e.indexOf("#");-1!==s&&(e=e.slice(0,s)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}}),(function(e,t,n){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}}),(function(e,t,n){"use strict";(function(t){var r=n(15),i=n(286),a={"Content-Type":"application/x-www-form-urlencoded"};function o(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var s,u={adapter:("undefined"!=typeof XMLHttpRequest?s=n(130):void 0!==t&&"[object process]"===Object.prototype.toString.call(t)&&(s=n(130)),s),transformRequest:[function(e,t){return i(t,"Accept"),i(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(o(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)?(o(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};u.headers={common:{Accept:"application/json, text/plain, */*"}},r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(a)})),e.exports=u}).call(this,n(285))}),(function(e,t,n){"use strict";var r=n(15),i=n(287),a=n(289),o=n(127),s=n(290),u=n(293),c=n(294),d=n(131);e.exports=function(e){return new Promise((function(t,n){var l=e.data,f=e.headers;r.isFormData(l)&&delete f["Content-Type"];var p=new XMLHttpRequest;if(e.auth){var h=e.auth.username||"",m=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";f.Authorization="Basic "+btoa(h+":"+m)}var g=s(e.baseURL,e.url);if(p.open(e.method.toUpperCase(),o(g,e.params,e.paramsSerializer),!0),p.timeout=e.timeout,p.onreadystatechange=function(){if(p&&4===p.readyState&&(0!==p.status||p.responseURL&&0===p.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in p?u(p.getAllResponseHeaders()):null,a={data:e.responseType&&"text"!==e.responseType?p.response:p.responseText,status:p.status,statusText:p.statusText,headers:r,config:e,request:p};i(t,n,a),p=null}},p.onabort=function(){p&&(n(d("Request aborted",e,"ECONNABORTED",p)),p=null)},p.onerror=function(){n(d("Network Error",e,null,p)),p=null},p.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(d(t,e,"ECONNABORTED",p)),p=null},r.isStandardBrowserEnv()){var v=(e.withCredentials||c(g))&&e.xsrfCookieName?a.read(e.xsrfCookieName):void 0;v&&(f[e.xsrfHeaderName]=v)}if("setRequestHeader"in p&&r.forEach(f,(function(e,t){void 0===l&&"content-type"===t.toLowerCase()?delete f[t]:p.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(p.withCredentials=!!e.withCredentials),e.responseType)try{p.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&p.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&p.upload&&p.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){p&&(p.abort(),n(e),p=null)})),l||(l=null),p.send(l)}))}}),(function(e,t,n){"use strict";var r=n(288);e.exports=function(e,t,n,i,a){var o=new Error(e);return r(o,t,n,i,a)}}),(function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){t=t||{};var n={},i=["url","method","data"],a=["headers","auth","proxy","params"],o=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],s=["validateStatus"];function u(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function c(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(e[i],t[i])}r.forEach(i,(function(e){r.isUndefined(t[e])||(n[e]=u(void 0,t[e]))})),r.forEach(a,c),r.forEach(o,(function(i){r.isUndefined(t[i])?r.isUndefined(e[i])||(n[i]=u(void 0,e[i])):n[i]=u(void 0,t[i])})),r.forEach(s,(function(r){r in t?n[r]=u(e[r],t[r]):r in e&&(n[r]=u(void 0,e[r]))}));var d=i.concat(a).concat(o).concat(s),l=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===d.indexOf(e)}));return r.forEach(l,c),n}}),(function(e,t,n){"use strict";function r(e){this.message=e}r.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},r.prototype.__CANCEL__=!0,e.exports=r}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.structureTestCells=t.enrichEventsWithAdobeData=t.addAdobeData=void 0;var i=r(n(89)),a=r(n(120)),o=r(n(54)),s=r(n(55)),u=r(n(12)),c=r(n(135)),d=n(53),l=n(13),f=n(67),p=n(301),h=n(302);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=function(e,t){var n=t.mcid,r=g(g({},e.extensions.client_common),{},{adobe_mcid:n});return g(g({},e),{},{extensions:{client_common:r}})};t.addAdobeData=v;var y=(function(){var e=(0,s.default)(o.default.mark((function e(t){var n;return o.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,d.getAdobeData)();case 2:return n=e.sent,e.abrupt("return",t.map((function(e){return v(e,n)})));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})();t.enrichEventsWithAdobeData=y;var b=function(e){var t;return t=Array.isArray(e)||"object"!==(0,a.default)(e)?e:Object.entries(e).reduce((function(e,t){var n=(0,i.default)(t,2),r=n[0],a=n[1];return e.push({layer:r,cell:a}),e}),[]),t};t.structureTestCells=b;var E=function(e,t){var n=t.type,r=t.data,i=t.eventTime,a=t.eventVersion,o=t.options,s=(void 0===o?{}:o).sessionStateOverrides||{},u=g(g({},e.stateManager.get()),s),d=u.analyticsAgent,m=u.appId,v=u.appVer,y=u.cheggUuid,E=u.authState,_=u.clientIpAddress,S=u.clientExperiments,A=u.experiments,w=u.subscriptions,O=u.testCells,I=u.rswVersion,C=u.userAgent,T=u.browserName,P=u.browserVersion,x=u.osName,k=u.osVersion,N=u.platform,D=u.property,R=u.url,j=u.referralUrl,M=u.uvn,B=u.view,U=u.viewPrevious,L=u.dfid,V=b(O),F=(0,f.getCurrentUrl)(R),G={url:F,platform:N,analytics_agent:d,user_agent:C,chegg_uuid:y,auth_state:E,client_ip_address:_,test_cells:V,client_experiments:S,experiments:A,referral_url:(0,f.getCurrentReferrer)(j),app_ver:v,browser_name:T,browser_version:P,os:x,os_ver:k,analytics_module_version:I,user_subscription_status:w||[],base_event_type:l.BASE_EVENT_TYPE,base_event_version:l.BASE_EVENT_VERSION,uvn:M,view:B,view_previous:U,dfid:L,window_dimensions:(0,p.getWindowDimensions)()},q=(0,h.enrichSessionWithCookies)(G),z=(0,f.getTopLevelDomain)(F),W=r;return e.eventContentCache.shouldEnrichEventWithCachedContent(t)&&(W=e.eventContentCache.enrichEventData(r)),{data:W,event_id:c.default.get(),event_time:i.toISOString(),cloud_events_version:"0.1",event_type:"".concat(z,".").concat(D,".").concat(n),source:"/".concat(l.BASE_EVENT_TYPE,"/").concat(D,"/").concat(m),event_type_version:a&&a.toString(),content_type:"application/json",extensions:{client_common:q}}};t.default=E}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;for(var r=[],i=0;i<256;i++)r[i]=(i<16?"0":"")+i.toString(16);var a={get:function(){var e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,n=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return"".concat(r[255&e]+r[e>>8&255]+r[e>>16&255]+r[e>>24&255],"-").concat(r[255&t]).concat(r[t>>8&255],"-").concat(r[t>>16&15|64]).concat(r[t>>24&255],"-").concat(r[63&n|128]).concat(r[n>>8&255],"-").concat(r[n>>16&255]).concat(r[n>>24&255]).concat(r[255&i]).concat(r[i>>8&255]).concat(r[i>>16&255]).concat(r[i>>24&255])}};t.default=a}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(38)),a=r(n(12)),o=n(303),s=r(n(304));function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}var c=n(309),d=function e(t){var n=this;(0,i.default)(this,e),(0,a.default)(this,"_state",void 0),(0,a.default)(this,"_client",void 0),(0,a.default)(this,"update",(function(e){n._state.view&&e.view&&!(0,o.deepEquals)(e.view,n._state.view)&&(n._state=c(n._state,(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({viewPrevious:n._state.view},e),{arrayMerge:function(e,t){return(0,s.default)(e,t)}})),n._state=c(n._state,e,{arrayMerge:function(e,t){return(0,s.default)(e,t)}}),e.view&&n._client.viewPreviousCache.update(n._state.view)})),(0,a.default)(this,"init",this.update),(0,a.default)(this,"get",(function(){return c({},n._state)})),(0,a.default)(this,"reset",(function(){n._state={}})),this._state={},this._client=t};t.default=d}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.get=void 0;var i=r(n(14)),a=n(13),o=n(115);t.get=function(e){var t,n=o.getParser(e).getResult(),r=n.browser,s=r.name,u=r.version,c=n.os,d=c.name,l=c.version,f=n.platform.type;return a.PLATFORM_WHITELIST.includes(f)?t=f:i.default.error(new Error("Unknown device platform detected.  Expecting ".concat(a.PLATFORM_WHITELIST.join(" | "),". Received instead ").concat(f,". This was parse from the user agent: ").concat(e,"."))),{browserName:s,browserVersion:u,osName:d,osVersion:l,platform:t}}}),(function(e,t,n){"use strict";var r,i,a=(r=["\n\t\t\tquery GetCpmsPrediction(\n\t\t\t\t$campaign: String!\n\t\t\t\t$site: String!\n\t\t\t\t$mode: String!\n\t\t\t\t$user: CpmUser!\n\t\t\t\t$adUnits: [CpmAdUnit!]!\n\t\t\t\t$auctionId: String!\n\t\t\t\t$version: String\n\t\t\t) {\n\t\t\t\tcpmsPrediction(\n\t\t\t\tcampaign: $campaign\n\t\t\t\tsite: $site\n\t\t\t\tmode: $mode\n\t\t\t\tuser: $user\n\t\t\t\tadUnits: $adUnits\n\t\t\t\tauctionId: $auctionId\n\t\t\t\tversion: $version\n\t\t\t\t) {\n\t\t\t\t\tid\n\t\t\t\t\tdata {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tcpc\n\t\t\t\t\t\tctr\n\t\t\t\t\t\tcpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"],i=["\n\t\t\tquery GetCpmsPrediction(\n\t\t\t\t$campaign: String!\n\t\t\t\t$site: String!\n\t\t\t\t$mode: String!\n\t\t\t\t$user: CpmUser!\n\t\t\t\t$adUnits: [CpmAdUnit!]!\n\t\t\t\t$auctionId: String!\n\t\t\t\t$version: String\n\t\t\t) {\n\t\t\t\tcpmsPrediction(\n\t\t\t\tcampaign: $campaign\n\t\t\t\tsite: $site\n\t\t\t\tmode: $mode\n\t\t\t\tuser: $user\n\t\t\t\tadUnits: $adUnits\n\t\t\t\tauctionId: $auctionId\n\t\t\t\tversion: $version\n\t\t\t\t) {\n\t\t\t\t\tid\n\t\t\t\t\tdata {\n\t\t\t\t\t\tname\n\t\t\t\t\t\tcpc\n\t\t\t\t\t\tctr\n\t\t\t\t\t\tcpm\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t"],Object.freeze(Object.defineProperties(r,{raw:{value:Object.freeze(i)}})));var o=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(1),u=n(2),c=n(320),d=n(17),l={user:{},config:{},cpmsByPlacement:{},success:!1,initTime:0,endTime:0,init:function(e,t){l.user=e,l.config=t},isEnabled:function(){return l.config.cheggBidder&&l.config.cheggBidder.enabled&&l.config.cheggBidder.host},trainingEnabled:function(){return l.config.cheggBidder&&l.config.cheggBidder.enableTraining&&l.config.cheggBidder.trainingRate&&l.config.cheggBidder.trainingKvp},performRequest:function(e,t){return o(void 0,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,o,f,p,h,m,g,v,y,b,E;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(l.isEnabled()){n.next=2;break}return n.abrupt("return");case 2:if(l.cpmsByPlacement={},l.success=!1,l.initTime=0,l.endTime=0,r={"Content-Type":"application/json"},l.config.cheggBidder.skipAuth){n.next=20;break}if(window.localStorage){n.next=11;break}return s.default.throw("Failed to call Mdpricing because of not localstorage"),n.abrupt("return");case 11:if(i=s.default.readUserLocalStorage(l.config.prefix)){n.next=15;break}return s.default.throw("Failed to call Mdpricing because of not user found in localstorage"),n.abrupt("return");case 15:if(o=i.jwt){n.next=19;break}return s.default.throw("Failed to call Mdpricing because of not jwt found in localstorage"),n.abrupt("return");case 19:r=Object.assign({},r,{authorization:"Bearer "+o});case 20:if(f=l.config.cheggBidder.host,p=c.gql(a),h=l.config.cheggBidder.delay||0,m={country:l.user.country,layout:l.user.layout,page:l.user.page,ua:{name:l.user.ua.name,platform:d.default.getPlatform(),os:d.default.getOsName()},delay:h,time_on_site:s.default.getTime(),hit_count:s.default.getGaHitCount()||-1,subscription_status:d.default.getSubscriptionsStatus(),pageCount:l.user&&l.user.pageCount||1},g=e.map((function(e){return{name:e.name,mediaTypes:e.mediaTypes}})),v="mw"===l.config.site?"mathway":s.default.transformSiteName(l.config.site),y={campaign:l.config.cheggBidder.campaign,site:v,mode:t.mode.toUpperCase(),user:m,adUnits:g,auctionId:t.id,version:l.config.cheggBidder.version},0!==e.length){n.next=30;break}return s.default.log("CheggBidder: Empty adUnits in page: "+m.page+", layout: "+m.layout,u.default.LOG_NAMESPACE.CHEGG_BIDDER),n.abrupt("return");case 30:return b={query:p,variables:y},l.config.cheggBidder.skipAuth&&(b=Object.assign({},b,{operationName:"GetCpmsPrediction"})),s.default.recordEventTime("cheggBidderInit"),l.initTime=s.default.getTime(),n.next=36,fetch(f,{method:"POST",headers:r,body:JSON.stringify(b)});case 36:return E=n.sent,n.next=39,E.json().then((function(e){if(e&&!e.errors)return s.default.log("Succesfully got cpmsPrediction",u.default.LOG_NAMESPACE.CHEGG_BIDDER),l.endTime=s.default.getTime(),l.success=!0,e.data.cpmsPrediction.data;s.default.log("No data was returned",u.default.LOG_NAMESPACE.CHEGG_BIDDER),s.default.throw("Chegg Bidder returned with no data with request: "+JSON.stringify(y))})).catch((function(e){s.default.log("Failed to get cheggBidder",u.default.LOG_NAMESPACE.CHEGG_BIDDER),s.default.throw("Failed to get cheggBidder with request: "+JSON.stringify(y),e)}));case 39:return n.abrupt("return",n.sent);case 40:case"end":return n.stop()}}),n,this)})))}};t.default=l}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;t.default=r}),(function(e,t,n){"use strict";e.exports=function(e){var t=e.uri,n=e.name,r=e.type;this.uri=t,this.name=n,this.type=r}}),(function(e,t,n){"use strict";var r=n(140);e.exports=function(e){return"undefined"!=typeof File&&e instanceof File||"undefined"!=typeof Blob&&e instanceof Blob||e instanceof r}}),(function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0}),t.ClientError=void 0;var a=(function(e){function t(n,r){var i=this,a=t.extractMessage(n)+": "+JSON.stringify({response:n,request:r});return i=e.call(this,a)||this,Object.setPrototypeOf(i,t.prototype),i.response=n,i.request=r,"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(i,t),i}return i(t,e),t.extractMessage=function(e){try{return e.errors[0].message}catch(t){return"GraphQL Error (Code: "+e.status+")"}},t})(Error);t.ClientError=a}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(56),s=n(1),u=n(138),c=(function(e){function t(e){var n=e.auction,r=e.config,i=e.fluentd,a=e.dfp,o=e.partnerConfig,s=e.partnerName,u=e.user;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var c=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:r,partnerName:s,partnerConfig:o}));return c.fluentd=i,c.dfp=a,c.user=u,c.$adMap={},c.renderQueue=[],c.CPC_PARTNER_CONVERTED_CPM=1e3*(o.convertedCpm||.7),c.responseReceived=!1,c.endpoint=o.endpoint||"//dtakdb1z5gq7e.cloudfront.net/login.js",c}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),r(t,[{key:"renderAd",value:function(e){this.responseReceived?this._renderAd(e,!1):this.renderQueue.push(e)}},{key:"renderAllAds",value:function(){var e=this.auction.advPage.headerPlacements;for(var t in e)if(e.hasOwnProperty(t)){var n=e[t];this.renderAd(n)}}},{key:"cpcPartnerCallback",value:function(e){var t=this,n=this.auction.advPage.headerPlacements,r=!0,i=!1,o=void 0;try{for(var u,c=["header-bartner","nantage-header","vantage_lboard","vantage_wrap"][Symbol.iterator]();!(r=(u=c.next()).done);r=!0){var d=u.value;"citethisforme"===a.default.SITE.NAME&&"sidebar"===d||this.obfuscate(d)}}catch(e){i=!0,o=e}finally{try{!r&&c.return&&c.return()}finally{if(i)throw o}}var l=function(r){if(!n.hasOwnProperty(r))return"continue";var i,o,u,c=t.createBid(r),d=n[r].placementConfig.sizes.reduce((function(n,r){if(n||!Array.isArray(r))return n;var i=r.join("x");return i in e?(c.setWidth(r[0]),c.setHeight(r[1]),c.trackingUrl=t.partnerConfig.ads[i].linkUrl,c.status=a.default.BID_STATUS.SUCCESS,e[i]):void 0}),null);d||(c.status=a.default.BID_STATUS.ERROR),c.ad=d,c.channel=a.default.CHANNEL.CPC,t.addBidResponse(r,c,!1),s.default.log([t.name+" "+r+" bid:",(i={},o=c.status,u=c,o in i?Object.defineProperty(i,o,{value:u,enumerable:!0,configurable:!0,writable:!0}):i[o]=u,i),e],a.default.LOG_NAMESPACE.BIDS)};for(var f in n)l(f);this.responseReceived=!0;var p=!0,h=!1,m=void 0;try{for(var g,v=this.renderQueue[Symbol.iterator]();!(p=(g=v.next()).done);p=!0){var y=g.value;this.renderAd(y)}}catch(e){h=!0,m=e}finally{try{!p&&v.return&&v.return()}finally{if(h)throw m}}}},{key:"getResponseCss",value:function(e,t,n){return{img:e,width:t+"px",height:n+"px"}}},{key:"obfuscate",value:function(e){var t="",n=!0,r=document.getElementById(e);if(r||(r=document.getElementsByClassName(e)[0],n=!1),r){window.AD_VANTAGE_STAGING&&(t+="\n/* ==== obfuscate "+e+" ==== */\n"),s.default.removeClass(r,e);var i=s.default.genRandomString();s.default.addClass(r,i),n&&r.setAttribute("id",i),"sidebar"===e&&s.default.removeClass(r,"homepage_sidebar")}return t}},{key:"_renderAd",value:function(e,t){var n=this,r=this.fluentd,i=this.auction,a=(this.dfp,e.name);if(!this.$adMap[a]){var o=document.getElementById(e.divId),u=this.response[a];if(o&&u&&u.ad){var c=s.default.genRandomString(),d=document.createElement("div");s.default.addClass(d,"cpc-partner");var l=this.getResponseCss(u.ad,u.width,u.height);d.setAttribute("id",c),d.style.cssText="display: block!important;visibility: visible!important;",o.appendChild(d),this.$adMap[a]={$ad:d,bid:u};var f=["\n#"+c+" {","margin: 4px auto;","background-image: "+l.img+";","background-size: contain;","cursor: pointer;","height: "+l.height+";","width: "+l.width+";","}","\n#"+e.placementConfig.divId+" {","padding: 0;","}\n"].join("\n    ");s.default.dynamicStyle(f),this.addClickEventListener(e,r,null,this.user),u.dfpWinner=!0,i.upsertBid(u)}else t||s.default.onDocReady((function(){n._renderAd(e,!0)}))}}},{key:"clickCallback",value:function(e,n,r,i){try{var a=this.response[e.name];this.updateCpm(e.name,this.CPC_PARTNER_CONVERTED_CPM),window.open(a.trackingUrl,"_blank")}catch(e){s.default.throw("Failed to update CPC data and open tracking url on click",e)}(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickCallback",this).call(this,e,n,r,i)}},{key:"requestCpms",value:function(e,t){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u.default.init(t,this.config),n.next=3,u.default.performRequest(e,this.auction);case 3:(r=n.sent)&&r.forEach((function(e){s.default.log("Using new cpm prediction for "+e.name+": "+i.format(e.cpm),a.default.LOG_NAMESPACE.CHEGG_BIDDER),u.default.cpmsByPlacement[e.name]=i.format(e.cpm)}));case 5:case"end":return n.stop()}}),n,this)})))}},{key:"format",value:function(e){return Math.min(Number.parseFloat(e),this.config.cheggBidder.maxCpm).toFixed(2)}},{key:"getCpm",value:function(e){return u.default.trainingEnabled()&&Math.random()<this.config.cheggBidder.trainingRate?this.config.cheggBidder.trainingKvp:u.default.isEnabled()?(u.default.cpmsByPlacement[e]||s.default.log("Chegg Bidder failed to return cpm for placement: "+e,a.default.LOG_NAMESPACE.CHEGG_BIDDER),u.default.cpmsByPlacement[e]):void 0}}]),t})(o.default);t.default=c}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(function(e){function t(e,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var r=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.fingerprint=n||["FingerprintError"],r}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,Error),t})();t.default=r}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(146),n(257);var r=n(258),i=n(1),a=new r.default;i.default.addGlobalKey("window","sbm",a)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(147),n(148),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(163),n(164),n(165),n(166),n(167),n(169),n(170),n(171),n(172),n(173),n(174),n(175),n(176),n(177),n(178),n(179),n(180),n(184),n(187),n(188),n(189),n(190),n(191),n(192),n(193),n(194),n(195),n(196),n(197),n(198),n(200),n(201),n(202),n(203),n(204),n(206),n(207),n(208),n(209),n(210),n(212),n(213),n(214),n(215),n(216),n(217),n(218),n(219),n(220),n(221),n(80),n(222),n(223),n(224),n(225),n(226),n(227),n(228),n(229),n(230),n(231),n(232),n(233),n(234),n(235),n(236),n(238),n(239),n(240),n(241),n(242),n(243),n(244),n(245),n(246),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256);var r=(function(e,t){e=e||"docReady",t=t||window;var n=[],r=!1,i=!1;function a(){if(!r){try{throw new Error("winodw.docReady polyfill used.  Please migrate to usage of document.addEventListener for DOMContentLoaded")}catch(e){}r=!0;var e=!0,t=!1,i=void 0;try{for(var a,o=n[Symbol.iterator]();!(e=(a=o.next()).done);e=!0){var s=a.value;s.fn.call(window,s.ctx)}}catch(e){t=!0,i=e}finally{try{!e&&o.return&&o.return()}finally{if(t)throw i}}n=[]}}t[e]=function(e,t){r?setTimeout((function(){e(t)}),1):(n.push({fn:e,ctx:t}),"complete"===document.readyState?setTimeout(a,1):i||(document.addEventListener&&(document.addEventListener("DOMContentLoaded",a,!1),window.addEventListener("load",a,!1)),i=!0))}})("docReady",window);t.default=r}),(function(e,t,n){"use strict";var r=n(0),i=n(69),a=n(91),o=n(5),s=n(42),u=n(11),c=n(3),d=n(4).ArrayBuffer,l=n(76),f=a.ArrayBuffer,p=a.DataView,h=i.ABV&&d.isView,m=f.prototype.slice,g=i.VIEW;r(r.G+r.W+r.F*(d!==f),{ArrayBuffer:f}),r(r.S+r.F*!i.CONSTR,"ArrayBuffer",{isView:function(e){return h&&h(e)||c(e)&&g in e}}),r(r.P+r.U+r.F*n(8)((function(){return!new f(2).slice(1,void 0).byteLength})),"ArrayBuffer",{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(o(this),e);for(var n=o(this).byteLength,r=s(e,n),i=s(void 0===t?n:t,n),a=new(l(this,f))(u(i-r)),c=new p(this),d=new p(a),h=0;r<i;)d.setUint8(h++,c.getUint8(r++));return a}}),n(58)("ArrayBuffer")}),(function(e,t,n){n(26)("Int8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){var r=n(9),i=n(5),a=n(37);e.exports=n(16)?Object.defineProperties:function(e,t){i(e);for(var n,o=a(t),s=o.length,u=0;s>u;)r.f(e,n=o[u++],t[n]);return e}}),(function(e,t,n){var r=n(151);e.exports=function(e,t){return new(r(e))(t)}}),(function(e,t,n){var r=n(3),i=n(95),a=n(7)("species");e.exports=function(e){var t;return i(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!i(t.prototype)||(t=void 0),r(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}}),(function(e,t,n){"use strict";var r=n(50),i=n(31),a=n(43),o={};n(18)(o,n(7)("iterator"),(function(){return this})),e.exports=function(e,t,n){e.prototype=r(o,{next:i(1,n)}),a(e,t+" Iterator")}}),(function(e,t,n){n(26)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Uint8",1,(function(e){return function(t,n,r){return e(this,t,n,r)}}),!0)}),(function(e,t,n){n(26)("Int16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Uint16",2,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Int32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Uint32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Float32",4,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){n(26)("Float64",8,(function(e){return function(t,n,r){return e(this,t,n,r)}}))}),(function(e,t,n){"use strict";var r=n(99),i=n(47);e.exports=n(61)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(e){var t=r.getEntry(i(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(i(this,"Map"),0===e?0:e,t)}},r,!0)}),(function(e,t,n){var r=n(3),i=n(81).set;e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}}),(function(e,t,n){"use strict";var r=n(99),i=n(47);e.exports=n(61)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"Set"),e=0===e?0:e,e)}},r)}),(function(e,t,n){"use strict";var r,i=n(51)(0),a=n(28),o=n(29),s=n(101),u=n(102),c=n(3),d=n(8),l=n(47),f=o.getWeak,p=Object.isExtensible,h=u.ufstore,m={},g=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},v={get:function(e){if(c(e)){var t=f(e);return!0===t?h(l(this,"WeakMap")).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(l(this,"WeakMap"),e,t)}},y=e.exports=n(61)("WeakMap",g,v,u,!0,!0);d((function(){return 7!=(new y).set((Object.freeze||Object)(m),7).get(m)}))&&(s((r=u.getConstructor(g,"WeakMap")).prototype,v),o.NEED=!0,i(["delete","has","get","set"],(function(e){var t=y.prototype,n=t[e];a(t,e,(function(t,i){if(c(t)&&!p(t)){this._f||(this._f=new r);var a=this._f[e](t,i);return"set"==e?this:a}return n.call(this,t,i)}))})))}),(function(e,t,n){"use strict";var r=n(102),i=n(47);n(61)("WeakSet",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(e){return r.def(i(this,"WeakSet"),e,!0)}},r,!1,!0)}),(function(e,t,n){var r=n(0),i=n(33),a=n(5),o=(n(4).Reflect||{}).apply,s=Function.apply;r(r.S+r.F*!n(8)((function(){o((function(){}))})),"Reflect",{apply:function(e,t,n){var r=i(e),u=a(n);return o?o(r,t,u):s.call(r,t,u)}})}),(function(e,t,n){var r=n(0),i=n(50),a=n(33),o=n(5),s=n(3),u=n(8),c=n(168),d=(n(4).Reflect||{}).construct,l=u((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),f=!u((function(){d((function(){}))}));r(r.S+r.F*(l||f),"Reflect",{construct:function(e,t){a(e),o(t);var n=arguments.length<3?e:a(arguments[2]);if(f&&!l)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var u=n.prototype,p=i(s(u)?u:Object.prototype),h=Function.apply.call(e,p,t);return s(h)?h:p}})}),(function(e,t,n){"use strict";var r=n(33),i=n(3),a=n(103),o=[].slice,s={},u=function(e,t,n){if(!(t in s)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";s[t]=Function("F,a","return new F("+r.join(",")+")")}return s[t](e,n)};e.exports=Function.bind||function(e){var t=r(this),n=o.call(arguments,1),s=function(){var r=n.concat(o.call(arguments));return this instanceof s?u(t,r.length,r):a(t,r,e)};return i(t.prototype)&&(s.prototype=t.prototype),s}}),(function(e,t,n){var r=n(9),i=n(0),a=n(5),o=n(48);i(i.S+i.F*n(8)((function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})})),"Reflect",{defineProperty:function(e,t,n){a(e),t=o(t,!0),a(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})}),(function(e,t,n){var r=n(0),i=n(27).f,a=n(5);r(r.S,"Reflect",{deleteProperty:function(e,t){var n=i(a(e),t);return!(n&&!n.configurable)&&delete e[t]}})}),(function(e,t,n){var r=n(27),i=n(45),a=n(19),o=n(0),s=n(3),u=n(5);o(o.S,"Reflect",{get:function e(t,n){var o,c,d=arguments.length<3?t:arguments[2];return u(t)===d?t[n]:(o=r.f(t,n))?a(o,"value")?o.value:void 0!==o.get?o.get.call(d):void 0:s(c=i(t))?e(c,n,d):void 0}})}),(function(e,t,n){var r=n(27),i=n(0),a=n(5);i(i.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return r.f(a(e),t)}})}),(function(e,t,n){var r=n(0),i=n(45),a=n(5);r(r.S,"Reflect",{getPrototypeOf:function(e){return i(a(e))}})}),(function(e,t,n){var r=n(0);r(r.S,"Reflect",{has:function(e,t){return t in e}})}),(function(e,t,n){var r=n(0),i=n(5),a=Object.isExtensible;r(r.S,"Reflect",{isExtensible:function(e){return i(e),!a||a(e)}})}),(function(e,t,n){var r=n(0);r(r.S,"Reflect",{ownKeys:n(104)})}),(function(e,t,n){var r=n(0),i=n(5),a=Object.preventExtensions;r(r.S,"Reflect",{preventExtensions:function(e){i(e);try{return a&&a(e),!0}catch(e){return!1}}})}),(function(e,t,n){var r=n(9),i=n(27),a=n(45),o=n(19),s=n(0),u=n(31),c=n(5),d=n(3);s(s.S,"Reflect",{set:function e(t,n,s){var l,f,p=arguments.length<4?t:arguments[3],h=i.f(c(t),n);if(!h){if(d(f=a(t)))return e(f,n,s,p);h=u(0)}if(o(h,"value")){if(!1===h.writable||!d(p))return!1;if(l=i.f(p,n)){if(l.get||l.set||!1===l.writable)return!1;l.value=s,r.f(p,n,l)}else r.f(p,n,u(0,s));return!0}return void 0!==h.set&&(h.set.call(p,s),!0)}})}),(function(e,t,n){var r=n(0),i=n(81);i&&r(r.S,"Reflect",{setPrototypeOf:function(e,t){i.check(e,t);try{return i.set(e,t),!0}catch(e){return!1}}})}),(function(e,t,n){"use strict";var r,i,a,o,s=n(34),u=n(4),c=n(24),d=n(77),l=n(0),f=n(3),p=n(33),h=n(40),m=n(60),g=n(76),v=n(82).set,y=n(181)(),b=n(105),E=n(182),_=n(63),S=n(183),A=u.TypeError,w=u.process,O=w&&w.versions,I=O&&O.v8||"",C=u.Promise,T="process"==d(w),P=function(){},x=i=b.f,k=!!(function(){try{var e=C.resolve(1),t=(e.constructor={})[n(7)("species")]=function(e){e(P,P)};return(T||"function"==typeof PromiseRejectionEvent)&&e.then(P)instanceof t&&0!==I.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(e){}})(),N=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},D=function(e,t){if(!e._n){e._n=!0;var n=e._c;y((function(){for(var r=e._v,i=1==e._s,a=0,o=function(t){var n,a,o,s=i?t.ok:t.fail,u=t.resolve,c=t.reject,d=t.domain;try{s?(i||(2==e._h&&M(e),e._h=1),!0===s?n=r:(d&&d.enter(),n=s(r),d&&(d.exit(),o=!0)),n===t.promise?c(A("Promise-chain cycle")):(a=N(n))?a.call(n,u,c):u(n)):c(r)}catch(e){d&&!o&&d.exit(),c(e)}};n.length>a;)o(n[a++]);e._c=[],e._n=!1,t&&!e._h&&R(e)}))}},R=function(e){v.call(u,(function(){var t,n,r,i=e._v,a=j(e);if(a&&(t=E((function(){T?w.emit("unhandledRejection",i,e):(n=u.onunhandledrejection)?n({promise:e,reason:i}):(r=u.console)&&r.error&&r.error("Unhandled promise rejection",i)})),e._h=T||j(e)?2:1),e._a=void 0,a&&t.e)throw t.v}))},j=function(e){return 1!==e._h&&0===(e._a||e._c).length},M=function(e){v.call(u,(function(){var t;T?w.emit("rejectionHandled",e):(t=u.onrejectionhandled)&&t({promise:e,reason:e._v})}))},B=function(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),D(t,!0))},U=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw A("Promise can't be resolved itself");(t=N(e))?y((function(){var r={_w:n,_d:!1};try{t.call(e,c(U,r,1),c(B,r,1))}catch(e){B.call(r,e)}})):(n._v=e,n._s=1,D(n,!1))}catch(e){B.call({_w:n,_d:!1},e)}}};k||(C=function(e){h(this,C,"Promise","_h"),p(e),r.call(this);try{e(c(U,this,1),c(B,this,1))}catch(e){B.call(this,e)}},(r=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=n(39)(C.prototype,{then:function(e,t){var n=x(g(this,C));return n.ok="function"!=typeof e||e,n.fail="function"==typeof t&&t,n.domain=T?w.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new r;this.promise=e,this.resolve=c(U,e,1),this.reject=c(B,e,1)},b.f=x=function(e){return e===C||e===o?new a(e):i(e)}),l(l.G+l.W+l.F*!k,{Promise:C}),n(43)(C,"Promise"),n(58)("Promise"),o=n(30).Promise,l(l.S+l.F*!k,"Promise",{reject:function(e){var t=x(this);return(0,t.reject)(e),t.promise}}),l(l.S+l.F*(s||!k),"Promise",{resolve:function(e){return S(s&&this===o?C:this,e)}}),l(l.S+l.F*!(k&&n(59)((function(e){C.all(e).catch(P)}))),"Promise",{all:function(e){var t=this,n=x(t),r=n.resolve,i=n.reject,a=E((function(){var n=[],a=0,o=1;m(e,!1,(function(e){var s=a++,u=!1;n.push(void 0),o++,t.resolve(e).then((function(e){u||(u=!0,n[s]=e,--o||r(n))}),i)})),--o||r(n)}));return a.e&&i(a.v),n.promise},race:function(e){var t=this,n=x(t),r=n.reject,i=E((function(){m(e,!1,(function(e){t.resolve(e).then(n.resolve,r)}))}));return i.e&&r(i.v),n.promise}})}),(function(e,t,n){var r=n(4),i=n(82).set,a=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,u="process"==n(41)(o);e.exports=function(){var e,t,n,c=function(){var r,i;for(u&&(r=o.domain)&&r.exit();e;){i=e.fn,e=e.next;try{i()}catch(r){throw e?n():t=void 0,r}}t=void 0,r&&r.enter()};if(u)n=function(){o.nextTick(c)};else if(!a||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);n=function(){d.then(c)}}else n=function(){i.call(r,c)};else{var l=!0,f=document.createTextNode("");new a(c).observe(f,{characterData:!0}),n=function(){f.data=l=!l}}return function(r){var i={fn:r,next:void 0};t&&(t.next=i),e||(e=i,n()),t=i}}}),(function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}}),(function(e,t,n){var r=n(5),i=n(3),a=n(105);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}}),(function(e,t,n){"use strict";var r=n(4),i=n(19),a=n(16),o=n(0),s=n(28),u=n(29).KEY,c=n(8),d=n(73),l=n(43),f=n(32),p=n(7),h=n(106),m=n(185),g=n(186),v=n(95),y=n(5),b=n(3),E=n(21),_=n(48),S=n(31),A=n(50),w=n(107),O=n(27),I=n(9),C=n(37),T=O.f,P=I.f,x=w.f,k=r.Symbol,N=r.JSON,D=N&&N.stringify,R=p("_hidden"),j=p("toPrimitive"),M={}.propertyIsEnumerable,B=d("symbol-registry"),U=d("symbols"),L=d("op-symbols"),V=Object.prototype,F="function"==typeof k,G=r.QObject,q=!G||!G.prototype||!G.prototype.findChild,z=a&&c((function(){return 7!=A(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=T(V,t);r&&delete V[t],P(e,t,n),r&&e!==V&&P(V,t,r)}:P,W=function(e){var t=U[e]=A(k.prototype);return t._k=e,t},H=F&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},K=function(e,t,n){return e===V&&K(L,t,n),y(e),t=_(t,!0),y(n),i(U,t)?(n.enumerable?(i(e,R)&&e[R][t]&&(e[R][t]=!1),n=A(n,{enumerable:S(0,!1)})):(i(e,R)||P(e,R,S(1,{})),e[R][t]=!0),z(e,t,n)):P(e,t,n)},Y=function(e,t){y(e);for(var n,r=g(t=E(t)),i=0,a=r.length;a>i;)K(e,n=r[i++],t[n]);return e},$=function(e){var t=M.call(this,e=_(e,!0));return!(this===V&&i(U,e)&&!i(L,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,R)&&this[R][e])||t)},J=function(e,t){if(e=E(e),t=_(t,!0),e!==V||!i(U,t)||i(L,t)){var n=T(e,t);return!n||!i(U,t)||i(e,R)&&e[R][t]||(n.enumerable=!0),n}},X=function(e){for(var t,n=x(E(e)),r=[],a=0;n.length>a;)i(U,t=n[a++])||t==R||t==u||r.push(t);return r},Q=function(e){for(var t,n=e===V,r=x(n?L:E(e)),a=[],o=0;r.length>o;)!i(U,t=r[o++])||n&&!i(V,t)||a.push(U[t]);return a};F||(s((k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(n){this===V&&t.call(L,n),i(this,R)&&i(this[R],e)&&(this[R][e]=!1),z(this,e,S(1,n))};return a&&q&&z(V,e,{configurable:!0,set:t}),W(e)}).prototype,"toString",(function(){return this._k})),O.f=J,I.f=K,n(49).f=w.f=X,n(52).f=$,n(62).f=Q,a&&!n(34)&&s(V,"propertyIsEnumerable",$,!0),h.f=function(e){return W(p(e))}),o(o.G+o.W+o.F*!F,{Symbol:k});for(var Z="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;Z.length>ee;)p(Z[ee++]);for(var te=C(p.store),ne=0;te.length>ne;)m(te[ne++]);o(o.S+o.F*!F,"Symbol",{for:function(e){return i(B,e+="")?B[e]:B[e]=k(e)},keyFor:function(e){if(!H(e))throw TypeError(e+" is not a symbol!");for(var t in B)if(B[t]===e)return t},useSetter:function(){q=!0},useSimple:function(){q=!1}}),o(o.S+o.F*!F,"Object",{create:function(e,t){return void 0===t?A(e):Y(A(e),t)},defineProperty:K,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:X,getOwnPropertySymbols:Q}),N&&o(o.S+o.F*(!F||c((function(){var e=k();return"[null]"!=D([e])||"{}"!=D({a:e})||"{}"!=D(Object(e))}))),"JSON",{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(b(t)||void 0!==e)&&!H(e))return v(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!H(t))return t}),r[1]=t,D.apply(N,r)}}),k.prototype[j]||n(18)(k.prototype,j,k.prototype.valueOf),l(k,"Symbol"),l(Math,"Math",!0),l(r.JSON,"JSON",!0)}),(function(e,t,n){var r=n(4),i=n(30),a=n(34),o=n(106),s=n(9).f;e.exports=function(e){var t=i.Symbol||(i.Symbol=a?{}:r.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}}),(function(e,t,n){var r=n(37),i=n(62),a=n(52);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),u=a.f,c=0;s.length>c;)u.call(e,o=s[c++])&&t.push(o);return t}}),(function(e,t,n){var r=n(3),i=n(29).onFreeze;n(22)("freeze",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))}),(function(e,t,n){var r=n(3),i=n(29).onFreeze;n(22)("seal",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))}),(function(e,t,n){var r=n(3),i=n(29).onFreeze;n(22)("preventExtensions",(function(e){return function(t){return e&&r(t)?e(i(t)):t}}))}),(function(e,t,n){var r=n(3);n(22)("isFrozen",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))}),(function(e,t,n){var r=n(3);n(22)("isSealed",(function(e){return function(t){return!r(t)||!!e&&e(t)}}))}),(function(e,t,n){var r=n(3);n(22)("isExtensible",(function(e){return function(t){return!!r(t)&&(!e||e(t))}}))}),(function(e,t,n){var r=n(21),i=n(27).f;n(22)("getOwnPropertyDescriptor",(function(){return function(e,t){return i(r(e),t)}}))}),(function(e,t,n){var r=n(25),i=n(45);n(22)("getPrototypeOf",(function(){return function(e){return i(r(e))}}))}),(function(e,t,n){var r=n(25),i=n(37);n(22)("keys",(function(){return function(e){return i(r(e))}}))}),(function(e,t,n){n(22)("getOwnPropertyNames",(function(){return n(107).f}))}),(function(e,t,n){var r=n(0);r(r.S+r.F,"Object",{assign:n(101)})}),(function(e,t,n){var r=n(0);r(r.S,"Object",{is:n(199)})}),(function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}}),(function(e,t,n){var r=n(0);r(r.S,"Object",{setPrototypeOf:n(81).set})}),(function(e,t,n){var r=n(9).f,i=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in i||n(16)&&r(i,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})}),(function(e,t,n){var r=n(0),i=n(21),a=n(11);r(r.S,"String",{raw:function(e){for(var t=i(e.raw),n=a(t.length),r=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<r&&o.push(String(arguments[s]));return o.join("")}})}),(function(e,t,n){var r=n(0),i=n(42),a=String.fromCharCode,o=String.fromCodePoint;r(r.S+r.F*(!!o&&1!=o.length),"String",{fromCodePoint:function(e){for(var t,n=[],r=arguments.length,o=0;r>o;){if(t=+arguments[o++],i(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?a(t):a(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})}),(function(e,t,n){"use strict";var r=n(0),i=n(205)(!1);r(r.P,"String",{codePointAt:function(e){return i(this,e)}})}),(function(e,t,n){var r=n(35),i=n(36);e.exports=function(e){return function(t,n){var a,o,s=String(i(t)),u=r(n),c=s.length;return u<0||u>=c?e?"":void 0:(a=s.charCodeAt(u))<55296||a>56319||u+1===c||(o=s.charCodeAt(u+1))<56320||o>57343?e?s.charAt(u):a:e?s.slice(u,u+2):o-56320+(a-55296<<10)+65536}}}),(function(e,t,n){var r=n(0);r(r.P,"String",{repeat:n(108)})}),(function(e,t,n){"use strict";var r=n(0),i=n(11),a=n(83),o="".startsWith;r(r.P+r.F*n(84)("startsWith"),"String",{startsWith:function(e){var t=a(this,e,"startsWith"),n=i(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),r=String(e);return o?o.call(t,r,n):t.slice(n,n+r.length)===r}})}),(function(e,t,n){"use strict";var r=n(0),i=n(11),a=n(83),o="".endsWith;r(r.P+r.F*n(84)("endsWith"),"String",{endsWith:function(e){var t=a(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,r=i(t.length),s=void 0===n?r:Math.min(i(n),r),u=String(e);return o?o.call(t,u,s):t.slice(s-u.length,s)===u}})}),(function(e,t,n){"use strict";var r=n(0),i=n(83);r(r.P+r.F*n(84)("includes"),"String",{includes:function(e){return!!~i(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})}),(function(e,t,n){n(16)&&"g"!=/./g.flags&&n(9).f(RegExp.prototype,"flags",{configurable:!0,get:n(211)})}),(function(e,t,n){"use strict";var r=n(5);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}}),(function(e,t,n){n(64)("match",1,(function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))}),(function(e,t,n){n(64)("replace",2,(function(e,t,n){return[function(r,i){"use strict";var a=e(this),o=null==r?void 0:r[t];return void 0!==o?o.call(r,a,i):n.call(String(a),r,i)},n]}))}),(function(e,t,n){n(64)("split",2,(function(e,t,r){"use strict";var i=n(109),a=r,o=[].push;if("c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length){var s=void 0===/()??/.exec("")[1];r=function(e,t){var n=String(this);if(void 0===e&&0===t)return[];if(!i(e))return a.call(n,e,t);var r,u,c,d,l,f=[],p=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),h=0,m=void 0===t?4294967295:t>>>0,g=new RegExp(e.source,p+"g");for(s||(r=new RegExp("^"+g.source+"$(?!\\s)",p));(u=g.exec(n))&&!((c=u.index+u[0].length)>h&&(f.push(n.slice(h,u.index)),!s&&u.length>1&&u[0].replace(r,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(u[l]=void 0)})),u.length>1&&u.index<n.length&&o.apply(f,u.slice(1)),d=u[0].length,h=c,f.length>=m));)g.lastIndex===u.index&&g.lastIndex++;return h===n.length?!d&&g.test("")||f.push(""):f.push(n.slice(h)),f.length>m?f.slice(0,m):f}}else"0".split(void 0,0).length&&(r=function(e,t){return void 0===e&&0===t?[]:a.call(this,e,t)});return[function(n,i){var a=e(this),o=null==n?void 0:n[t];return void 0!==o?o.call(n,a,i):r.call(String(a),n,i)},r]}))}),(function(e,t,n){n(64)("search",1,(function(e,t,n){return[function(n){"use strict";var r=e(this),i=null==n?void 0:n[t];return void 0!==i?i.call(n,r):new RegExp(n)[t](String(r))},n]}))}),(function(e,t,n){"use strict";var r=n(24),i=n(0),a=n(25),o=n(100),s=n(78),u=n(11),c=n(85),d=n(79);i(i.S+i.F*!n(59)((function(e){Array.from(e)})),"Array",{from:function(e){var t,n,i,l,f=a(e),p="function"==typeof this?this:Array,h=arguments.length,m=h>1?arguments[1]:void 0,g=void 0!==m,v=0,y=d(f);if(g&&(m=r(m,h>2?arguments[2]:void 0,2)),null==y||p==Array&&s(y))for(n=new p(t=u(f.length));t>v;v++)c(n,v,g?m(f[v],v):f[v]);else for(l=y.call(f),n=new p;!(i=l.next()).done;v++)c(n,v,g?o(l,m,[i.value,v],!0):i.value);return n.length=v,n}})}),(function(e,t,n){"use strict";var r=n(0),i=n(85);r(r.S+r.F*n(8)((function(){function e(){}return!(Array.of.call(e)instanceof e)})),"Array",{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)i(n,e,arguments[e++]);return n.length=t,n}})}),(function(e,t,n){var r=n(0);r(r.P,"Array",{copyWithin:n(98)}),n(46)("copyWithin")}),(function(e,t,n){"use strict";var r=n(0),i=n(51)(5),a=!0;"find"in[]&&Array(1).find((function(){a=!1})),r(r.P+r.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("find")}),(function(e,t,n){"use strict";var r=n(0),i=n(51)(6),a="findIndex",o=!0;a in[]&&Array(1)[a]((function(){o=!1})),r(r.P+r.F*o,"Array",{findIndex:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)(a)}),(function(e,t,n){var r=n(0);r(r.P,"Array",{fill:n(75)}),n(46)("fill")}),(function(e,t,n){var r=n(0),i=n(4).isFinite;r(r.S,"Number",{isFinite:function(e){return"number"==typeof e&&i(e)}})}),(function(e,t,n){var r=n(0);r(r.S,"Number",{isInteger:n(110)})}),(function(e,t,n){var r=n(0),i=n(110),a=Math.abs;r(r.S,"Number",{isSafeInteger:function(e){return i(e)&&a(e)<=9007199254740991}})}),(function(e,t,n){var r=n(0);r(r.S,"Number",{isNaN:function(e){return e!=e}})}),(function(e,t,n){var r=n(0);r(r.S,"Number",{EPSILON:Math.pow(2,-52)})}),(function(e,t,n){var r=n(0);r(r.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})}),(function(e,t,n){var r=n(0);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})}),(function(e,t,n){var r=n(0),i=n(111),a=Math.sqrt,o=Math.acosh;r(r.S+r.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?Math.log(e)+Math.LN2:i(e-1+a(e-1)*a(e+1))}})}),(function(e,t,n){var r=n(0),i=Math.asinh;r(r.S+r.F*!(i&&1/i(0)>0),"Math",{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):Math.log(t+Math.sqrt(t*t+1)):t}})}),(function(e,t,n){var r=n(0),i=Math.atanh;r(r.S+r.F*!(i&&1/i(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})}),(function(e,t,n){var r=n(0),i=n(86);r(r.S,"Math",{cbrt:function(e){return i(e=+e)*Math.pow(Math.abs(e),1/3)}})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})}),(function(e,t,n){var r=n(0),i=Math.exp;r(r.S,"Math",{cosh:function(e){return(i(e=+e)+i(-e))/2}})}),(function(e,t,n){var r=n(0),i=n(87);r(r.S+r.F*(i!=Math.expm1),"Math",{expm1:i})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{fround:n(237)})}),(function(e,t,n){var r=n(86),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),u=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<u?c*(i/u/o+1/a-1/a)*u*o:(n=(t=(1+o/a)*i)-(t-i))>s||n!=n?c*(1/0):c*n}}),(function(e,t,n){var r=n(0),i=Math.abs;r(r.S,"Math",{hypot:function(e,t){for(var n,r,a=0,o=0,s=arguments.length,u=0;o<s;)u<(n=i(arguments[o++]))?(a=a*(r=u/n)*r+1,u=n):a+=n>0?(r=n/u)*r:n;return u===1/0?1/0:u*Math.sqrt(a)}})}),(function(e,t,n){var r=n(0),i=Math.imul;r(r.S+r.F*n(8)((function(){return-5!=i(4294967295,5)||2!=i.length})),"Math",{imul:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{log1p:n(111)})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{sign:n(86)})}),(function(e,t,n){var r=n(0),i=n(87),a=Math.exp;r(r.S+r.F*n(8)((function(){return-2e-17!=!Math.sinh(-2e-17)})),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(i(e)-i(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})}),(function(e,t,n){var r=n(0),i=n(87),a=Math.exp;r(r.S,"Math",{tanh:function(e){var t=i(e=+e),n=i(-e);return t==1/0?1:n==1/0?-1:(t-n)/(a(e)+a(-e))}})}),(function(e,t,n){var r=n(0);r(r.S,"Math",{trunc:function(e){return(e>0?Math.floor:Math.ceil)(e)}})}),(function(e,t,n){"use strict";var r=n(0),i=n(71)(!0);r(r.P,"Array",{includes:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),n(46)("includes")}),(function(e,t,n){var r=n(0),i=n(112)(!1);r(r.S,"Object",{values:function(e){return i(e)}})}),(function(e,t,n){var r=n(0),i=n(112)(!0);r(r.S,"Object",{entries:function(e){return i(e)}})}),(function(e,t,n){var r=n(0),i=n(104),a=n(21),o=n(27),s=n(85);r(r.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),u=o.f,c=i(r),d={},l=0;c.length>l;)void 0!==(n=u(r,t=c[l++]))&&s(d,t,n);return d}})}),(function(e,t,n){"use strict";var r=n(0),i=n(113),a=n(63);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padStart:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!0)}})}),(function(e,t,n){"use strict";var r=n(0),i=n(113),a=n(63);r(r.P+r.F*/Version\/10\.\d+(\.\d+)? Safari\//.test(a),"String",{padEnd:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0,!1)}})}),(function(e,t,n){var r=n(4),i=n(0),a=n(63),o=[].slice,s=/MSIE .\./.test(a),u=function(e){return function(t,n){var r=arguments.length>2,i=!!r&&o.call(arguments,2);return e(r?function(){("function"==typeof t?t:Function(t)).apply(this,i)}:t,n)}};i(i.G+i.B+i.F*s,{setTimeout:u(r.setTimeout),setInterval:u(r.setInterval)})}),(function(e,t,n){var r=n(0),i=n(82);r(r.G+r.B,{setImmediate:i.set,clearImmediate:i.clear})}),(function(e,t,n){for(var r=n(80),i=n(37),a=n(28),o=n(4),s=n(18),u=n(44),c=n(7),d=c("iterator"),l=c("toStringTag"),f=u.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(p),m=0;m<h.length;m++){var g,v=h[m],y=p[v],b=o[v],E=b&&b.prototype;if(E&&(E[d]||s(E,d,f),E[l]||s(E,l,v),u[v]=f,y))for(g in r)E[g]||a(E,g,r[g],!0)}}),(function(e,t,n){var r=(function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,a=Object.create(i.prototype),o=new S(r||[]);return a._invoke=(function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return w()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===c)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var d=u(e,t,n);if("normal"===d.type){if(r=n.done?"completed":"suspendedYield",d.arg===c)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(r="completed",n.method="throw",n.arg=d.arg)}}})(e,n,o),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var c={};function d(){}function l(){}function f(){}var p={};p[i]=function(){return this};var h=Object.getPrototypeOf,m=h&&h(h(A([])));m&&m!==t&&n.call(m,i)&&(p=m);var g=f.prototype=d.prototype=Object.create(p);function v(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function y(e){var t;this._invoke=function(r,i){function a(){return new Promise((function(t,a){!(function t(r,i,a,o){var s=u(e[r],e,i);if("throw"!==s.type){var c=s.arg,d=c.value;return d&&"object"==typeof d&&n.call(d,"__await")?Promise.resolve(d.__await).then((function(e){t("next",e,a,o)}),(function(e){t("throw",e,a,o)})):Promise.resolve(d).then((function(e){c.value=e,a(c)}),(function(e){return t("throw",e,a,o)}))}o(s.arg)})(r,i,t,a)}))}return t=t?t.then(a,a):a()}}function b(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return c;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return c}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,c;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,c):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,c)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:w}}function w(){return{value:void 0,done:!0}}return l.prototype=g.constructor=f,f.constructor=l,f[o]=l.displayName="GeneratorFunction",e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===l||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,o in e||(e[o]="GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},v(y.prototype),y.prototype[a]=function(){return this},e.AsyncIterator=y,e.async=function(t,n,r,i){var a=new y(s(t,n,r,i));return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},v(g),g[o]="Generator",g[i]=function(){return this},g.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=A,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,c):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),c},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),_(n),c}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),c}},e})(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}),(function(e,t,n){"use strict";window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[];var r=window.pbjs=window.pbjs||{};r.cmd=r.cmd||[],window.sbmCmd=window.sbmCmd||[],window._sbm=window._sbm||{},window.wtaCmd=window.wtaCmd||[],window.rivraddon=window.rivraddon||{}}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(262),s=n(263),u=n(264),c=n(356),d=n(357),l=n(20),f=n(2),p=[f.default.DOM_EVENTS.FOCUS,f.default.DOM_EVENTS.SCROLL,f.default.DOM_EVENTS.BLUR,f.default.DOM_EVENTS.CLICK],h=(function(){function e(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}return i(e,[{key:"init",value:function(e){var t=e.trafficController.versions;delete e.trafficController;var n=t.find((function(t){return t.name===e.versionName})),r=n.config,i=n.backendOpts;n&&n.release&&n.release;o.default(),l.loadGdprEndpoint(r),l.patch();try{this.user=s.default(r,e)}catch(e){a.default.throw("exception in modifyInputObjects",e)}c.default.launch(t,r,this.user),d.default.launchScript(r.adobeDtmUrl);var f=new u.default(r,this.user,i);if(a.default.addGlobalKey("window","SBMGlobal",f),this.addDomEventListeners(r),!this.user.suppress)try{window.sbmCmd.push((function(e){e.fullAuctionCycle()}))}catch(e){a.default.throw("Failed to launch header bidding",e)}this.executeCmd(window.SBMGlobal.run,window.sbmCmd)}},{key:"addMetadata",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this.user&&"object"===(void 0===e?"undefined":r(e)))for(var t in this.user.metadata=this.user.metadata||{},e)e.hasOwnProperty(t)&&(this.user.metadata[t]=e[t])}},{key:"executeCmd",value:function(e){for(var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];n.length>0;)this.runFunc(n.shift(),e);n.push=function(n){t.runFunc(n,e)}}},{key:"runFunc",value:function(e,t){try{e(t)}catch(e){a.default.throw("Failed to execute sbmCmd callback",e)}}},{key:"addDomEventListeners",value:function(e){var t=e.domEvents?e.domEvents:p;a.default.onDocReady((function(){t.forEach((function(e){window.addEventListener(e,(function(e){window.SBMGlobal.run.fire(e.type)}))}))}))}}]),e})();t.default=h}),(function(e,t,n){(function(t){var n=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,i="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",a="["+i+"]",o="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",s="\\d+",u="[\\u2700-\\u27bf]",c="[a-z\\xdf-\\xf6\\xf8-\\xff]",d="[^\\ud800-\\udfff"+i+s+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",l="(?:\\ud83c[\\udde6-\\uddff]){2}",f="[\\ud800-\\udbff][\\udc00-\\udfff]",p="[A-Z\\xc0-\\xd6\\xd8-\\xde]",h="(?:"+c+"|"+d+")",m="(?:"+p+"|"+d+")",g="(?:[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]|\\ud83c[\\udffb-\\udfff])?",v="[\\ufe0e\\ufe0f]?"+g+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",l,f].join("|")+")[\\ufe0e\\ufe0f]?"+g+")*"),y="(?:"+[u,l,f].join("|")+")"+v,b=RegExp("['’]","g"),E=RegExp(o,"g"),_=RegExp([p+"?"+c+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[a,p,"$"].join("|")+")",m+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[a,p+h,"$"].join("|")+")",p+"?"+h+"+(?:['’](?:d|ll|m|re|s|t|ve))?",p+"+(?:['’](?:D|LL|M|RE|S|T|VE))?",s,y].join("|"),"g"),S=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,A="object"==typeof t&&t&&t.Object===Object&&t,w="object"==typeof self&&self&&self.Object===Object&&self,O=A||w||Function("return this")();var I,C=(I={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},function(e){return null==I?void 0:I[e]});var T=Object.prototype.toString,P=O.Symbol,x=P?P.prototype:void 0,k=x?x.toString:void 0;function N(e){if("string"==typeof e)return e;if(function(e){return"symbol"==typeof e||(function(e){return!!e&&"object"==typeof e})(e)&&"[object Symbol]"==T.call(e)}(e))return k?k.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function D(e){return null==e?"":N(e)}var R,j=(R=function(e,t,n){return e+(n?"_":"")+t.toLowerCase()},function(e){return (function(e,t,n,r){var i=-1,a=e?e.length:0;for(r&&a&&(n=e[++i]);++i<a;)n=t(n,e[i],i,e);return n})(function(e,t,r){return e=D(e),void 0===(t=r?void 0:t)?(function(e){return S.test(e)})(e)?(function(e){return e.match(_)||[]})(e):(function(e){return e.match(n)||[]})(e):e.match(t)||[]}(function(e){return(e=D(e))&&e.replace(r,C).replace(E,"")}(e).replace(b,"")),R,"")});e.exports=j}).call(this,n(65))}),(function(e,t,n){(function(e,n){var r=/^\[object .+?Constructor\]$/,i=/^(?:0|[1-9]\d*)$/,a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1;var o="object"==typeof e&&e&&e.Object===Object&&e,s="object"==typeof self&&self&&self.Object===Object&&self,u=o||s||Function("return this")(),c=t&&!t.nodeType&&t,d=c&&"object"==typeof n&&n&&!n.nodeType&&n,l=d&&d.exports===c,f=l&&o.process,p=(function(){try{var e=d&&d.require&&d.require("util").types;return e||f&&f.binding&&f.binding("util")}catch(e){}})(),h=p&&p.isTypedArray;function m(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var g,v,y,b=Array.prototype,E=Function.prototype,_=Object.prototype,S=u["__core-js_shared__"],A=E.toString,w=_.hasOwnProperty,O=(g=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",I=_.toString,C=A.call(Object),T=RegExp("^"+A.call(w).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=l?u.Buffer:void 0,x=u.Symbol,k=u.Uint8Array,N=P?P.allocUnsafe:void 0,D=(v=Object.getPrototypeOf,y=Object,function(e){return v(y(e))}),R=Object.create,j=_.propertyIsEnumerable,M=b.splice,B=x?x.toStringTag:void 0,U=(function(){try{var e=ce(Object,"defineProperty");return e({},"",{}),e}catch(e){}})(),L=P?P.isBuffer:void 0,V=Math.max,F=Date.now,G=ce(u,"Map"),q=ce(Object,"create"),z=(function(){function e(){}return function(t){if(!_e(t))return{};if(R)return R(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();function W(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function H(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function K(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Y(e){var t=this.__data__=new H(e);this.size=t.size}function $(e,t){var n=ge(e),r=!n&&me(e),i=!n&&!r&&ye(e),a=!n&&!r&&!i&&Ae(e),o=n||r||i||a,s=o?(function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r})(e.length,String):[],u=s.length;for(var c in e)!t&&!w.call(e,c)||o&&("length"==c||i&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||de(c,u))||s.push(c);return s}function J(e,t,n){(void 0===n||he(e[t],n))&&(void 0!==n||t in e)||Z(e,t,n)}function X(e,t,n){var r=e[t];w.call(e,t)&&he(r,n)&&(void 0!==n||t in e)||Z(e,t,n)}function Q(e,t){for(var n=e.length;n--;)if(he(e[n][0],t))return n;return-1}function Z(e,t,n){"__proto__"==t&&U?U(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}W.prototype.clear=function(){this.__data__=q?q(null):{},this.size=0},W.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},W.prototype.get=function(e){var t=this.__data__;if(q){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return w.call(t,e)?t[e]:void 0},W.prototype.has=function(e){var t=this.__data__;return q?void 0!==t[e]:w.call(t,e)},W.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=q&&void 0===t?"__lodash_hash_undefined__":t,this},H.prototype.clear=function(){this.__data__=[],this.size=0},H.prototype.delete=function(e){var t=this.__data__,n=Q(t,e);return!(n<0)&&(n==t.length-1?t.pop():M.call(t,n,1),--this.size,!0)},H.prototype.get=function(e){var t=this.__data__,n=Q(t,e);return n<0?void 0:t[n][1]},H.prototype.has=function(e){return Q(this.__data__,e)>-1},H.prototype.set=function(e,t){var n=this.__data__,r=Q(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},K.prototype.clear=function(){this.size=0,this.__data__={hash:new W,map:new(G||H),string:new W}},K.prototype.delete=function(e){var t=ue(this,e).delete(e);return this.size-=t?1:0,t},K.prototype.get=function(e){return ue(this,e).get(e)},K.prototype.has=function(e){return ue(this,e).has(e)},K.prototype.set=function(e,t){var n=ue(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Y.prototype.clear=function(){this.__data__=new H,this.size=0},Y.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Y.prototype.get=function(e){return this.__data__.get(e)},Y.prototype.has=function(e){return this.__data__.has(e)},Y.prototype.set=function(e,t){var n=this.__data__;if(n instanceof H){var r=n.__data__;if(!G||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new K(r)}return n.set(e,t),this.size=n.size,this};var ee,te=function(e,t,n){for(var r=-1,i=Object(e),a=n(e),o=a.length;o--;){var s=a[ee?o:++r];if(!1===t(i[s],s,i))break}return e};function ne(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":B&&B in Object(e)?(function(e){var t=w.call(e,B),n=e[B];try{e[B]=void 0;var r=!0}catch(e){}var i=I.call(e);r&&(t?e[B]=n:delete e[B]);return i})(e):(function(e){return I.call(e)})(e)}function re(e){return Se(e)&&"[object Arguments]"==ne(e)}function ie(e){return!(!_e(e)||(function(e){return!!O&&O in e})(e))&&(be(e)?T:r).test(function(e){if(null!=e){try{return A.call(e)}catch(e){}try{return e+""}catch(e){}}return""}(e))}function ae(e){if(!_e(e))return (function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t})(e);var t=le(e),n=[];for(var r in e)("constructor"!=r||!t&&w.call(e,r))&&n.push(r);return n}function oe(e,t,n,r,i){e!==t&&te(t,(function(a,o){if(i||(i=new Y),_e(a))!(function(e,t,n,r,i,a,o){var s=fe(e,n),u=fe(t,n),c=o.get(u);if(c)return void J(e,n,c);var d=a?a(s,u,n+"",e,t,o):void 0,l=void 0===d;if(l){var f=ge(u),p=!f&&ye(u),h=!f&&!p&&Ae(u);d=u,f||p||h?ge(s)?d=s:Se(b=s)&&ve(b)?d=(function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t})(s):p?(l=!1,d=(function(e,t){if(t)return e.slice();var n=e.length,r=N?N(n):new e.constructor(n);return e.copy(r),r})(u,!0)):h?(l=!1,m=u,g=!0?(v=m.buffer,y=new v.constructor(v.byteLength),new k(y).set(new k(v)),y):m.buffer,d=new m.constructor(g,m.byteOffset,m.length)):d=[]:(function(e){if(!Se(e)||"[object Object]"!=ne(e))return!1;var t=D(e);if(null===t)return!0;var n=w.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&A.call(n)==C})(u)||me(u)?(d=s,me(s)?d=(function(e){return (function(e,t,n,r){var i=!n;n||(n={});var a=-1,o=t.length;for(;++a<o;){var s=t[a],u=r?r(n[s],e[s],s,n,e):void 0;void 0===u&&(u=e[s]),i?Z(n,s,u):X(n,s,u)}return n})(e,we(e))})(s):_e(s)&&!be(s)||(d=(function(e){return"function"!=typeof e.constructor||le(e)?{}:z(D(e))})(u))):l=!1}var m,g,v,y;var b;l&&(o.set(u,d),i(d,u,r,a,o),o.delete(u));J(e,n,d)})(e,t,o,n,oe,r,i);else{var s=r?r(fe(e,o),a,o+"",e,t,i):void 0;void 0===s&&(s=a),J(e,o,s)}}),we)}function se(e,t){return pe(function(e,t,n){return t=V(void 0===t?e.length-1:t,0),function(){for(var r=arguments,i=-1,a=V(r.length-t,0),o=Array(a);++i<a;)o[i]=r[t+i];i=-1;for(var s=Array(t+1);++i<t;)s[i]=r[i];return s[t]=n(o),m(e,this,s)}}(e,t,Ce),e+"")}function ue(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function ce(e,t){var n=(function(e,t){return null==e?void 0:e[t]})(e,t);return ie(n)?n:void 0}function de(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}function le(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||_)}function fe(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var pe=(function(e){var t=0,n=0;return function(){var r=F(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}})(U?function(e,t){return U(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ce);function he(e,t){return e===t||e!=e&&t!=t}var me=re(function(){return arguments}())?re:function(e){return Se(e)&&w.call(e,"callee")&&!j.call(e,"callee")},ge=Array.isArray;function ve(e){return null!=e&&Ee(e.length)&&!be(e)}var ye=L||function(){return!1};function be(e){if(!_e(e))return!1;var t=ne(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ee(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function _e(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Se(e){return null!=e&&"object"==typeof e}var Ae=h?(function(e){return function(t){return e(t)}})(h):function(e){return Se(e)&&Ee(e.length)&&!!a[ne(e)]};function we(e){return ve(e)?$(e,!0):ae(e)}var Oe,Ie=(Oe=function(e,t,n){oe(e,t,n)},se((function(e,t){var n=-1,r=t.length,i=r>1?t[r-1]:void 0,a=r>2?t[2]:void 0;for(i=Oe.length>3&&"function"==typeof i?(r--,i):void 0,a&&(function(e,t,n){if(!_e(n))return!1;var r=typeof t;return!!("number"==r?ve(n)&&de(t,n.length):"string"==r&&t in n)&&he(n[t],e)})(t[0],t[1],a)&&(i=r<3?void 0:i,r=1),e=Object(e);++n<r;){var o=t[n];o&&Oe(e,o,n,i)}return e})));function Ce(e){return e}n.exports=Ie}).call(this,n(65),n(261)(e))}),(function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(23);t.default=function(){var e=r.default.getUrlParams(),t=i.default.nsDebug();if("debug"in e)window.DEV_MODE="warn",window.DEBUG_MODE="verbose";else if("ns_debug"in e||t){var n=e.ns_debug||t;n=n.toLowerCase(),i.default.nsDebug(n),window.DEV_MODE="warn",window.NS_DEBUG=n}else"min_debug"in e?(window.DEV_MODE="warn",window.DEBUG_MODE="minimal"):"strict_debug"in e?(window.DEV_MODE="strict",window.DEBUG_MODE="verbose"):"static_debug"in e&&(window.DEV_MODE="strict",window.DEBUG_MODE="static");"EBTEST"in e&&(window.EBTEST=e.EBTEST),"BMTEST"in e&&(window.BMTEST=e.BMTEST),"CMTEST"in e&&(window.CMTEST=e.CMTEST),"TEST"in e&&(window.DFPTEST=e.TEST)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(23),i=n(1),a=n(2),o=n(20),s=n(115);t.default=function(e,t){var n=window._sbm?window._sbm.user:{};!0===t.suppress&&(t.suppress=a.default.SUPPRESS_TYPES.BY_APPLICATION),e.user&&!0===e.user.suppress&&(e.user.suppress=a.default.SUPPRESS_TYPES.BY_CONFIG),n&&!0===n.suppress&&(n.suppress=a.default.SUPPRESS_TYPES.BY_WINDOW);var u=e.user?e.user:{};t=Object.assign({},t,u,n),window._sbm&&delete window._sbm,t.citationCount||(t.citationCount=0),t.page=t.page?t.page.replace(/index/i,"homepage"):"ros",t.initialAuctionId=i.default.genUUID(),t.isInitialAuction=!0,t.realDevice=t.device,t.device=t.device===a.default.MOBILE?a.default.MOBILE:a.default.DESKTOP,r.default.verifyTestGroup(e.tests),t.testGroup=r.default.setTestGroup(e.tests,e.version),t.testGroup&&(t.tg=t.testGroup.replace(/(\w|\d{1,3})-(\w)\w*/,"$1-$2")),e.experiment&&(t.experiment=e.experiment);var c=r.default.docCookies.getItem(a.default.COOKIE.SBM_ID);if(c&&(t.sbmId=c),t.suppress=(function(){var e=i.default.getUrlParams(),t=[a.default.ALLOWED_PARAMS_ADFREE.ARCHIE_SUPPRESS,a.default.ALLOWED_PARAMS_ADFREE.EDU_MODE],n=void 0,o=!0,s=!1,u=void 0;try{for(var c,d=t[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var l=c.value;if(l in e){n=e[l],r.default.bypassAdsCookie(e[l]),l===a.default.ALLOWED_PARAMS_ADFREE.EDU_MODE&&(i.default.removeParamFromQueryString(l,!0),i.default.throw("EDU_MODE enabled"));break}}}catch(e){s=!0,u=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw u}}return(n=n||r.default.bypassAdsCookie())===a.default.TARGETING.ON&&a.default.SUPPRESS_TYPES.BY_COOKIE})()||t.suppress,t.country)r.default.setCountry(t.country);else{var d=r.default.getCountry();d?t.country=d:window.__sbmCountryCode&&(t.country=window.__sbmCountryCode,r.default.setCountry(t.country))}var l=r.default.getDma();l&&(t.dma=l);var f=e.video&&e.video.partner?e.video.partner:"not set";i.default.updateDataLayer({archieLeagueAdVersion:t.versionName,adVantageTestGroup:t.testGroup,adVantagePage:t.page,adVantageAuctionId:t.initialAuctionId,videoPartner:f}),t&&t.setGaTestGroup&&i.default.tryCallback(t,"setGaTestGroup",[t.testGroup,t.versionName,t.page,t.initialAuctionId]),t.metadata=t.metadata||{},t.ua=t.ua||{},t.refreshCount=0,i.default.recordEventTime("initUser"),o.getGdprApplies()?o.getConsentString().then((function(e){return t.gdprApplies=e.gdprApplies})):t.gdprApplies=!1,t.ccpaApplies=o.getCcpaApplies();try{window.screen&&(window.screen.width&&(t.resolution=[window.screen.width,window.screen.height],t.ua.screenWidth=window.screen.width,t.ua.screenHeight=window.screen.height),t.ua.colorDepth=window.screen.colorDepth),window.innerWidth&&window.innerHeight&&(t.ua.viewportWidth=window.innerWidth,t.ua.viewportHeight=window.innerHeight),window.navigator&&(window.navigator.javaEnabled&&(t.ua.javaEnabled=window.navigator.javaEnabled()),t.ua.platform=window.navigator.platform,t.ua.lang=window.navigator.language,t.ua.name=s.parse(window.navigator.userAgent).browser.name)}catch(e){}return t.time={local:(new Date).getHours(),utc:(new Date).getUTCHours()},t}}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(265),o=n(266),s=n(2),u=n(267),c=n(1),d=n(268),l=n(346),f=n(347),p=n(348),h=n(349),m=n(350),g=n(351),v=n(352),y=n(353),b=n(23),E=n(20),_=n(117),S=n(354),A=n(17);t.default=function e(t,w,O){var I=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.subscribers=[],this.cachedBids={};var C=this,T=new v.default(w,t);T.send("start",w.initialAuctionId);new l.default(t),new f.default(t),new p.default(t);var P=new h.default(O,w,t),x=new m.default(w,t),k=new d.default(w,t),N=new S.default(w,t);c.default.setVersionName(w.versionName),_.Sticky.insertStickyCss(t);var D=new g.default({user:w,pageManager:k}),R=new a.default(t),j=new o.default(t,w);A.default.init(t,w),u.default.setPixels(t,w,k),c.default.onUnload((function(){var e=k.getAuction()?k.getAuction().id:w.initialAuctionId;T.send("unload",e)})),this.run={refresh:function(e){if(!1===w.canRunAds)return c.default.log("User cannot run ads. Refresh aborted",s.default.LOG_NAMESPACE.STATE),Promise.resolve(!1);var t="string"==typeof e?e:"refreshEvent";return"object"===(void 0===e?"undefined":r(e))&&(e.pageCount&&(w.pageCount=e.pageCount),e.citationCount&&(w.citationCount=e.citationCount),e.device&&(w.device=e.device),(e.pagetype||e.page)&&(w.page=e.pagetype?e.pagetype:e.page),e.layout&&(w.layout=e.layout),e.type&&(t=e.type),e.country&&(w.country=e.country,b.default.setCountry(w.country))),c.default.log("Running refresh: "+w.page+", "+w.layout,s.default.LOG_NAMESPACE.STATE),("string"!=typeof t||t.length>30)&&(c.default.throw("The refresh type must be a string under 30 characters. Type: "+t),t="refreshEvent"),w.refreshType=t,w.refreshCount++,T.clear(),C.run.fullAuctionCycle()},reload:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i(I,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(C.run.cleanUpTakeover(),w.suppress!==s.default.SUPPRESS_TYPES.BY_COOKIE&&"on"!==b.default.bypassAdsCookie()){n.next=3;break}return n.abrupt("return",Promise.resolve(!1));case 3:if(e.pageCount&&(w.pageCount=e.pageCount),e.citationCount&&(w.citationCount=e.citationCount),e.device&&(w.device=e.device),(e.pagetype||e.page)&&(w.page=e.pagetype?e.pagetype:e.page),e.layout&&(w.layout=e.layout),e.country&&(w.country=e.country,b.default.setCountry(w.country)),x.reload(w),!1!==w.canRunAds){n.next=13;break}return c.default.log("User cannot run ads. Reload aborted",s.default.LOG_NAMESPACE.STATE),n.abrupt("return",Promise.resolve(!1));case 13:return c.default.log("Running reload: "+w.page+", "+w.layout,s.default.LOG_NAMESPACE.STATE),("string"!=typeof(r=e.type||"reloadEvent")||r.length>30)&&c.default.throw("The reload type must be a string under 30 characters. Type: "+r),w.refreshType=r,w.refreshCount=0,j.clear(),j.enableRefresh(),T.clear(),w.isInitialAuction=!1,(i=C.run.fullAuctionCycle(r,e.union)).then((function(){t.preauction&&C.run.headerBidding(s.default.DISPLAY_AUCTION_TYPES.NEXT)})),n.abrupt("return",i);case 25:case"end":return n.stop()}}),n,this)})))},auctionWinners:{},fullAuctionCycle:function(e,t){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r="layoutchange"!==e&&!t,j.registerAutoRefresh(w,C.run.refresh),n.next=4,C.run.headerBidding(s.default.DISPLAY_AUCTION_TYPES.CURRENT,r,t);case 4:return i=n.sent,n.abrupt("return",C.run.serveAds(i));case 6:case"end":return n.stop()}}),n,this)})))},headerBidding:function(e,n,r){return i(this,void 0,void 0,regeneratorRuntime.mark((function i(){var a,o,u,d,l,f,p,h,m,g;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(a=void 0,e===s.default.DISPLAY_AUCTION_TYPES.CURRENT?a=w.page:t.pageOrder&&(a=t.pageOrder[w.page]),a||(a="ros",c.default.log("No page found for headerbidding, using ros default",s.default.LOG_NAMESPACE.STATE)),o=k.genAdvPlacements(w,a,t),u=o.advPlacements,d=o.layout,l=o.page,c.default.log("Running header bidding: "+w.page+", "+w.layout,s.default.LOG_NAMESPACE.STATE),!E.getGdprApplies()){i.next=10;break}return i.next=8,E.getConsentString();case 8:i.next=18;break;case 10:if(!E.getCcpaApplies()){i.next=17;break}return i.next=13,E.getUspData();case 13:f=i.sent,w.ccpaConsented="N"===f.uspString.substring(3),i.next=18;break;case 17:c.default.log("neither GDPR or CCPA apply. No consent string.",s.default.LOG_NAMESPACE.CONSENT);case 18:if(c.default.recordEventTime("gdprCheck"),N.retry&&N.performRequest(),!Array.from(document.head.children).find((function(e){return"turbolinks-cache-control"===e.name}))&&t.noCache&&c.default.turboLinksPreventCaching(),!("quickads"in c.default.getUrlParams()||-1!==(t.skipHeader||[]).indexOf(w.page))){i.next=24;break}return i.abrupt("return",!1);case 24:if(p=w.refreshCount>0,h=!p&&!w.isInitialAuction,c.default.log("headerBidding mode:  Refresh?: "+p+", Reload?: "+h+", isInitialAuction?: "+w.isInitialAuction,s.default.LOG_NAMESPACE.REFRESH),m=n?k.getPreauction(l,d):null){i.next=45;break}return(m=k.genAuction({isRefresh:p,isReload:h,bidFlooring:N,layout:d,page:l})).advPage=k.genAdvPage({page:l,layout:d,advPlacements:u,mode:m.mode,pagetype:w.page,user:w,links:R,union:r}),c.default.log("No preauction found for "+l+" "+d+", running new auction "+m.id,s.default.LOG_NAMESPACE.REFRESH),g={user:w,config:t,dfp:D,unlockLauncher:P,fluentD:T,bidFlooring:N},i.prev=33,c.default.recordEventTime("auctionInit",m.id),i.next=37,m.runAuction(g);case 37:i.next=42;break;case 39:i.prev=39,i.t0=i.catch(33),c.default.throw("error trying to run prebid auction",i.t0);case 42:c.default.log("Finished header auction "+m.id,s.default.LOG_NAMESPACE.STATE),i.next=46;break;case 45:c.default.log("Preauction available for "+l+" "+d+" with id: "+m.id,s.default.LOG_NAMESPACE.REFRESH);case 46:return i.abrupt("return",m);case 47:case"end":return i.stop()}}),i,this,[[33,39]])})))},serveAds:function(e){return i(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.default.log("Rendering bids for auction "+e.id,s.default.LOG_NAMESPACE.STATE),e.setWinningBids(),e.markUsed(),P.launch(t,w,e.advPage),P.participateAndSetKvps(t,e),k.destroyAndInitPlacements(w,e),T.init({config:t,user:w,auction:e,dfp:D}),n.prev=7,r=void 0,!(t.takeover&&t.takeover.run&&e.advPage.dfpPlacements.D_MISC&&t.takeover.pages.indexOf(w.page)>-1)){n.next=13;break}return n.next=12,D.getTakeoverDemand(e.advPage.dfpPlacements.D_MISC,t.takeover.target);case 12:r=n.sent;case 13:return n.next=15,D.init({fluentD:T,auction:e,config:t});case 15:return n.next=17,D.runTargeting(r);case 17:n.next=22;break;case 19:n.prev=19,n.t0=n.catch(7),c.default.throw("error trying to run dfp targeting for prebid",n.t0);case 22:return i=Object.keys(e.advPage.headerPlacements).map((function(t){return e.advPage.headerPlacements[t].renderPromise})),(a=Promise.all(i)).then((function(){c.default.log("Sending Auction Event",s.default.LOG_NAMESPACE.DATA),A.default.sendSbmAnalyticsEvents&&A.default.generateAuctionEvent(e)})),n.abrupt("return",a);case 26:case"end":return n.stop()}}),n,this,[[7,19]])})))},renderAd:function(e,t,r,i,a,o){if(e&&!t){var u=e;e=u.document,t=u.partnerAlias,r=u.placementName,u.lineitemId,u.creativeId,o=u.auctionId}var d=k.getAuction();if(d&&(!o||o===d.id)){var l=d.getWinner(r,s.default.CHANNEL_NAMES.PREBID);if(l.doc=e,l){l.auctionId!==d.id&&c.default.log("Rendering cached bid as winner "+l.partnerName+" "+l.placementName+" "+l.cents,s.default.LOG_NAMESPACE.BIDS),l.prebidBidResponse&&l.prebidBidResponse.native?y.default(k.getAdvPage().headerPlacements[r],l.prebidBidResponse.native):window.pbjs.renderAd(e,l.id,r),n(355).default.adjustWinningBid(l,{placementName:r,placement:d.getPlacement(r)});var f=(this.auctionWinners[l.auctionId]||{})[l.placementName];f&&l.partnerName!==f.partnerName&&(l.dfpDiscrepancy=l.cents-f.cents,l.initialWinner=f.partnerName||s.default.CHANNEL_NAMES.NONE,l.initialCents=f.cents)}else l=(function(e,t){var n=t.getPartner(t.cpcPartnerName);if(n){var r=t.getPlacement(e),i=n.response[e];return i.channel=s.default.CHANNEL.CPC,n.renderAd(r),i}})(r,d)}},disableRefresh:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e&&k.getPlacements()[e]?k.getPlacements()[e].skipRefresh=!0:t.disableAll&&j.disableRefresh()},fire:function(e,t){try{I.subscribers.forEach((function(n){n.call(I,e,t)})),"scroll"!==e&&c.default.log("event: "+e+"; payload: "+JSON.stringify(t),s.default.LOG_NAMESPACE.VIDEO)}catch(e){return c.default.throw("Failed to parse fire function payload",e),e}return null},confiantCallback:function(e){c.default.log("Confiant callback invoked on "+e,s.default.LOG_NAMESPACE.BIDS);var t=k.getAuction(),n=t.blockAndGetWinner(e);if(n){var r={event_name:"confiant-ad-blocked",partner:n.partnerName,bid_id:n.id,placement:e,auction_id:t.id,page:w.page,layout:w.layout,mode:t.mode};A.default.send({type:s.default.SBM.EVENT_TYPES.AD_VARIOUS.NAME,data:r});var i=t.getWinningBid(e);t.setWinner(e,s.default.CHANNEL_NAMES.PREBID,i),n.doc&&i&&window.pbjs.renderAd(n.doc,i.id,e)}},subscribe:function(e){I.subscribers.push(e)},unsubscribe:function(e){var t=I.subscribers.indexOf(e);-1!==t&&I.subscribers.splice(t,1)},updateLayouts:function(e,n){c.default.log(["Updating "+e+" in layouts with:",n],s.default.LOG_NAMESPACE.STATE),e&&n&&Object.keys(n).length&&t.placements[e].replacementPattern&&w.ua.name.match(t.placements[e].replacementPattern)&&Object.keys(t.layouts).forEach((function(r){Object.keys(t.layouts[r]).forEach((function(i){t.layouts[r][i][e]&&(delete t.layouts[r][i][e],Object.keys(n).forEach((function(e){t.layouts[r][i][e]=n[e]})))}))}))},renderTakeover:function(e){var t=e.right,n=e.bottom,r=e.clickThroughURL,i=e.pixelArr,a=e.bgColor,o=document.createElement("a");o.style.display="block",o.href=r,o.target="_blank",o.id="takeover_right",o.style.width="400px",o.style.height="100%",o.style.position="fixed",o.style.right="0px",o.style.top="51px",o.style.zIndex="250",o.style.backgroundImage="url("+t+")",o.style.backgroundRepeat="no-repeat",o.style.backgroundColor=a||"black";var u=document.createElement("a");u.style.display="block",u.href=r,u.target="_blank",u.id="takeover_bottom",u.style.width="100%",u.style.height="90px",u.style.position="fixed",u.style.right="0px",u.style.bottom="0px",u.style.zIndex="250",u.style.backgroundImage="url("+n+")",u.style.backgroundRepeat="no-repeat",u.style.backgroundColor=a||"black",u.style.backgroundPositionX="center",[o,u].forEach((function(e){e.addEventListener("click",(function(){var e=A.default.getClickstreamInteractionData({text:"takeover click",name:"takeover click",region_name:"L takeover"});A.default.send({type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:e})}));var t=document.getElementById("D_MISC");t&&t.appendChild(e)})),i&&i.length&&i.forEach((function(e){var t=document.createElement("iFrame");t.setAttribute("src",e),t.id="takeover-imp",t.style.width="1px",t.style.height="1px",t.style.borderWidth="0px",document.body.appendChild(t)}))},cleanUpTakeover:function(){["takeover_right","takeover_bottom"].forEach((function(e){var t=document.getElementById(e);t&&t.remove()}))}},this.addCallback=function(e,t){c.default.addGlobalKey.call(this,"this.run",e,t)},c.default.addGlobalKey.call(this,"this","run",this.run),c.default.addGlobalKey.call(this,"this","addCallback",this.addCallback),this.addCallback("headerBidding",this.run.headerBidding),this.addCallback("renderAd",this.run.renderAd),this.addCallback("disableRefresh",this.run.disableRefresh),this.addCallback("enableDebug",c.default.enableDebug)}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),o=(function(){function e(t){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.config=t}return r(e,[{key:"setLinksTextAndBasicStyles",value:function(e){var t=[],n="",r=e.$ad,a=e.$pasture;if(a&&r){if(e.placementConfig.skipUpgradeLink)return;var o=i.default.genRandomString();t.push([o,this.maxWidthForPlacement(e)]);var s=this.createLinks(o,e,this.config.upgradeLink);a.appendChild(s)}n+=this.styleForLinkContainers(t),i.default.dynamicStyle(n)}},{key:"clearOldLinks",value:function(e){var t=this;Object.keys(e).forEach((function(n){var r=e[n];t.clearOldLink(r)}))}},{key:"clearOldLink",value:function(e){var t=e.$pasture;t&&Array.from(t.getElementsByClassName(a.default.CLASS_NAMES.LINK)).forEach((function(e){e.parentNode.removeChild(e)}))}},{key:"maxWidthForPlacement",value:function(e){var t=160,n=!0,r=!1,i=void 0;try{for(var a,o=e.placementConfig.sizes[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;s[0]>t&&(t=s[0])}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t>420?420:t}},{key:"createUpgradeLink",value:function(e,t){var n=document.createElement("a");return n.style.color="darkgray",n.setAttribute("data-type","ads-keep-us-free"),n.setAttribute("data-link-location",e),n.textContent="Upgrade",n.href=t,n}},{key:"createLinks",value:function(e,t,n){var r=document.createElement("div");r.setAttribute("id",e),r.className=a.default.CLASS_NAMES.LINK;var i=this.createUpgradeLink(t.name,n);return t.placementConfig.skipUpgradeLink||r.appendChild(i),r}},{key:"styleForLinkContainers",value:function(e){var t="";window.AD_VANTAGE_STAGING&&(t+="\n/* ==== style for link containers ==== */\n");var n=!0,r=!1,i=void 0;try{for(var a,o=e[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){t+="#"+a.value[0]+","}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return t=t.substring(0,t.length-1),""+(t+=[" {","font-size: 12px;","min-height: 20px;","text-align: center;","align-content: center;","margin: 0px auto;","margin-bottom: 8px;","position: relative;","top: 3px;","font-weight: normal;","color: gray;","max-width: 160px;","}"].join("\n    "))}}]),e})();t.default=o}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(2),o=(function(){function e(t,n){var r=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.forceTimerRefresh=!1,this.actionRefreshEnabled=!0,this.actionListenersSet=!1,this.tabHandler=function(e){e!==a.default.DOM_EVENTS.FOCUS&&e!==a.default.DOM_EVENTS.SCROLL||(r.clear(),i.default.log("Tab refresh triggered.",a.default.LOG_NAMESPACE.REFRESH),r.callback("tab"))},this.blurHandler=function(e){e===a.default.DOM_EVENTS.BLUR&&(window.SBMGlobal.run.unsubscribe(r.blurHandler),window.SBMGlobal.run.subscribe(r.tabHandler))},this.config=t,this.user=n;try{this.refreshConfig=this.config.refresh[n.device],this.enabled=this.refreshConfig.enabled,this.forceTimerRefresh=this.refreshConfig.forceTimerRefresh}catch(e){this.refreshConfig={},this.enabled=!1,i.default.throw("SBMGlobal.refreshManager failed to instantiate")}}return r(e,[{key:"addClickHandlers",value:function(e){var t=this;this.refreshConfig.ctaSelectors&&!this.actionListenersSet&&(this.refreshConfig.ctaSelectors.forEach((function(n){document.addEventListener("click",(function(r){r.target.closest(n)&&t.enabled&&t.actionRefreshEnabled&&(t.actionRefreshEnabled=!1,e(),setTimeout((function(){return t.actionRefreshEnabled=!0}),t.refreshConfig.actionRefreshTimer))}),!0)})),this.actionListenersSet=!0)}},{key:"registerAutoRefresh",value:function(e,t){var n=this;this.user=e,this.callback=function(e){t(e)};try{this.refreshConfig=this.config.refresh[this.user.device],this.enabled=this.refreshConfig.enabled}catch(e){i.default.throw("registerAutoRefresh failed")}this.clear(),this.addClickHandlers(t),this.shouldAllowRefresh()&&(this.normalTimer=window.setTimeout((function(){(n.forceTimerRefresh||window.document.hasFocus())&&(n.clear(),i.default.log("Normal refresh triggered.",a.default.LOG_NAMESPACE.REFRESH),n.callback("normal"))}),this.refreshConfig.durationMs),this.tabTimer=window.setTimeout((function(){window.document.hasFocus()?window.SBMGlobal.run.subscribe(n.blurHandler):window.SBMGlobal.run.subscribe(n.tabHandler)}),this.refreshConfig.visibilityMs),i.default.log("Refresh initialized with "+this.refreshConfig.durationMs+" on page and "+this.refreshConfig.visibilityMs+" off",a.default.LOG_NAMESPACE.REFRESH))}},{key:"clear",value:function(){clearTimeout(this.tabTimer),clearTimeout(this.normalTimer),window.SBMGlobal.run.unsubscribe(this.blurHandler),window.SBMGlobal.run.unsubscribe(this.tabHandler)}},{key:"disableRefresh",value:function(){this.clear(),this.enabled=!1}},{key:"enableRefresh",value:function(){this.enabled=!0}},{key:"getRefreshCount",value:function(){return this.user.refreshCount}},{key:"shouldAllowRefresh",value:function(){return this.enabled&&this.user.refreshCount<this.refreshConfig.limit}}]),e})();t.default=o}),(function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(20),o=n(23),s=n(114);var u={MD5:new s.MD5,SHA1:new s.SHA1,SHA256:new s.SHA256,multiHash:function(e){return[u.MD5.hex(e),u.SHA1.hex(e),u.SHA256.hex(e)]},genAtsOnLoad:function(e,t,n){var i=e.prebid&&e.prebid.atsPid||1267;return function(){return r(void 0,void 0,void 0,regeneratorRuntime.mark((function r(){var a,o,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(a=u.multiHash(t),o={placementID:i,emailHashes:a},e.prebid&&e.prebid.atsOptions&&Object.assign(o,e.prebid.atsOptions),!window.ats){r.next=9;break}return window.ats.start(o),r.next=7,window.ats.retrieveEnvelope();case 7:s=r.sent,n.hasAtsEnvelope=!!s;case 9:case"end":return r.stop()}}),r,this)})))}},getAtsPixel:function(e,t){if(!e.prebid||!e.prebid.runAts)return null;var n=i.default.getUserEmail(e.prefix);if(!n)return null;var r=document.createElement("script");return r.src=e.prebid&&e.prebid.atsSrc||"https://ats.rlcdn.com/ats.js",r.onload=u.genAtsOnLoad(e,n,t),r}};t.default={setPixels:function(e,t,n){return r(this,void 0,void 0,regeneratorRuntime.mark((function n(){var r,s,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=[],n.next=3,a.userAllowsPersonalAds();case 3:if(n.sent&&-1===(e.skipHeader||[]).indexOf(t.page)){n.next=7;break}return e.prebid.runAts&&i.default.getUserEmail(e.prefix)&&o.default.removeAtsCookies(),n.abrupt("return",r);case 7:return r.push((d=void 0,(d=document.createElement("iframe")).width="0",d.height="0",d.frameBorder="0",d.scrolling="no",d.marginHeight="0",d.marginWidth="0",d.style.display="none",d.src="https://js-sec.indexww.com/um/ixmatch.html",d)),(s=u.getAtsPixel(e,t))&&r.push(s),e.admiralSrc&&((c=document.createElement("script")).type="text/javascript",c.innerText='!(function(o,n,t){t=o.createElement(n),o=o.getElementsByTagName(n)[0],t.async=1,t.src="'+e.admiralSrc+'",o.parentNode.insertBefore(t,o)})(document,"script"),(function(o,n){function t(){(t.q=t.q||[]).push(arguments)}t.v=1,o.admiral=o.admiral||t})(window);!(function(o,t,n,c){function e(n){(function(){try{return(localStorage.getItem("v4ac1eiZr0")||"").split(",")[4]>0}catch(o){}return!1})()&&(n=o[t].pubads())&&n.setTargeting("admiral-engaged","true")}(c=o[t]=o[t]||{}).cmd=c.cmd||[],typeof c.pubads===n?e():typeof c.cmd.unshift===n?c.cmd.unshift(e):c.cmd.push(e)})(window,"googletag","function");',r.push(c)),(r=r.filter((function(e){return e}))).forEach((function(e){document.head.appendChild(e)})),n.abrupt("return",r);case 14:case"end":return n.stop()}var d}),n,this)})))},ATS:u}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(116),a=n(1),o=n(2),s=n(23),u=n(337),c=n(144),d=n(57),l=(function(){function e(t,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.placements={},this.auctionHistory={},this.user=t,this.config=n,this.makeLayoutReplacements()}return r(e,[{key:"genAuction",value:function(e){var t=this,n=e.isRefresh,r=e.isReload,i=e.bidFlooring,s=e.layout,c=e.page,d=new u.default({user:this.user,config:this.config,isRefresh:n,isReload:r,bidFlooring:i}),l=window.pbjs;return l.cmd.push((function(){l.adv||(l.adv=!0,l.onEvent("bidResponse",(function(e){e.mediaType!==o.default.LOG_NAMESPACE.VIDEO&&t.assimilatePrebidResponse(e,i)}))),l.onEvent("auctionInit",(function e(t){t.adUnits.length&&!t.adUnits[0].mediaTypes.video&&(a.default.recordEventTime("prebidAuctionInit",d.id),l.offEvent("auctionInit",e))})),l.onEvent("auctionEnd",(function e(t){t.adUnits.length&&!t.adUnits[0].mediaTypes.video&&(a.default.recordEventTime("prebidAuctionEnd",d.id),l.offEvent("auctionEnd",e))}))})),this.auctionHistory[c+"_"+s]=d,this.auction=d,d}},{key:"makeLayoutReplacements",value:function(){var e=this;this.config.placements&&Object.keys(this.config.placements).forEach((function(t){window.sbmCmd.push((function(n){n.updateLayouts(t,e.config.placements[t].replacements)}))}))}},{key:"genAdvPage",value:function(e){var t=this,n=e.mode,r=e.pagetype,u=e.user,c=e.links,d=e.page,l=e.layout,f=e.advPlacements,p=e.union,h=n===o.default.MODE.R,m=!h&&!u.isInitialAuction,g={page:d,layout:l,advPlacements:f,destroyPlacements:{},headerPlacements:{},dfpPlacements:{},placements:{},placementCount:0,headerPlacementCount:0,placementsRemaining:0},v=this.config.adsModal||{};return Object.keys(f).forEach((function(e){var s=t.genMergedPlacementConfig(e,f);if(f[e].placementConfig=s,t.placements[e]){if(e===o.default.VID_PLACEMENT_NAME){var d=t.placements[e].videoPlayer;d.player&&d.player.updateSizes&&s.sizes&&d.player.updateSizes(s.sizes)}}else{var l=new i.default({config:t.config,user:u,placementName:e,placementConfig:s,divId:a.default.genRandomString(),dfpSiteId:t.config.dfpSiteId,page:r,mode:n,links:c});t.placements[e]=l}})),Object.keys(this.placements).forEach((function(e){var n=t.placements[e],r=s.default.getPreviousTruexGcs(),i=t.genMergedPlacementConfig(e,f),a=!1;try{a=JSON.stringify(n.placementConfig.sizes)===JSON.stringify(i.sizes)}catch(e){}var o=n.shouldParticipate({isRefresh:h,isReload:m,advPlacements:f,adsModalConfig:v,hasSeenVideoModalRecently:r,union:p,sizeMatch:a});if(n.shouldDestroy({isReload:m,isRefresh:h,shouldParticipate:o,advPlacements:f,union:p,sizeMatch:a})&&(g.destroyPlacements[e]=n),f[e]&&o){var u=t.genMergedPlacementConfig(e,f);!1!==u.headerUnit&&(g.headerPlacements[e]=n,g.headerPlacementCount++),!1!==u.dfpUnit&&(g.dfpPlacements[e]=n),g.placements[e]=n,g.placementCount++,g.placementsRemaining++}})),this.advPage=g,this.advPage}},{key:"assimilatePrebidResponse",value:function(e,t){var n="D_UNLOCK"===e.adUnitCode?this.placements.D_UNLOCK:this.getPlacementByDivId(e.adUnitCode),r="indexExchange"===e.bidder?"index":e.bidder,i=this.auction.mode.toUpperCase(),a=t&&t.floors&&t.floors[i][n.name]?t.floors[i][n.name]:null,s=new d.default({id:e.adId,partnerName:r,partnerAlias:r.substring(0,3),placementName:n.name,status:o.default.BID_STATUS.SUCCESS,cpm:e.cpm,launchOrder:0,launchTime:e.requestTimestamp,bidAdjustment:this.config.partners[r].bidAdjustment||{},useRenderFunction:!0,auctionId:this.auction.id,format:e.adserverTargeting.hb_format,prebidBidResponse:e,floor:a});return s.setHeight(e.height),s.setWidth(e.width),n.bids.push(s),s}},{key:"getPlacementByDivId",value:function(e){var t=Object.keys(this.placements),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(this.placements[s].divId===e)return this.placements[s]}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return null}},{key:"genAdvPlacements",value:function(e,t,n){var r=t,i="default",o={};if(e.layout)if(n.layouts&&n.layouts[t]&&n.layouts[t][e.layout])i=e.layout,o=n.layouts[t][e.layout];else{var s="Tried to genAdvPage with layout; layout not found: "+t;a.default.throw(s,new c.default(s,["no layout"])),r="ros",o=n.pages[r]||{}}else if(n.pages&&n.pages[t])o=n.pages[t];else{var u="Tried to genAdvPage with page type not in config: "+t;a.default.throw(u,new c.default(u,["no page"])),r="ros",o=n.pages[r]||{}}return{advPlacements:o,layout:i,page:r}}},{key:"genMergedPlacementConfig",value:function(e,t){var n=a.default.copy(this.config.placements[e]||{});return t[e]&&Object.keys(t[e]).forEach((function(r){n[r]=t[e][r]})),n}},{key:"destroyAndInitPlacements",value:function(e,t){var n=this;Object.keys(t.advPage.destroyPlacements).forEach((function(e){t.advPage.destroyPlacements[e].destroy(!t.advPage.placements[e])})),Object.keys(t.advPage.placements).forEach((function(r){var i=n.genMergedPlacementConfig(r,t.advPage.advPlacements);t.advPage.placements[r].init({placementConfig:i,auction:t,page:e.page})}))}},{key:"setAuction",value:function(e){this.auction=e}},{key:"getPreauction",value:function(e,t){var n=this.auctionHistory[e+"_"+t];if(n&&!n.used)return n}},{key:"getAuction",value:function(){return this.auction}},{key:"getAdvPage",value:function(){return this.advPage}},{key:"getPlacements",value:function(){return this.placements}}]),e})();t.default=l}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(270),s=n(335),u=n(336),c=n(17),d=(function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.unfilledRequestCount=0,this.allowPlayerReload=!0,this.setTrackingPixel=this.setTrackingPixel.bind(this),this.setReloadTimeout=this.setReloadTimeout.bind(this),this.clearReloadTimeoutOnBlur=this.clearReloadTimeoutOnBlur.bind(this),this.handlePlayerEvent=this.handlePlayerEvent.bind(this),this.increaseVideoCountByType=this.increaseVideoCountByType.bind(this),this.getVideoStateByType=this.getVideoStateByType.bind(this),this.resetVideoCountByType=this.resetVideoCountByType.bind(this),this.setFrequencyCapReached=this.setFrequencyCapReached.bind(this),this.setManualPauseState=this.setManualPauseState.bind(this),this.setManualMuteState=this.setManualMuteState.bind(this),this.setContentVideoTrackingPixel=this.setContentVideoTrackingPixel.bind(this),this.insertNativeVideoTrackingPixel=this.insertNativeVideoTrackingPixel.bind(this),this.user=t,this.dfpSiteId=n.dfpSiteId,this.VideoState={blurredAdCount:0,unfilledRequestCount:0,fCapReached:!1,manuallyPaused:!1,manuallyMuted:!0},n.video&&n.video.player)try{this.name=n.video.player,this.config=n.video[this.name],this.params=this.config.params||{}}catch(e){a.default.throw("Video player "+n.video.player+" failed to initialize.",e)}}return r(e,[{key:"shouldRun",value:function(e){return!(!this.user||!e)&&(e=e.toLowerCase(),!!(this.config&&this.params&&this.config.run[this.user.device][e]))}},{key:"expand",value:function(e){var t=this;a.default.onDocReady((function(){try{t.placement.placementConfig.sizes&&(document.getElementById(e.divId).style.width=t.placement.placementConfig.sizes[0][0]+"px",document.getElementById(e.divId).style.height=t.placement.placementConfig.sizes[0][1]+"px")}catch(e){a.default.throw("Video partner "+t.name+" failed to expand",e)}}))}},{key:"collapse",value:function(e){var t=this;a.default.onDocReady((function(){try{document.getElementById(e.divId).style.width="",document.getElementById(e.divId).style.height=""}catch(e){a.default.throw("Video partner "+t.name+" failed to collapse",e)}}))}},{key:"create",value:function(e){var t=this;if(this.name===i.default.VIDEO_PARTNERS.CUSTOM)try{this.player=new o.default({config:this.config,user:this.user,placement:e,setTrackingPixel:this.setTrackingPixel,setReloadTimeout:this.setReloadTimeout,clearReloadTimeoutOnBlur:this.clearReloadTimeoutOnBlur,increaseVideoCountByType:this.increaseVideoCountByType,resetVideoCountByType:this.resetVideoCountByType,getVideoStateByType:this.getVideoStateByType,setFrequencyCapReached:this.setFrequencyCapReached,setManualPauseState:this.setManualPauseState,setManualMuteState:this.setManualMuteState,setContentVideoTrackingPixel:this.setContentVideoTrackingPixel,insertNativeVideoTrackingPixel:this.insertNativeVideoTrackingPixel}),this.player.createCustomPlayer()}catch(e){a.default.throw("Video partner "+this.name+" failed to create",e)}else this.name===i.default.VIDEO_PARTNERS.PRIMIS?this.player=new s.default(this.setReloadTimeout):this.name===i.default.VIDEO_PARTNERS.SPRING_SERVE&&(this.player=new u.default(this.config,this.user,e,this.setReloadTimeout));a.default.onDocReady((function(){window.SBMGlobal.run.subscribe(t.handlePlayerEvent)})),this.params.trackingUnit&&this.setTrackingPixel(i.default.VIDEO_EVENTS.PLAYER_LOAD),c.default.send({type:i.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:{eventName:"player-load",player:this.name,playerId:this.player.playerId}})}},{key:"destroy",value:function(){if(clearTimeout(this.reloadTimeout),window.SBMGlobal.run.unsubscribe(this.handlePlayerEvent),this.player)try{this.player.destroy&&this.player.destroy(),this.player=null,this.collapse(this.placement),this.setTrackingPixel(i.default.VIDEO_EVENTS.PLAYER_RESET)}catch(e){a.default.throw("Video partner "+this.name+" failed to destroy",e)}}},{key:"play",value:function(e){this.player||(this.placement=e,this.create(this.placement)),this.name!==i.default.VIDEO_PARTNERS.PRIMIS&&(this.expand(this.placement),this.setReloadTimeout())}},{key:"setTrackingPixel",value:function(e){var t=this;a.default.onDocReady((function(){var n={tracking:e,tg:t.user.tg,page:t.user.page,layout:t.user.layout},r=encodeURIComponent(Object.keys(n).map((function(e){return e+"="+n[e]})).join("&")),o=""+i.default.GAM_URL+t.dfpSiteId+"/"+t.params.trackingUnit+"&sz=1x1&c="+a.default.genUUID()+"&t="+r,s=document.createElement("iFrame");s.setAttribute("src",o),s.id="tracking-"+e,s.style.width="1px",s.style.height="1px",s.style.borderWidth="0px",document.body.appendChild(s)}))}},{key:"insertNativeVideoTrackingPixel",value:function(e,t){e&&a.default.onDocReady((function(){var n=document.createElement("iFrame");n.setAttribute("src",e),n.id="tracking-3PA-"+t.split(" ").join("-"),n.style.width="1px",n.style.height="1px",n.style.borderWidth="0px",document.body.appendChild(n)}))}},{key:"setContentVideoTrackingPixel",value:function(e,t){var n=this;e&&a.default.onDocReady((function(){var r=""+i.default.GAM_URL+n.dfpSiteId+"/"+e+"&sz=1x1&c="+a.default.genUUID(),o=document.createElement("iFrame");o.setAttribute("src",r),o.id="tracking-"+t.split(" ").join("-"),o.style.width="1px",o.style.height="1px",o.style.borderWidth="0px",document.body.appendChild(o)}))}},{key:"setReloadTimeout",value:function(){clearTimeout(this.reloadTimeout),this.config&&this.config.reloadPlayerTimeout&&this.player&&this.allowPlayerReload&&(this.reloadTimeout=window.setTimeout(function(){a.default.log("Destroying and recreating "+this.name+" player after no events in "+this.config.reloadPlayerTimeout+" milliseconds",i.default.LOG_NAMESPACE.VIDEO),this.name!==i.default.VIDEO_PARTNERS.CUSTOM||this.player.contentVideoPlaying?(this.destroy(),this.play(this.placement)):this.player.interruptAd()}.bind(this),this.config.reloadPlayerTimeout))}},{key:"clearReloadTimeoutOnBlur",value:function(){this.allowPlayerReload=!1,clearTimeout(this.reloadTimeout)}},{key:"handlePlayerEvent",value:function(e){switch(e){case i.default.DOM_EVENTS.FOCUS||i.default.DOM_EVENTS.SCROLL:this.player.inFocus=!0,this.player.play&&this.player.play(),this.allowPlayerReload=!0,this.player.viewableObserver&&!this.player.contentVideoPlaying&&this.player.viewableObserver.setViewableTimeout(),this.setReloadTimeout();break;case i.default.DOM_EVENTS.BLUR:this.player.inFocus=!1,this.player.pause&&this.player.pause(),this.player.viewableObserver&&!this.player.contentVideoPlaying&&this.player.viewableObserver.clearViewableTimeout()}}},{key:"increaseVideoCountByType",value:function(e){this.VideoState[e]++}},{key:"resetVideoCountByType",value:function(e){this.VideoState[e]=0}},{key:"getVideoStateByType",value:function(e){return this.VideoState[e]}},{key:"setFrequencyCapReached",value:function(){this.VideoState[i.default.VIDEO_SESSION_STATE.FCAP_REACHED]=!0}},{key:"setManualPauseState",value:function(e){this.VideoState[i.default.VIDEO_SESSION_STATE.MANUAL_PAUSE]=e}},{key:"setManualMuteState",value:function(e){this.VideoState[i.default.VIDEO_SESSION_STATE.MANUAL_MUTE]=e}}]),e})();t.default=d}),(function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};var o=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var s=n(2),u=n(118),c=n(17),d=n(1),l=n(334),f=(function(e){function t(e){var n=e.config,r=e.user,i=e.placement,a=e.clearReloadTimeoutOnBlur,o=e.getVideoStateByType,s=e.increaseVideoCountByType,u=e.resetVideoCountByType,c=e.setFrequencyCapReached,d=e.setReloadTimeout,l=e.setTrackingPixel,f=e.setManualPauseState,p=e.setManualMuteState,h=e.setContentVideoTrackingPixel,m=e.insertNativeVideoTrackingPixel;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var g=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{config:n,user:r,placement:i,getVideoStateByType:o,setManualPauseState:f,setManualMuteState:p,setContentVideoTrackingPixel:h,insertNativeVideoTrackingPixel:m})),v=n.targetBlurredAds,y=n.unfilledRequestCap;return Object.assign(g,{clearReloadTimeoutOnBlur:a,increaseVideoCountByType:s,resetVideoCountByType:u,setFrequencyCapReached:c,setReloadTimeout:d,setTrackingPixel:l,targetBlurredAds:v,unfilledRequestCap:y,config:n}),n.playOnClick&&(g.playOnClick=g.playOnClick.bind(g),window.SBMGlobal.run.subscribe(g.playOnClick)),g}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),i(t,[{key:"adsErrorHandler",value:function(e){this.shouldRequest=!0,this.setReloadTimeout();var n=e.data.AdError.g,r=n.errorCode,i=n.errorMessage,o=n.innerError,u=s.default.VJS.FATAL_ERRS.indexOf(r)>-1,d=c.default.generateVideoEvent({eventName:s.default.VIDEO_EVENTS.ERROR,errorCode:r,errorMessage:i,innerError:o,player:s.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,auctionId:this.auctionId,fatal:u});c.default.send({type:s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:d}),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"adsErrorHandler",this).call(this,e)}},{key:"adsReadyHandler",value:function(){var e=this,t=document.getElementById(s.default.VID_PLACEMENT_NAME).firstChild;this.viewableObserver.observer.observe(t),this.setReloadTimeout(),s.default.VJS.EVENTS.IMA.forEach((function(n){e.player.ima.addEventListener(n,(function(r){if(e.setReloadTimeout(),"start"===n&&(e.shouldRequest=!0,e.contentVideoPlaying=!1,e.setAdVolume(!0),e.targetBlurredAds&&e.getVideoStateByType(s.default.VIDEO_SESSION_STATE.BLURRED_AD)<=e.targetBlurredAds&&!e.inFocus&&e.increaseVideoCountByType(s.default.VIDEO_SESSION_STATE.BLURRED_AD)),"loaded"===n&&e.setAdVolume(!0),"adProgress"===n&&(e.contentVideoPlaying=!1,e.inFocus||!e.pauseOnAd&&!e.pauseOnBlur||e.pause(),e.params.maxAdDuration&&r.getAdData&&r.getAdData()&&e.params.maxAdDuration<r.getAdData().currentTime&&e.interruptAd()),"impression"===n){e.shouldRequest=!0,e.contentVideoPlaying=!1,e.setAdVolume(!0);var i=30;if(r.l&&r.l.g&&r.l.g.duration){var a=r.l.g.duration;"number"==typeof a&&a>0&&a<30&&(i=Math.floor(a))}e.adTimePerContentVid+=i,e.viewableObserver&&(e.viewableObserver.shouldSendViewableEvent=!0),e.viewableObserver&&!document.hidden&&e.inFocus&&e.viewableObserver.setViewableTimeout(),e.resetVideoCountByType(s.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST)}if("complete"===n&&(e.shouldRequest=!0,e.viewableObserver&&e.viewableObserver.clearViewableTimeout(),e.contentVideoPlaying=!0),s.default.VJS.EVENTS.SKIP.indexOf(n)<0){var o=e.getEventName(n),u=c.default.generateVideoEvent(Object.assign(e.getEventData(r),{eventName:o,player:s.default.VIDEO_PARTNERS.CUSTOM,playerId:e.vidElemId,cuePoint:e.currentCuePoint,auctionType:e.auctionType,auctionId:e.auctionId,location:e.user.country}));if(o&&c.default.send({type:s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:u}),o&&o===s.default.VIDEO_EVENTS.IMPRESSION){u=Object.assign({},u,{placement:e.placement.name,wonImpression:!0,bidId:d.default.genUUID(),isInitialAuction:e.user.isInitialAuction,mode:e.placement.auction.mode,cached:!1});var l=c.default.transformImpressionData(u),f=c.default.generateVideoClickStreamEvent(l);c.default.send({type:s.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:f})}d.default.log(["Video event "+n+" occurred in Custom Player.",u],s.default.LOG_NAMESPACE.VIDEO)}n===window.google.ima.AdEvent.Type.ALL_ADS_COMPLETED&&(e.shouldRequest=!0,e.contentVideoPlaying=!0,e.viewableObserver.observer.unobserve(t),setTimeout((function(){e.player.ads.isAdPlaying()||e.play()}),2e3))}))}))}},{key:"createPlayer",value:function(e,n){var r=this,i=Object.create(null,{createPlayer:{get:function(){return a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"createPlayer",r)}}});return o(this,void 0,void 0,regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i.createPlayer.call(this,e,n);case 2:return r=t.sent,this.viewableObserver=new l.ViewableObserver(this),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"handleVideoBids",value:function(e){var t=this.getVideoUrl(e),n=r(t,2),i=n[0],a=n[1];this.sendRequestToWta(a),this.invokeVideoPlayer(i)}},{key:"getEventName",value:function(e){var t={start:s.default.VIDEO_EVENTS.START,complete:s.default.VIDEO_EVENTS.COMPLETE,pause:s.default.VIDEO_EVENTS.PAUSE,click:s.default.VIDEO_EVENTS.CLICK,impression:s.default.VIDEO_EVENTS.IMPRESSION,viewable_impression:s.default.VIDEO_EVENTS.VIEWABLE,error:s.default.VIDEO_EVENTS.ERROR};return!!t[e]&&t[e]}},{key:"sendRequestToWta",value:function(e){var t={};e&&(t=c.default.generateVideoEvent({eventName:s.default.VIDEO_EVENTS.REQUEST,player:s.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId,partner:e.bidderCode||null,cpm:e.cpm||null,filled:!0,cached:e.auctionId!==this.auctionId}),d.default.log("Prebid high bid: "+e.bidder+", at: "+e.cpm+", cached: "+e.cached,s.default.LOG_NAMESPACE.VIDEO)),this.nileVideoBids&&this.nileVideoBids.length>0&&(t.encodedCpm=this.nileVideoBids[0].amznp),this.setTrackingPixel(s.default.VIDEO_EVENTS.REQUEST),c.default.send({type:s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:t})}},{key:"interruptAd",value:function(){this.player.ima.getAdsManager().destroy(),this.contentVideoPlaying=!0,this.play(),this.setTrackingPixel(s.default.VIDEO_EVENTS.INTERRUPT)}},{key:"pause",value:function(){var e=!!this.config.continueOnViewable&&(this.viewableObserver&&!this.viewableObserver.shouldSendViewableEvent),t=this.getVideoStateByType(s.default.VIDEO_SESSION_STATE.BLURRED_AD);(this.pauseOnAd||this.pauseOnBlur)&&(d.default.log("Pause called in video player. Focus: "+this.inFocus+", Blurred ads: "+t+"/"+this.targetBlurredAds+"  Checking adAlreadyViewable: "+e,s.default.LOG_NAMESPACE.VIDEO),!this.inFocus&&this.targetBlurredAds&&t<=this.targetBlurredAds||e||(this.pauseOnBlur?(this.contentVideoPlaying?this.player.pause():e||this.player.ima.pauseAd(),this.clearReloadTimeoutOnBlur()):this.pauseOnAd&&(this.contentVideoPlaying||(e||this.player.ima.pauseAd(),this.clearReloadTimeoutOnBlur()))))}},{key:"shouldRunAuction",value:function(){return!(this.unfilledRequestCap&&this.getVideoStateByType(s.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST)>=this.unfilledRequestCap)||(this.getVideoStateByType(s.default.VIDEO_SESSION_STATE.FCAP_REACHED)||(d.default.log("Unfilled impression streak frequency cap hit",s.default.LOG_NAMESPACE.VIDEO),this.setTrackingPixel(s.default.VIDEO_EVENTS.FCAP),this.setFrequencyCapReached(),window.SBMGlobal.run.updateLayouts(this.placement.name,this.placement.placementConfig.replacements),window.SBMGlobal.run.refresh()),!1)}},{key:"runAuction",value:function(){this.shouldRunAuction()&&(this.increaseVideoCountByType(s.default.VIDEO_SESSION_STATE.UNFILLED_REQUEST),a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"runAuction",this).call(this))}},{key:"updateSizes",value:function(e){if(this.player&&e[0]){var t=e[0][0],n=e[0][1];this.isDocked||(this.player.width(t),this.player.height(n)),this.sizes=e}}},{key:"videoEventHandler",value:function(e,n){if(this.setReloadTimeout(),s.default.VJS.EVENTS.SKIP.indexOf(e)<0){var r=this.getEventName(e);r&&c.default.send({type:s.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:c.default.generateVideoEvent({eventName:r,player:s.default.VIDEO_PARTNERS.CUSTOM,playerId:this.vidElemId})})}a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"videoEventHandler",this).call(this,e,n)}},{key:"playOnClick",value:function(e){e===s.default.DOM_EVENTS.CLICK&&this.player&&this.player.paused()&&this.play()}}]),t})(u.default);t.default=f}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0});var i={getClient:!0,Client:!0,getExistingClient:!0,RswResponse:!0,SessionData:!0,StateUpdateData:!0,getNamespaceKey:!0};Object.defineProperty(t,"Client",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"getExistingClient",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"RswResponse",{enumerable:!0,get:function(){return u.RswResponse}}),Object.defineProperty(t,"SessionData",{enumerable:!0,get:function(){return u.SessionData}}),Object.defineProperty(t,"StateUpdateData",{enumerable:!0,get:function(){return c.StateUpdateData}}),Object.defineProperty(t,"getNamespaceKey",{enumerable:!0,get:function(){return d.getNamespaceKey}}),t.getClient=void 0;var a=r(n(272)),o=r(n(315)),s=r(n(316)),u=n(318),c=n(136),d=n(10),l=r(n(14)),f=n(319);Object.keys(f).forEach((function(e){"default"!==e&&"__esModule"!==e&&(Object.prototype.hasOwnProperty.call(i,e)||e in t&&t[e]===f[e]||Object.defineProperty(t,e,{enumerable:!0,get:function(){return f[e]}}))}));var p=function(e){try{var t={};"string"==typeof e?t.namespace=e:void 0!==e&&(t=e);var n=(0,o.default)(t.namespace);if(n)return n;var r=new a.default;return(0,s.default)(r,t.namespace),r}catch(e){return l.default.error(e),null}};t.getClient=p}),(function(e,t,n){"use strict";var r=n(119),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=i(n(38)),o=i(n(88)),s=i(n(12)),u=r(n(53)),c=n(298),d=i(n(299)),l=i(n(300)),f=i(n(134)),p=i(n(136)),h=i(n(310)),m=n(13),g=n(10),v=n(137),y=n(121),b=i(n(14)),E=i(n(313)),_=i(n(314)),S=(function(){function e(){var t=this;(0,a.default)(this,e),(0,s.default)(this,"_eventCache",void 0),(0,s.default)(this,"_runningTimeout",void 0),(0,s.default)(this,"_countdownPromise",void 0),(0,s.default)(this,"_readAndEmptyCache",void 0),(0,s.default)(this,"stateManager",void 0),(0,s.default)(this,"batcher",void 0),(0,s.default)(this,"isInit",void 0),(0,s.default)(this,"endpoint",void 0),(0,s.default)(this,"eventGate",void 0),(0,s.default)(this,"batchInterval",void 0),(0,s.default)(this,"eventContentCache",void 0),(0,s.default)(this,"viewPreviousCache",void 0),(0,s.default)(this,"cachedViewPrevious",void 0),(0,s.default)(this,"_sendDoubleInitError",(function(e){var n=JSON.stringify({originalState:t.stateManager.get(),newState:e}),r="init is called twice: ".concat(n);b.default.error(new Error(r))})),(0,s.default)(this,"getAdobeData",u.getAdobeData),(0,s.default)(this,"structureData",(function(e){return(0,f.default)(t,e)})),(0,s.default)(this,"updateState",(function(e){return t.stateManager.update(e)})),(0,s.default)(this,"init",(function(e){var n=e.endpoint,r=e.batchInterval,i=e.useLocalPort,a=e.errorHandler,o=e.analyticsAgent,s=e.appId,c=e.appVer,d=e.authState,l=e.cheggUuid,f=e.clientExperiments,p=e.experiments,h=e.clientIpAddress,E=e.referralUrl,_=e.testCells,S=void 0===_?[]:_,A=e.url,w=e.subscriptions,O=e.uvn,I=e.view,C=e.dfid,T=e.userAgent,P=e.property;t.isInit&&(t._sendDoubleInitError(e),t.reset()),(0,y.init)(a),u.init().catch(b.default.error);var x=i?(0,g.getLocalPortFromParam)(i):(0,g.getLocalPortFromUrl)();t.endpoint=x?"http://localhost:".concat(x):n,t.batchInterval=r||m.DEFAULT_BATCH_INTERVAL;var k=(0,g.getUserAgent)(T),N=(0,v.get)(k),D={appId:s,analyticsAgent:o,userAgent:k,url:A,referralUrl:E,rswVersion:"9.6.17",browserName:N.browserName,browserVersion:N.browserVersion,authState:d,cheggUuid:l,clientIpAddress:h,testCells:S,osName:N.osName,osVersion:N.osVersion,platform:N.platform,property:P,appVer:c,clientExperiments:f,experiments:p,uvn:O,view:I,dfid:C,subscriptions:w,viewPrevious:t.cachedViewPrevious};t.stateManager.init(D),t.eventGate.allowSends(),t.eventGate.queuePreloadEvents(),t.batcher.startCountdown(),t.isInit=!0})),(0,s.default)(this,"reset",(function(){t.stateManager.reset(),t.eventGate.blockSends(),t.isInit=!1})),(0,s.default)(this,"sendEvent",(function(e){return(0,c.sendEvent)(t,e)})),(0,s.default)(this,"event",(function(e,n){return(0,l.default)(t,e,n)})),(0,s.default)(this,"_nakedEvent",(function(e,n){return(0,c.nakedEvent)(t,e,n)})),(0,s.default)(this,"writeEventContentCache",(function(e){t.eventContentCache.write(e)})),(0,s.default)(this,"readEventContentCache",(function(){return t.eventContentCache.read()})),(0,s.default)(this,"clearEventContentCache",(function(){t.eventContentCache.clear()})),this.viewPreviousCache=new _.default,this.cachedViewPrevious=this.viewPreviousCache.get(),this.stateManager=new p.default(this),this.eventContentCache=new E.default,this.batcher=new h.default(this),this.eventGate=new d.default(this),(0,g.noWindow)()||this._startInitTimer()}return(0,o.default)(e,[{key:"_startInitTimer",value:function(){var e=this;setTimeout((function(){e.isInit||b.default.warn("Init was not called on client within 7000ms of being created")}),m.INIT_TIMEOUT_THRESHOLD)}}]),e})();t.default=S}),(function(e,t,n){var r=(function(e){"use strict";var t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof l?t:l,a=Object.create(i.prototype),o=new A(r||[]);return a._invoke=(function(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return O()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=E(o,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=c(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}})(e,n,o),a}function c(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var d={};function l(){}function f(){}function p(){}var h={};h[i]=function(){return this};var m=Object.getPrototypeOf,g=m&&m(m(w([])));g&&g!==t&&n.call(g,i)&&(h=g);var v=p.prototype=l.prototype=Object.create(h);function y(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){var r;this._invoke=function(i,a){function o(){return new t((function(r,o){!(function r(i,a,o,s){var u=c(e[i],e,a);if("throw"!==u.type){var d=u.arg,l=d.value;return l&&"object"==typeof l&&n.call(l,"__await")?t.resolve(l.__await).then((function(e){r("next",e,o,s)}),(function(e){r("throw",e,o,s)})):t.resolve(l).then((function(e){d.value=e,o(d)}),(function(e){return r("throw",e,o,s)}))}s(u.arg)})(i,a,r,o)}))}return r=r?r.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=c(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function S(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(_,this),this.reset(!0)}function w(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:O}}function O(){return{value:void 0,done:!0}}return f.prototype=v.constructor=p,p.constructor=f,f.displayName=s(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===f||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,o,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),b.prototype[a]=function(){return this},e.AsyncIterator=b,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new b(u(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},y(v),s(v,o,"Generator"),v[i]=function(){return this},v.toString=function(){return"[object Generator]"},e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=w,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return o.type="throw",o.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var s=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(s&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,d):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:w(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e})(e.exports);try{regeneratorRuntime=r}catch(e){Function("r","regeneratorRuntime = r")(r)}}),(function(e,t){e.exports=function(e){if(Array.isArray(e))return e}}),(function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}),(function(e,t,n){"use strict";(function(t){var r=n(278),i=n(279),a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=new RegExp("^[\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u180E\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028\\u2029\\uFEFF]+");function u(e){return(e||"").toString().replace(s,"")}var c=[["#","hash"],["?","query"],function(e){return e.replace("\\","/")},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function l(e){var n,r=("undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new p(unescape(e.pathname),{});else if("string"===o)for(n in i=new p(e,{}),d)delete i[n];else if("object"===o){for(n in e)n in d||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=a.test(e.href))}return i}function f(e){e=u(e);var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function p(e,t,n){if(e=u(e),!(this instanceof p))return new p(e,t,n);var a,o,s,d,h,m,g=c.slice(),v=typeof t,y=this,b=0;for("object"!==v&&"string"!==v&&(n=t,t=null),n&&"function"!=typeof n&&(n=i.parse),t=l(t),a=!(o=f(e||"")).protocol&&!o.slashes,y.slashes=o.slashes||a&&t.slashes,y.protocol=o.protocol||t.protocol||"",e=o.rest,o.slashes||(g[3]=[/(.*)/,"pathname"]);b<g.length;b++)"function"!=typeof(d=g[b])?(s=d[0],m=d[1],s!=s?y[m]=e:"string"==typeof s?~(h=e.indexOf(s))&&("number"==typeof d[2]?(y[m]=e.slice(0,h),e=e.slice(h+d[2])):(y[m]=e.slice(h),e=e.slice(0,h))):(h=s.exec(e))&&(y[m]=h[1],e=e.slice(0,h.index)),y[m]=y[m]||a&&d[3]&&t[m]||"",d[4]&&(y[m]=y[m].toLowerCase())):e=d(e);n&&(y.query=n(y.query)),a&&t.slashes&&"/"!==y.pathname.charAt(0)&&(""!==y.pathname||""!==t.pathname)&&(y.pathname=(function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],a=!1,o=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),o++):o&&(0===r&&(a=!0),n.splice(r,1),o--);return a&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")})(y.pathname,t.pathname)),r(y.port,y.protocol)||(y.host=y.hostname,y.port=""),y.username=y.password="",y.auth&&(d=y.auth.split(":"),y.username=d[0]||"",y.password=d[1]||""),y.origin=y.protocol&&y.host&&"file:"!==y.protocol?y.protocol+"//"+y.host:"null",y.href=y.toString()}p.prototype={set:function(e,t,n){var a=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||i.parse)(t)),a[e]=t;break;case"port":a[e]=t,r(t,a.protocol)?t&&(a.host=a.hostname+":"+t):(a.host=a.hostname,a[e]="");break;case"hostname":a[e]=t,a.port&&(t+=":"+a.port),a.host=t;break;case"host":a[e]=t,/:\d+$/.test(t)?(t=t.split(":"),a.port=t.pop(),a.hostname=t.join(":")):(a.hostname=t,a.port="");break;case"protocol":a.protocol=t.toLowerCase(),a.slashes=!n;break;case"pathname":case"hash":if(t){var o="pathname"===e?"/":"#";a[e]=t.charAt(0)!==o?o+t:t}else a[e]=t;break;default:a[e]=t}for(var s=0;s<c.length;s++){var u=c[s];u[4]&&(a[u[1]]=a[u[1]].toLowerCase())}return a.origin=a.protocol&&a.host&&"file:"!==a.protocol?a.protocol+"//"+a.host:"null",a.href=a.toString(),a},toString:function(e){e&&"function"==typeof e||(e=i.stringify);var t,n=this,r=n.protocol;r&&":"!==r.charAt(r.length-1)&&(r+=":");var a=r+(n.slashes?"//":"");return n.username&&(a+=n.username,n.password&&(a+=":"+n.password),a+="@"),a+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},p.extractProtocol=f,p.location=l,p.trimLeft=u,p.qs=i,e.exports=p}).call(this,n(65))}),(function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}}),(function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty;function i(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(e){return null}}function a(e){try{return encodeURIComponent(e)}catch(e){return null}}t.stringify=function(e,t){t=t||"";var n,i,o=[];for(i in"string"!=typeof t&&(t="?"),e)if(r.call(e,i)){if((n=e[i])||null!=n&&!isNaN(n)||(n=""),i=a(i),n=a(n),null===i||null===n)continue;o.push(i+"="+n)}return o.length?t+o.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,r={};t=n.exec(e);){var a=i(t[1]),o=i(t[2]);null===a||null===o||a in r||(r[a]=o)}return r}}),(function(e,t,n){"use strict";var r=n(15),i=n(126),a=n(281),o=n(132);function s(e){var t=new a(e),n=i(a.prototype.request,t);return r.extend(n,a.prototype,t),r.extend(n,t),n}var u=s(n(129));u.Axios=a,u.create=function(e){return s(o(u.defaults,e))},u.Cancel=n(133),u.CancelToken=n(295),u.isCancel=n(128),u.all=function(e){return Promise.all(e)},u.spread=n(296),e.exports=u,e.exports.default=u}),(function(e,t,n){"use strict";var r=n(15),i=n(127),a=n(282),o=n(283),s=n(132);function u(e){this.defaults=e,this.interceptors={request:new a,response:new a}}u.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[o,void 0],n=Promise.resolve(e);for(this.interceptors.request.forEach((function(e){t.unshift(e.fulfilled,e.rejected)})),this.interceptors.response.forEach((function(e){t.push(e.fulfilled,e.rejected)}));t.length;)n=n.then(t.shift(),t.shift());return n},u.prototype.getUri=function(e){return e=s(this.defaults,e),i(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){u.prototype[e]=function(t,n){return this.request(s(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){u.prototype[e]=function(t,n,r){return this.request(s(r||{},{method:e,url:t,data:n}))}})),e.exports=u}),(function(e,t,n){"use strict";var r=n(15);function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=i}),(function(e,t,n){"use strict";var r=n(15),i=n(284),a=n(128),o=n(129);function s(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return s(e),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||o.adapter)(e).then((function(t){return s(e),t.data=i(t.data,t.headers,e.transformResponse),t}),(function(t){return a(t)||(s(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}}),(function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t,n){return r.forEach(n,(function(n){e=n(e,t)})),e}}),(function(e,t){var n,r,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(e){r=o}})();var u,c=[],d=!1,l=-1;function f(){d&&u&&(d=!1,u.length?c=u.concat(c):l=-1,c.length&&p())}function p(){if(!d){var e=s(f);d=!0;for(var t=c.length;t;){for(u=c,c=[];++l<t;)u&&u[l].run();l=-1,t=c.length}u=null,d=!1,(function(e){if(r===clearTimeout)return clearTimeout(e);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}})(e)}}function h(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new h(e,t)),1!==c.length||d||s(p)},h.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}}),(function(e,t,n){"use strict";var r=n(15);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}}),(function(e,t,n){"use strict";var r=n(131);e.exports=function(e,t,n){var i=n.config.validateStatus;n.status&&i&&!i(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}}),(function(e,t,n){"use strict";e.exports=function(e,t,n,r,i){return e.config=t,n&&(e.code=n),e.request=r,e.response=i,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}}),(function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,i,a,o){var s=[];s.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),r.isString(i)&&s.push("path="+i),r.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}),(function(e,t,n){"use strict";var r=n(291),i=n(292);e.exports=function(e,t){return e&&!r(t)?i(e,t):t}}),(function(e,t,n){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}}),(function(e,t,n){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}}),(function(e,t,n){"use strict";var r=n(15),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,a,o={};return e?(r.forEach(e.split("\n"),(function(e){if(a=e.indexOf(":"),t=r.trim(e.substr(0,a)).toLowerCase(),n=r.trim(e.substr(a+1)),t){if(o[t]&&i.indexOf(t)>=0)return;o[t]="set-cookie"===t?(o[t]?o[t]:[]).concat([n]):o[t]?o[t]+", "+n:n}})),o):o}}),(function(e,t,n){"use strict";var r=n(15);e.exports=r.isStandardBrowserEnv()?(function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function i(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=i(window.location.href),function(t){var n=r.isString(t)?i(t):t;return n.protocol===e.protocol&&n.host===e.host}})():function(){return!0}}),(function(e,t,n){"use strict";var r=n(133);function i(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e;return{token:new i((function(t){e=t})),cancel:e}},e.exports=i}),(function(e,t,n){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=function(){var e,t,n="0123456789",r="",i="",a=10,o=10;for(e=0;19>e;e++)t=Math.floor(Math.random()*a),r+=n.substring(t,t+1),0===e&&9==t?a=3:(1==e||2==e)&&10!=a&&2>t?a=10:2<e&&(a=10),t=Math.floor(Math.random()*o),i+=n.substring(t,t+1),0===e&&9==t?o=3:(1==e||2==e)&&10!=o&&2>t?o=10:2<e&&(o=10);return r+i};t.default=r}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.nakedEvent=t.sendEvent=void 0;var i=r(n(12)),a=r(n(14));function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.sendEvent=function(e,t){var n;t.eventVersion||(t.version?t.eventVersion=t.version:a.default.error(new Error("Either version or eventVersion argument must be passed to sendEvent")));var r=s(s({},t),{},{eventTime:new Date});if(e.eventGate.shouldAllowSends()){var i=e.structureData(r);n=e.batcher.queueEvent(i,r.options||{})}else n=e.eventGate.pushPreloadEvent(r);return n};t.nakedEvent=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1},i={data:t.data,type:t.type,eventVersion:t.meta.version,eventTime:t.meta.eventTime,options:r};if(e.eventGate.shouldAllowSends()){var a=e.structureData(i);n=e.batcher.queueEvent(a,r)}else n=e.eventGate.pushPreloadEvent(i);return n}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(38)),a=r(n(12)),o=r(n(14)),s=function e(t){var n=this;(0,i.default)(this,e),(0,a.default)(this,"_shouldAllowSends",void 0),(0,a.default)(this,"_preloadEvents",void 0),(0,a.default)(this,"_client",void 0),(0,a.default)(this,"pushPreloadEvent",(function(e){return new Promise((function(t){n._preloadEvents.push({specs:e,resolvePromise:t})}))})),(0,a.default)(this,"queuePreloadEvents",(function(){n._preloadEvents.forEach((function(e){var t=n._client.structureData(e.specs);n._client.batcher.queueEvent(t,e.options||{}).then(e.resolvePromise).catch((function(e){return o.default.error(e)}))})),n._preloadEvents=[]})),(0,a.default)(this,"allowSends",(function(){n._shouldAllowSends=!0})),(0,a.default)(this,"blockSends",(function(){n._shouldAllowSends=!1})),(0,a.default)(this,"shouldAllowSends",(function(){return n._shouldAllowSends})),this._client=t,this._shouldAllowSends=!1,this._preloadEvents=[]};t.default=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(13),i=function(e,t){var n=t.type,i=t.meta,a=void 0===i?{}:i,o=t.data,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{force:!1},u=s.force,c=r.EVENTS[n],d=c.version,l=c.cheggDbEventName,f=a.eventTime||new Date,p={eventTime:f,version:d};return e._nakedEvent({data:o||{},type:l,meta:p},{force:u})};t.default=i}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowDimensions=void 0;t.getWindowDimensions=function(){return window.innerHeight&&window.innerWidth?{px_width:Math.round(window.innerWidth),px_height:Math.round(window.innerHeight)}:void 0}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.enrichSessionWithCookies=t.getCookies=void 0;var i=r(n(12));function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=(function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return u(e,t)})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var c=n(66),d=[{sessionId:"uvn",cookieName:"V"},{sessionId:"client_experiments",cookieName:"exp"},{sessionId:"dfid",cookieName:"DFID"}],l=function(){var e,t={},n=s(d);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=c.get(r.cookieName);if(i)t[r.sessionId]=i}}catch(e){n.e(e)}finally{n.f()}return t};t.getCookies=l;t.enrichSessionWithCookies=function(e){var t=l();for(var n in e)void 0===e[n]&&delete e[n];return o(o({},t),e)}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.deepEquals=void 0;var i=r(n(89)),a=n(10);t.deepEquals=function e(t,n){if(t===n)return!0;if((0,a.isObject)(t)){if((0,a.isObject)(n)){var r=Object.entries(t);return r.length===Object.keys(n).length&&r.reduce((function(t,r){var a=(0,i.default)(r,2),o=a[0],s=a[1];if(!1===t)return t;var u=n[o];return e(s,u)}),!0)}return!1}if(Array.isArray(t)){if(Array.isArray(n)&&t.length===n.length){var o=n.sort((function(e,t){return e<t?-1:1}));return!t.sort((function(e,t){return e<t?-1:1})).some((function(t,n){var r=o[n];return!1===e(t,r)}))}return!1}return!1}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(305)),a=r(n(12)),o=n(10);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=[{key:"layer",operation:"useOriginal"},{key:"product",operation:"useNew"}],d=function(e,t,n){var r=n||c,a=[].concat((0,i.default)(e),(0,i.default)(t)),s={};return a.map((function(e){if((0,o.isObject)(e)){var t=(function(e,t){return t.find((function(t){return t.key in e}))})(e,r);return t?(function(e,t,n){var r=e[t.key];if(!r)return e;var i=n[r];if(!i)return n[r]=e,e;switch(t.operation){case"useOriginal":return e.__rsw_dedup_remove__=!0,e;case"useNew":return i.__rsw_dedup_remove__=!0,n[r]=e,e;case"merge":var a=u(u({},i),e);return i.__rsw_dedup_remove__=!0,n[r]=a,a}})(e,t,s):e}return e})).filter((function(e){return!e.__rsw_dedup_remove__}))};t.default=d}),(function(e,t,n){var r=n(306),i=n(307),a=n(122),o=n(308);e.exports=function(e){return r(e)||i(e)||a(e)||o()}}),(function(e,t,n){var r=n(123);e.exports=function(e){if(Array.isArray(e))return r(e)}}),(function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}}),(function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}}),(function(e,t,n){"use strict";var r=function(e){return (function(e){return!!e&&"object"==typeof e})(e)&&!(function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||(function(e){return e.$$typeof===i})(e)})(e)};var i="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function a(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function o(e,t,n){return e.concat(t).map((function(e){return a(e,n)}))}function s(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function u(e,t){try{return t in e}catch(e){return!1}}function c(e,t,n){var r={};return n.isMergeableObject(e)&&s(e).forEach((function(t){r[t]=a(e[t],n)})),s(t).forEach((function(i){(function(e,t){return u(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,i)||(u(e,i)&&n.isMergeableObject(t[i])?r[i]=(function(e,t){if(!t.customMerge)return d;var n=t.customMerge(e);return"function"==typeof n?n:d})(i,n)(e[i],t[i],n):r[i]=a(t[i],n))})),r}function d(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||o,n.isMergeableObject=n.isMergeableObject||r,n.cloneUnlessOtherwiseSpecified=a;var i=Array.isArray(t);return i===Array.isArray(e)?i?n.arrayMerge(e,t,n):c(e,t,n):a(t,n)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return d(e,n,t)}),{})};var l=d;e.exports=l}),(function(e,t,n){"use strict";var r=n(119),i=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.mapEventsToUrls=void 0;var a=i(n(54)),o=i(n(55)),s=i(n(38)),u=i(n(12)),c=r(n(124)),d=n(13),l=i(n(14)),f=n(134),p=n(311),h=n(10),m=function(e){return e.reduce((function(e,t){var n=t.options.endpoint||"default",r=e[n]||[];return r.push(t.payload),e[n]=r,e}),{})};t.mapEventsToUrls=m;var g=function e(t){var n=this;(0,s.default)(this,e),(0,u.default)(this,"cheggIdManager",new p.CheggIdManager),(0,u.default)(this,"_eventCache",void 0),(0,u.default)(this,"_runningTimeout",void 0),(0,u.default)(this,"_countdownPromise",void 0),(0,u.default)(this,"client",void 0),(0,u.default)(this,"_readAndEmptyCache",(function(){return n._eventCache.splice(0,n._eventCache.length)})),(0,u.default)(this,"queueEvent",(function(){var e=(0,o.default)(a.default.mark((function e(t,r){var i,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=r.force,delete r.force,n._eventCache.push({payload:t,options:r}),e.prev=3,o=i?n.flushCachedEvents():n.startCountdown(),e.abrupt("return",o);case 8:return e.prev=8,e.t0=e.catch(3),l.default.error(e.t0),e.abrupt("return",e.t0);case 12:case"end":return e.stop()}}),e,null,[[3,8]])})));return function(t,n){return e.apply(this,arguments)}})()),(0,u.default)(this,"startCountdown",(function(){(0,h.noWindow)()||(n._countdownPromise=n._countdownPromise||new Promise((function(e,t){n._runningTimeout=window.setTimeout((function(){n.sendCachedEvents().then(e).catch(t)}),n.client.batchInterval)})),n._countdownPromise)})),(0,u.default)(this,"resetCountdown",(function(){n._runningTimeout&&clearTimeout(n._runningTimeout),n._runningTimeout=void 0,n._countdownPromise=void 0})),(0,u.default)(this,"flushCachedEvents",(0,o.default)(a.default.mark((function e(){var t,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n._readAndEmptyCache(),r=[],t.length&&(i=m(t),r=Object.keys(i).map(function(){var e=(0,o.default)(a.default.mark((function e(t){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i[t],e.next=3,(0,f.enrichEventsWithAdobeData)(r);case 3:return r=e.sent,e.next=6,n.cheggIdManager.enrichEventsWithCheggIds(r);case 6:return r=e.sent,o="default"===t?n.client.endpoint:t,e.next=10,(0,c.sendImmediateRequest)({url:o,data:r});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.next=5,Promise.all(r);case 5:case"end":return e.stop()}}),e)})))),(0,u.default)(this,"sendCachedEvents",(0,o.default)(a.default.mark((function e(){var t,r,i;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.resetCountdown(),t=n._readAndEmptyCache(),r=[],t.length&&(i=m(t),r=Object.keys(i).map(function(){var e=(0,o.default)(a.default.mark((function e(t){var r,o;return a.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i[t],e.next=3,(0,f.enrichEventsWithAdobeData)(r);case 3:return r=e.sent,e.next=6,n.cheggIdManager.enrichEventsWithCheggIds(r);case 6:return r=e.sent,o="default"===t?n.client.endpoint:t,e.abrupt("return",(0,c.default)({url:o,data:r,retries:d.DATA_REQUEST_RETRIES}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),e.abrupt("return",Promise.all(r));case 5:case"end":return e.stop()}}),e)})))),this._eventCache=[],this.client=t};t.default=g}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.CheggIdManager=void 0;var i=r(n(54)),a=r(n(55)),o=r(n(38)),s=r(n(88)),u=r(n(12)),c=r(n(125)),d=r(n(14)),l=n(53),f=n(10),p=r(n(135)),h=n(67),m=n(312);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,u.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=n(66),b=function(e){return Math.random()<e},E=(function(){function e(){var t=this;(0,o.default)(this,e),(0,u.default)(this,"isInitialized",void 0),(0,u.default)(this,"env",void 0),(0,u.default)(this,"fetchCvid",(function(){var e=(0,a.default)(i.default.mark((function e(t){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=(function(){var e=(0,a.default)(i.default.mark((function e(){var n;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)({url:t,method:"get",withCredentials:!0});case 2:return n=e.sent,e.abrupt("return",n.data.cvid);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})(),e.prev=1,e.abrupt("return",n());case 5:e.prev=5,e.t0=e.catch(1),b(.01)&&d.default.error(new Error("RSW request to ".concat(t," failed. ").concat(e.t0.message)));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t){return e.apply(this,arguments)}})()),(0,u.default)(this,"determineEnvironment",(function(){try{var e=window.location.href,t=(0,h.getSubdomain)(e);return e.includes("cheggnet")||t&&t.includes("playground")||(0,h.isLocalDomain)(e)||e.includes("playground")||e.includes("outcomesccmdev.wpengine.com")?"test":"prod"}catch(e){return"test"}})),(0,u.default)(this,"addCvidQueryParams",(function(e){var t=y.get("CVID"),n=(0,l.getAdobeCookie)();return t&&!n?"".concat(e,"?domain_cvid=").concat(t):!t&&n?"".concat(e,"?domain_mcid=").concat(n):t&&n?"".concat(e,"?domain_cvid=").concat(t,"&domain_mcid=").concat(n):e})),(0,u.default)(this,"getFallbackCvid",(function(){var e=y.get("CVID"),t=(0,l.getAdobeCookie)();return e||(e=t||p.default.get(),(0,f.setCookieOnRootDomain)("CVID",e),e)})),(0,u.default)(this,"fetchCsid",(function(){var e=(0,a.default)(i.default.mark((function e(t,n,r){var o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=(function(){var e=(0,a.default)(i.default.mark((function e(){var a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,c.default)({url:t,method:"post",data:{cvid:n,domainCsid:r,data:{client_common:(0,m.getSessionConstants)({chegg_visitor_id:n})}},withCredentials:!0});case 2:return o=e.sent,e.abrupt("return",null==o?void 0:null===(a=o.data)||void 0===a?void 0:a.csid);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})(),e.prev=1,e.abrupt("return",o());case 5:e.prev=5,e.t0=e.catch(1),b(.01)&&console.error("RSW request to ".concat(t," failed all retries. ").concat(e.t0.message));case 8:case"end":return e.stop()}}),e,null,[[1,5]])})));return function(t,n,r){return e.apply(this,arguments)}})()),(0,u.default)(this,"addIdsToEvent",(function(){var e=(0,a.default)(i.default.mark((function e(n){var r,a,o;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCvid();case 2:return r=e.sent,e.next=5,t.getCsid();case 5:return a=e.sent,o=v(v({},n.extensions.client_common),{},{chegg_visitor_id:r,chegg_session_id:a}),e.abrupt("return",v(v({},n),{},{extensions:{client_common:o}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()),(0,u.default)(this,"getCheggIds",(0,a.default)(i.default.mark((function e(){var n,r;return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getCvid();case 2:return n=e.sent,e.next=5,t.getCsid();case 5:return r=e.sent,e.abrupt("return",{chegg_visitor_id:n,chegg_session_id:r});case 7:case"end":return e.stop()}}),e)})))),(0,u.default)(this,"enrichEventsWithCheggIds",(function(){var e=(0,a.default)(i.default.mark((function e(n){return i.default.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.all(n.map(t.addIdsToEvent)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()),this.isInitialized=this.initializeCheggIds()}return(0,s.default)(e,[{key:"initializeCheggIds",value:function(){var e=this;if((0,f.noWindow)())return Promise.resolve(!0);this.env=this.determineEnvironment();var t=!!y.get("CVID");return this.initCvid(t).then((function(t){return e.initCsid(t)})).then((function(){return Promise.resolve(!0)}))}},{key:"initCvid",value:function(e){var t=this,n="prod"===this.env?"https://analytics.chegg.com/visitor-session-id-service/web/cvid":"https://analytics.test.cheggnet.com/visitor-session-id-service/web/cvid",r=this.addCvidQueryParams(n);return this.fetchCvid(r).then((function(n){if(n){var r=!!y.get("CVID");return e==r&&(0,f.setCookieOnRootDomain)("CVID",n),n}return t.getFallbackCvid()})).catch((function(e){return d.default.error(new Error("Unexpected error fetching cvid ".concat(e.message))),t.getFallbackCvid()}))}},{key:"getCvid",value:function(){var e=this;return(0,f.noWindow)()?Promise.resolve(""):this.isInitialized.then((function(){return e.getFallbackCvid()}))}},{key:"getFallbackCsid",value:function(){var e=y.get("CSID");return e||(e=String(Date.now())),(0,f.setCookieOnRootDomain)("CSID",e,{expires:(0,f.getDateXMinutesFromNow)(30)}),Number(e)}},{key:"initCsid",value:function(e){var t=this,n="prod"===this.env?"https://analytics.chegg.com/visitor-session-id-service/web/csid":"https://analytics.test.cheggnet.com/visitor-session-id-service/web/csid",r=y.get("CSID"),i=r?Number(r):Date.now();return r?(this.fetchCsid(n,e,i),Promise.resolve(i)):this.fetchCsid(n,e,i).then((function(e){if(e){var n=(r=y.get("CSID"))||String(e);return(0,f.setCookieOnRootDomain)("CSID",n,{expires:(0,f.getDateXMinutesFromNow)(30)}),Number(n)}return t.getFallbackCsid()})).catch((function(e){return d.default.error(new Error("Error encountered when fetching csid ".concat(e))),t.getFallbackCsid()}))}},{key:"getCsid",value:function(){var e=this;return(0,f.noWindow)()?Promise.resolve(Date.now()):this.isInitialized.then((function(){return e.getFallbackCsid()}))}}]),e})();t.CheggIdManager=E}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.getSessionConstants=void 0;var i=r(n(12)),a=n(10),o=n(137),s=n(13),u=n(53);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}t.getSessionConstants=function(e){var t=(0,a.getUserAgent)(),n=(0,o.get)(t),r=n.browserName,i=n.browserVersion,c=n.osName,l=n.osVersion,f=n.platform;return d(d({},e),{},{analytics_module_version:"9.6.17",adobe_mcid:(0,u.getAdobeCookie)(),base_event_type:s.BASE_EVENT_TYPE,base_event_version:s.BASE_EVENT_VERSION,url:window.location.href,user_agent:t,browser_name:r,browser_version:i,os:c,os_ver:l,platform:f})}}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.EventContentCache=void 0;var i=r(n(38)),a=r(n(12)),o=function e(){var t=this;(0,i.default)(this,e),(0,a.default)(this,"_cachedContent",void 0),(0,a.default)(this,"clear",(function(){delete t._cachedContent})),(0,a.default)(this,"read",(function(){return t._cachedContent})),(0,a.default)(this,"write",(function(e){t._cachedContent=e})),(0,a.default)(this,"shouldEnrichEventWithCachedContent",(function(e){var n=e.type.includes("clickstream"),r=t._cachedContent,i=!e.data.content;return Boolean(n&&r&&i)})),(0,a.default)(this,"enrichEventData",(function(e){return e.content=t._cachedContent,e}))};t.EventContentCache=o;var s=o;t.default=s}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(38)),a=r(n(88)),o=r(n(12)),s=n(10),u=n(13);function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,o.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var l=function(e){return!(e.experience||e.property||e.view_name)},f=(function(){function e(){var t;if((0,i.default)(this,e),(0,o.default)(this,"_cachedView",void 0),!(0,s.noWindow)())try{var n=window.localStorage.getItem(u.VIEW_PREVIOUS_CACHE_KEY),r=JSON.parse(n),a=parseInt(r.cacheTimestamp);t=a,Date.now()-t>u.VIEW_PREVIOUS_CACHE_TIMEOUT||(this._cachedView=d(d({},r),{},{cacheTimestamp:new Date(a)}))}catch(e){}}return(0,a.default)(e,[{key:"saveToBrowser",value:function(){if(this._cachedView){var e=JSON.stringify(d(d({},this._cachedView),{},{cacheTimestamp:this._cachedView.cacheTimestamp.valueOf()}));window.localStorage.setItem(u.VIEW_PREVIOUS_CACHE_KEY,e)}}},{key:"get",value:function(){if(this._cachedView){var e=d({},this._cachedView);if(delete e.cacheTimestamp,l(e))return;return e}}},{key:"update",value:function(e){if(!(0,s.noWindow)()&&e&&!l(e)){var t=d(d({},e),{},{cacheTimestamp:new Date});delete t.content,this._cachedView=t,this.saveToBrowser()}}}]),e})();t.default=f}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n(10),i=n(13),a=function(e){var t;return(0,r.noWindow)()||(window._rswClients&&(t=window._rswClients[e||i.DEFAULT_NAMESPACE]),t||(t=(function(e){var t,n=(0,r.getCommandKey)(e);return window[n]=window[n]||[],window[n].push((function(e){t=e})),t})(e))),t};t.default=a}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=r(n(14)),a=n(10),o=n(317),s=n(13),u=function(e,t){(0,a.noWindow)()||(!(function(e,t){var n=function(t){try{t(e)}catch(e){i.default.error(e)}},r=(0,a.getCommandKey)(t),s=window;s[r]=s[r]||[];var u=s[r].rswInitialized;s[r].forEach(n),s[r].push=n,u||(s[r].rswInitialized=!0,window.addEventListener("beforeunload",o.unloadBehavior))})(e,t),window._rswClients=window._rswClients||{},window._rswClients[t||s.DEFAULT_NAMESPACE]=e)};t.default=u}),(function(e,t,n){"use strict";var r=n(6);Object.defineProperty(t,"__esModule",{value:!0}),t.unloadBehavior=void 0;var i=r(n(14)),a=n(53),o=n(10);t.unloadBehavior=function(e){"pending"===(0,a.getAdobeDataStatus)()?i.default.error(new Error("User left page before adobe data was fetched")):!(0,o.noWindow)()&&window._rswClients&&Object.values(window._rswClients).map((function(e){e.batcher.flushCachedEvents()})),delete e.returnValue}}),(function(e,t,n){}),(function(e,t){}),(function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return (function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}})([a,s])}}},o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.gql=t.request=t.rawRequest=t.GraphQLClient=t.ClientError=void 0;var u=s(n(321)),c=n(322),d=s(n(329)),l=n(142),f=n(142);Object.defineProperty(t,"ClientError",{enumerable:!0,get:function(){return f.ClientError}});var p=function(e){var t={};return e&&(e instanceof Headers?t=(function(e){var t={};return e.forEach((function(e,n){t[n]=e})),t})(e):e instanceof Array?e.forEach((function(e){var n=e[0],r=e[1];t[n]=r})):t=e),t},h=(function(){function e(e,t){this.url=e,this.options=t||{}}return e.prototype.rawRequest=function(e,t){return i(this,void 0,void 0,(function(){var n,i,s,c,f,h,m,v,y;return a(this,(function(a){switch(a.label){case 0:return n=this.options,i=n.headers,s=o(n,["headers"]),c=d.default(e,t),i=p(i),[4,u.default(this.url,r({method:"POST",headers:r(r({},"string"==typeof c?{"Content-Type":"application/json"}:{}),i),body:c},s))];case 1:return[4,g(f=a.sent())];case 2:if(h=a.sent(),f.ok&&!h.errors&&h.data)return m=f.headers,v=f.status,[2,r(r({},h),{headers:m,status:v})];throw y="string"==typeof h?{error:h}:h,new l.ClientError(r(r({},y),{status:f.status,headers:f.headers}),{query:e,variables:t})}}))}))},e.prototype.request=function(e,t){return i(this,void 0,void 0,(function(){var n,i,s,f,h,m,v,y;return a(this,(function(a){switch(a.label){case 0:return n=this.options,i=n.headers,s=o(n,["headers"]),i=p(i),f=(function(e){return"string"==typeof e?e:c.print(e)})(e),h=d.default(f,t),[4,u.default(this.url,r({method:"POST",headers:r(r({},"string"==typeof h?{"Content-Type":"application/json"}:{}),i),body:h},s))];case 1:return[4,g(m=a.sent())];case 2:if(v=a.sent(),m.ok&&!v.errors&&v.data)return[2,v.data];throw y="string"==typeof v?{error:v}:v,new l.ClientError(r(r({},y),{status:m.status}),{query:f,variables:t})}}))}))},e.prototype.setHeaders=function(e){return this.options.headers=e,this},e.prototype.setHeader=function(e,t){var n,r=this.options.headers;return r?r[e]=t:this.options.headers=((n={})[e]=t,n),this},e})();function m(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,new h(e).request(t,n)]}))}))}function g(e){var t=e.headers.get("Content-Type");return t&&t.startsWith("application/json")?e.json():e.text()}t.GraphQLClient=h,t.rawRequest=function(e,t,n){return i(this,void 0,void 0,(function(){return a(this,(function(r){return[2,new h(e).rawRequest(t,n)]}))}))},t.request=m,t.default=m,t.gql=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.reduce((function(e,n,r){return""+e+n+(r in t?t[r]:"")}),"")}}),(function(e,t){var n=(function(e){function t(){this.fetch=!1,this.DOMException=e.DOMException}return t.prototype=e,new t})("undefined"!=typeof self?self:this);!(function(e){!(function(t){var n="URLSearchParams"in e,r="Symbol"in e&&"iterator"in Symbol,i="FileReader"in e&&"Blob"in e&&(function(){try{return new Blob,!0}catch(e){return!1}})(),a="FormData"in e,o="ArrayBuffer"in e;if(o)var s=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&s.indexOf(Object.prototype.toString.call(e))>-1};function c(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function d(e){return"string"!=typeof e&&(e=String(e)),e}function l(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return r&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach((function(e,t){this.append(t,e)}),this):Array.isArray(e)?e.forEach((function(e){this.append(e[0],e[1])}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function p(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function h(e){return new Promise((function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}}))}function m(e){var t=new FileReader,n=h(t);return t.readAsArrayBuffer(e),n}function g(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function v(){return this.bodyUsed=!1,this._initBody=function(e){var t;this._bodyInit=e,e?"string"==typeof e?this._bodyText=e:i&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:a&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():o&&i&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=g(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=g(e):this._bodyText=e=Object.prototype.toString.call(e):this._bodyText="",this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):n&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},i&&(this.blob=function(){var e=p(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?p(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(m)}),this.text=function(){var e,t,n,r=p(this);if(r)return r;if(this._bodyBlob)return e=this._bodyBlob,t=new FileReader,n=h(t),t.readAsText(e),n;if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),n=new Array(t.length),r=0;r<t.length;r++)n[r]=String.fromCharCode(t[r]);return n.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a&&(this.formData=function(){return this.text().then(E)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=c(e),t=d(t);var n=this.map[e];this.map[e]=n?n+", "+t:t},f.prototype.delete=function(e){delete this.map[c(e)]},f.prototype.get=function(e){return e=c(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(c(e))},f.prototype.set=function(e,t){this.map[c(e)]=d(t)},f.prototype.forEach=function(e,t){for(var n in this.map)this.map.hasOwnProperty(n)&&e.call(t,this.map[n],n,this)},f.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),l(e)},f.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),l(e)},f.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),l(e)},r&&(f.prototype[Symbol.iterator]=f.prototype.entries);var y=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function b(e,t){var n,r,i=(t=t||{}).body;if(e instanceof b){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,i||null==e._bodyInit||(i=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=(n=t.method||this.method||"GET",r=n.toUpperCase(),y.indexOf(r)>-1?r:n),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&i)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(i)}function E(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function _(e,t){t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in t?t.statusText:"OK",this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}b.prototype.clone=function(){return new b(this,{body:this._bodyInit})},v.call(b.prototype),v.call(_.prototype),_.prototype.clone=function(){return new _(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},_.error=function(){var e=new _(null,{status:0,statusText:""});return e.type="error",e};var S=[301,302,303,307,308];_.redirect=function(e,t){if(-1===S.indexOf(t))throw new RangeError("Invalid status code");return new _(null,{status:t,headers:{location:e}})},t.DOMException=e.DOMException;try{new t.DOMException}catch(e){t.DOMException=function(e,t){this.message=e,this.name=t;var n=Error(e);this.stack=n.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function A(e,n){return new Promise((function(r,a){var o=new b(e,n);if(o.signal&&o.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var s=new XMLHttpRequest;function u(){s.abort()}s.onload=function(){var e,t,n={status:s.status,statusText:s.statusText,headers:(e=s.getAllResponseHeaders()||"",t=new f,e.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach((function(e){var n=e.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();t.append(r,i)}})),t)};n.url="responseURL"in s?s.responseURL:n.headers.get("X-Request-URL");var i="response"in s?s.response:s.responseText;r(new _(i,n))},s.onerror=function(){a(new TypeError("Network request failed"))},s.ontimeout=function(){a(new TypeError("Network request failed"))},s.onabort=function(){a(new t.DOMException("Aborted","AbortError"))},s.open(o.method,o.url,!0),"include"===o.credentials?s.withCredentials=!0:"omit"===o.credentials&&(s.withCredentials=!1),"responseType"in s&&i&&(s.responseType="blob"),o.headers.forEach((function(e,t){s.setRequestHeader(t,e)})),o.signal&&(o.signal.addEventListener("abort",u),s.onreadystatechange=function(){4===s.readyState&&o.signal.removeEventListener("abort",u)}),s.send(void 0===o._bodyInit?null:o._bodyInit)}))}A.polyfill=!0,e.fetch||(e.fetch=A,e.Headers=f,e.Request=b,e.Response=_),t.Headers=f,t.Request=b,t.Response=_,t.fetch=A})({})})(n),delete n.fetch.polyfill,(t=n.fetch).default=n.fetch,t.fetch=n.fetch,t.Headers=n.Headers,t.Request=n.Request,t.Response=n.Response,e.exports=t}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.print=function(e){return(0,r.visit)(e,{leave:a})};var r=n(323),i=n(328);var a={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return s(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,n=e.name,r=c("(",s(e.variableDefinitions,", "),")"),i=s(e.directives," "),a=e.selectionSet;return n||i||r||"query"!==t?s([t,s([n,r]),i,a]," "):a},VariableDefinition:function(e){var t=e.variable,n=e.type,r=e.defaultValue,i=e.directives;return t+": "+n+c(" = ",r)+c(" ",s(i," "))},SelectionSet:function(e){return u(e.selections)},Field:function(e){var t=e.alias,n=e.name,r=e.arguments,i=e.directives,a=e.selectionSet;return s([c("",t,": ")+n+c("(",s(r,", "),")"),s(i," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+c(" ",s(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,n=e.directives,r=e.selectionSet;return s(["...",c("on ",t),s(n," "),r]," ")},FragmentDefinition:function(e){var t=e.name,n=e.typeCondition,r=e.variableDefinitions,i=e.directives,a=e.selectionSet;return("fragment ".concat(t).concat(c("(",s(r,", "),")")," ")+"on ".concat(n," ").concat(c("",s(i," ")," "))+a)},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var n=e.value;return e.block?(0,i.printBlockString)(n,"description"===t?"":"  "):JSON.stringify(n)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+s(e.values,", ")+"]"},ObjectValue:function(e){return"{"+s(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+c("(",s(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:o((function(e){var t=e.directives,n=e.operationTypes;return s(["schema",s(t," "),u(n)]," ")})),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:o((function(e){return s(["scalar",e.name,s(e.directives," ")]," ")})),ObjectTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),FieldDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.type,i=e.directives;return t+(f(n)?c("(\n",d(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+": "+r+c(" ",s(i," "))})),InputValueDefinition:o((function(e){var t=e.name,n=e.type,r=e.defaultValue,i=e.directives;return s([t+": "+n,c("= ",r),s(i," ")]," ")})),InterfaceTypeDefinition:o((function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")})),UnionTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.types;return s(["union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")})),EnumTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.values;return s(["enum",t,s(n," "),u(r)]," ")})),EnumValueDefinition:o((function(e){return s([e.name,s(e.directives," ")]," ")})),InputObjectTypeDefinition:o((function(e){var t=e.name,n=e.directives,r=e.fields;return s(["input",t,s(n," "),u(r)]," ")})),DirectiveDefinition:o((function(e){var t=e.name,n=e.arguments,r=e.repeatable,i=e.locations;return"directive @"+t+(f(n)?c("(\n",d(s(n,"\n")),"\n)"):c("(",s(n,", "),")"))+(r?" repeatable":"")+" on "+s(i," | ")})),SchemaExtension:function(e){var t=e.directives,n=e.operationTypes;return s(["extend schema",s(t," "),u(n)]," ")},ScalarTypeExtension:function(e){return s(["extend scalar",e.name,s(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend type",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,n=e.interfaces,r=e.directives,i=e.fields;return s(["extend interface",t,c("implements ",s(n," & ")),s(r," "),u(i)]," ")},UnionTypeExtension:function(e){var t=e.name,n=e.directives,r=e.types;return s(["extend union",t,s(n," "),r&&0!==r.length?"= "+s(r," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,n=e.directives,r=e.values;return s(["extend enum",t,s(n," "),u(r)]," ")},InputObjectTypeExtension:function(e){var t=e.name,n=e.directives,r=e.fields;return s(["extend input",t,s(n," "),u(r)]," ")}};function o(e){return function(t){return s([t.description,e(t)],"\n")}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null==e?void 0:e.filter((function(e){return e})).join(n))&&void 0!==t?t:""}function u(e){return e&&0!==e.length?"{\n"+d(s(e,"\n"))+"\n}":""}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return t?e+t+n:""}function d(e){return e&&"  "+e.replace(/\n/g,"\n  ")}function l(e){return-1!==e.indexOf("\n")}function f(e){return e&&e.some(l)}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visit=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o,r=void 0,c=Array.isArray(e),d=[e],l=-1,f=[],p=void 0,h=void 0,m=void 0,g=[],v=[],y=e;do{var b=++l===d.length,E=b&&0!==f.length;if(b){if(h=0===v.length?void 0:g[g.length-1],p=m,m=v.pop(),E){if(c)p=p.slice();else{for(var _={},S=0,A=Object.keys(p);S<A.length;S++){var w=A[S];_[w]=p[w]}p=_}for(var O=0,I=0;I<f.length;I++){var C=f[I][0],T=f[I][1];c&&(C-=O),c&&null===T?(p.splice(C,1),O++):p[C]=T}}l=r.index,d=r.keys,f=r.edits,c=r.inArray,r=r.prev}else{if(h=m?c?l:d[l]:void 0,null==(p=m?m[h]:y))continue;m&&g.push(h)}var P,x=void 0;if(!Array.isArray(p)){if(!(0,a.isNode)(p))throw new Error("Invalid AST Node: ".concat((0,i.default)(p),"."));var k=u(t,p.kind,b);if(k){if((x=k.call(t,p,h,m,g,v))===s)break;if(!1===x){if(!b){g.pop();continue}}else if(void 0!==x&&(f.push([h,x]),!b)){if(!(0,a.isNode)(x)){g.pop();continue}p=x}}}if(void 0===x&&E&&f.push([h,p]),b)g.pop();else r={inArray:c,index:l,keys:d,edits:f,prev:r},c=Array.isArray(p),d=c?p:null!==(P=n[p.kind])&&void 0!==P?P:[],l=-1,f=[],m&&v.push(m),m=p}while(void 0!==r);0!==f.length&&(y=f[f.length-1][1]);return y},t.visitInParallel=function(e){var t=new Array(e.length);return{enter:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!1);if(i){var a=i.apply(e[r],arguments);if(!1===a)t[r]=n;else if(a===s)t[r]=s;else if(void 0!==a)return a}}},leave:function(n){for(var r=0;r<e.length;r++)if(null==t[r]){var i=u(e[r],n.kind,!0);if(i){var a=i.apply(e[r],arguments);if(a===s)t[r]=s;else if(void 0!==a&&!1!==a)return a}}else t[r]===n&&(t[r]=null)}}},t.getVisitFn=u,t.BREAK=t.QueryDocumentKeys=void 0;var r,i=(r=n(324))&&r.__esModule?r:{default:r},a=n(325);var o={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]};t.QueryDocumentKeys=o;var s=Object.freeze({});function u(e,t,n){var r=e[t];if(r){if(!n&&"function"==typeof r)return r;var i=n?r.leave:r.enter;if("function"==typeof i)return i}else{var a=n?e.leave:e.enter;if(a){if("function"==typeof a)return a;var o=a[t];if("function"==typeof o)return o}}}t.BREAK=s}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return o(e,[])};var r,i=(r=n(139))&&r.__esModule?r:{default:r};function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){switch(a(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":(function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var n=[].concat(t,[e]),r=(function(e){var t=e[String(i.default)];if("function"==typeof t)return t;if("function"==typeof e.inspect)return e.inspect})(e);if(void 0!==r){var a=r.call(e);if(a!==e)return"string"==typeof a?a:o(a,n)}else if(Array.isArray(e))return (function(e,t){if(0===e.length)return"[]";if(t.length>2)return"[Array]";for(var n=Math.min(10,e.length),r=e.length-n,i=[],a=0;a<n;++a)i.push(o(e[a],t));1===r?i.push("... 1 more item"):r>1&&i.push("... ".concat(r," more items"));return"["+i.join(", ")+"]"})(e,n);return (function(e,t){var n=Object.keys(e);if(0===n.length)return"{}";if(t.length>2)return"["+(function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"==typeof e.constructor){var n=e.constructor.name;if("string"==typeof n&&""!==n)return n}return t})(e)+"]";return"{ "+n.map((function(n){return n+": "+o(e[n],t)})).join(", ")+" }"})(e,n)})(e,t);default:return String(e)}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNode=function(e){return null!=e&&"string"==typeof e.kind},t.Token=t.Location=void 0;var r,i=(r=n(326))&&r.__esModule?r:{default:r};var a=(function(){function e(e,t,n){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=n}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e})();t.Location=a,(0,i.default)(a);var o=(function(){function e(e,t,n,r,i,a,o){this.kind=e,this.start=t,this.end=n,this.line=r,this.column=i,this.value=o,this.prev=a,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e})();t.Token=o,(0,i.default)(o)}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prototype.toJSON;"function"==typeof t||(0,r.default)(0),e.prototype.inspect=t,i.default&&(e.prototype[i.default]=t)};var r=a(n(327)),i=a(n(139));function a(e){return e&&e.__esModule?e:{default:e}}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}}),(function(e,t,n){"use strict";function r(e){for(var t=null,n=1;n<e.length;n++){var r=e[n],a=i(r);if(a!==r.length&&((null===t||a<t)&&0===(t=a)))break}return null===t?0:t}function i(e){for(var t=0;t<e.length&&(" "===e[t]||"\t"===e[t]);)t++;return t}function a(e){return i(e)===e.length}Object.defineProperty(t,"__esModule",{value:!0}),t.dedentBlockStringValue=function(e){var t=e.split(/\r\n|[\n\r]/g),n=r(t);if(0!==n)for(var i=1;i<t.length;i++)t[i]=t[i].slice(n);for(;t.length>0&&a(t[0]);)t.shift();for(;t.length>0&&a(t[t.length-1]);)t.pop();return t.join("\n")},t.getBlockStringIndentation=r,t.printBlockString=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],a='"'===e[e.length-1],o="\\"===e[e.length-1],s=!r||a||o||n,u="";!s||r&&i||(u+="\n"+t);u+=t?e.replace(/\n/g,"\n"+t):e,s&&(u+="\n");return'"""'+u.replace(/"""/g,'\\"""')+'"""'}}),(function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(330),a=r(n(332)),o=function(e){return i.isExtractableFile(e)||null!==e&&"object"==typeof e&&"function"==typeof e.pipe};t.default=function(e,t){var n=i.extractFiles({query:e,variables:t},"",o),r=n.clone,s=n.files;if(0===s.size)return JSON.stringify(r);var u=new("undefined"==typeof FormData?a.default:FormData);u.append("operations",JSON.stringify(r));var c={},d=0;return s.forEach((function(e){c[++d]=e})),u.append("map",JSON.stringify(c)),d=0,s.forEach((function(e,t){u.append(""+ ++d,t)})),u}}),(function(e,t,n){"use strict";t.ReactNativeFile=n(140),t.extractFiles=n(331),t.isExtractableFile=n(141)}),(function(e,t,n){"use strict";var r=n(141);e.exports=function e(t,n,i){var a;void 0===n&&(n=""),void 0===i&&(i=r);var o=new Map;function s(e,t){var n=o.get(t);n?n.push.apply(n,e):o.set(t,e)}if(i(t))a=null,s([n],t);else{var u=n?n+".":"";if("undefined"!=typeof FileList&&t instanceof FileList)a=Array.prototype.map.call(t,(function(e,t){return s([""+u+t],e),null}));else if(Array.isArray(t))a=t.map((function(t,n){var r=e(t,""+u+n,i);return r.files.forEach(s),r.clone}));else if(t&&t.constructor===Object)for(var c in a={},t){var d=e(t[c],""+u+c,i);d.files.forEach(s),a[c]=d.clone}else a=t}return{clone:a,files:o}}}),(function(e,t){e.exports="object"==typeof self?self.FormData:window.FormData}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(17),s={CUSTOM_PLAYLIST:"custom_playlist",PLAYLIST_HEADER:"playlist_header",TEXT_CONTAINER:"header_text_container",PLAYLIST_CONTAINER:"playlist_container"},u={D_VID_PLAYLIST:"d_vid_playlist",PLAYLIST_ENTRY:"playlist_entry",PLAY_ICON:"play_icon",VIDEO_ICON:"video_icon",ACTIVE_ENTRY:"active_entry",D_VID_RAND_LEFT:"rand_left"},c=(function(){function e(t){var n=t.placement,r=t.config,i=t.contentUrls,a=t.updateCurrentContent;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.placement=n,this.config=r,this.contentUrls=i,this.updateCurrentContent=a}return r(e,[{key:"createVideoPlaylist",value:function(){a.default.embedCss(this.config.cssUrl);var e=document.getElementById(this.placement.placementConfig.divId);e.style.display="flex",a.default.addClass(e,u.D_VID_PLAYLIST);var t=document.createElement("div");t.id=s.CUSTOM_PLAYLIST,this.createHeader(t),this.createPlaylistEntries(t),e.appendChild(t),document.getElementById(i.default.VID_PLACEMENT_NAME).firstChild.classList.add(u.D_VID_RAND_LEFT)}},{key:"createHeader",value:function(e){var t=document.createElement("div");t.id=s.PLAYLIST_HEADER;var n=document.createElement("img");n.src=this.config.headerImg,t.appendChild(n);var r=document.createElement("div");r.id=s.TEXT_CONTAINER,t.appendChild(r);var i=document.createElement("p");i.innerHTML="Writing tips and tricks",r.appendChild(i);var a=document.createElement("p");a.innerHTML="from "+this.config.siteDisplayName,r.appendChild(a),e.appendChild(t)}},{key:"createPlaylistEntries",value:function(e){var t=this,n=document.createElement("div");n.id=s.PLAYLIST_CONTAINER,e.appendChild(n),this.contentUrls.forEach((function(e,r){var s=document.createElement("div");a.default.addClass(s,u.PLAYLIST_ENTRY),s.addEventListener("click",(function(){t.updateActiveEntry(r),t.updateCurrentContent(r);var n={text:"click on playlist",name:"click on playlist",region_name:i.default.LARGE_VIDEO_PLAYER,value:e.title},a=o.default.getClickstreamInteractionData(n);o.default.send({type:i.default.RIO.EVENT_TYPES.CLICKSTREAM_INTERACTION.NAME,data:a})}));var c=document.createElement("img");c.src="https://atc.studybreakmedia.com/assets/av/Play+16.svg",a.default.addClass(c,u.PLAY_ICON),s.appendChild(c),0===r&&(a.default.addClass(s,u.ACTIVE_ENTRY),a.default.addClass(c,u.ACTIVE_ENTRY));var d=document.createElement("img");d.src=e.icon,a.default.addClass(d,u.VIDEO_ICON),s.appendChild(d);var l=document.createElement("p");l.innerHTML=e.title,s.appendChild(l),n.appendChild(s)}))}},{key:"updateActiveEntry",value:function(e){var t=document.getElementsByClassName(u.ACTIVE_ENTRY)[0],n=t.children.item(0);a.default.removeClass(t,u.ACTIVE_ENTRY),a.default.removeClass(n,u.ACTIVE_ENTRY);var r=document.getElementById(s.PLAYLIST_CONTAINER).children.item(e),i=r.children.item(0);a.default.addClass(r,u.ACTIVE_ENTRY),a.default.addClass(i,u.ACTIVE_ENTRY)}}]),e})();t.default=c}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(17),s=(function(){function e(t){var n=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.shouldSendViewableEvent=!1,this.viewableTimeout=0,this.observer=window.IntersectionObserver?new window.IntersectionObserver((function(e){e.forEach(n.viewableObserverCb.bind(n),{threshold:.5})})):null,this.markVideoViewable=this.markVideoViewable.bind(this),this.customPlayer=t}return r(e,[{key:"clearViewableTimeout",value:function(){this.viewableTimeout&&(clearTimeout(this.viewableTimeout),this.viewableTimeout=0)}},{key:"markVideoViewable",value:function(){if(this.shouldSendViewableEvent){this.sendViewableEvent(),this.clearViewableTimeout();var e=document.getElementById(i.default.VID_PLACEMENT_NAME).firstChild;this.observer.unobserve(e),this.shouldSendViewableEvent=!1}}},{key:"sendViewableEvent",value:function(){a.default.log("Marking Video VIEWABLE",i.default.LOG_NAMESPACE.VIDEO);var e={event_name:i.default.PERFORMANCE_EVENTS.VIEWABLE,placement:i.default.VID_PLACEMENT_NAME,layout:this.customPlayer.user.layout,page:this.customPlayer.user.page,page_count:this.customPlayer.user.pageCount,mode:"S",location:this.customPlayer.user.country,sbm_id:this.customPlayer.user.sbmId};o.default.send({type:i.default.SBM.EVENT_TYPES.AD_PERFORMANCE.NAME,data:e})}},{key:"setViewableTimeout",value:function(){this.visible&&this.customPlayer.player.ads.isInAdMode()&&!this.viewableTimeout&&this.shouldSendViewableEvent&&(this.viewableTimeout=setTimeout(this.markVideoViewable,2e3))}},{key:"viewableObserverCb",value:function(e){e.intersectionRatio>=.5?this.visible=!0:(this.visible=!1,this.clearViewableTimeout())}}]),e})();t.ViewableObserver=s}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(17),s=["adStarted","adCompleted","adPause","adClickthrough"],u=(function(){function e(t){var n=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.setReloadTimeout=t,this.playerId=this.playerId=i.default.VIDEO_PARTNERS.PRIMIS+"-"+a.default.genUUID(),a.default.onDocReady((function(){window.addEventListener("primisPlayerInit",(function(e){return n.addVideoEventListeners(e)}))}))}return r(e,[{key:"getEventName",value:function(e){var t={adStarted:i.default.VIDEO_EVENTS.START,adCompleted:i.default.VIDEO_EVENTS.COMPLETE,adPause:i.default.VIDEO_EVENTS.PAUSE,adClickthrough:i.default.VIDEO_EVENTS.CLICK};return!!t[e]&&t[e]}},{key:"addVideoEventListeners",value:function(e){var t=this,n=e.detail;s.forEach((function(e){t.setReloadTimeout(),n.addEventListener(e,(function(){var n=t.getEventName(e);n&&o.default.send({type:i.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:{eventName:n,player:i.default.VIDEO_PARTNERS.PRIMIS,playerId:t.playerId}})}))}))}}]),e})();t.default=u}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=n(17),s=["adEnd","adError","adPause","requestAd","adStart","adImpression","play"],u=(function(){function e(t,n,r,a){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.inFocus=window.document.hasFocus(),this.pauseOnBlur=t.pauseOnBlur,this.pauseOnAd=t.pauseOnAd,this.params=t.params,this.placement=r,this.user=n,this.name=i.default.VIDEO_PARTNERS.SPRING_SERVE,this.setReloadTimeout=a,this.createTagPlayer()}return r(e,[{key:"createTagPlayer",value:function(){var e=this;a.default.onDocReady((function(){try{var t=e.user.tg,n=document.createElement("script");n.src=e.params.adTagUrl;var r=Object.assign({},e.params);r.kvps=e.params.kvps?e.params.kvps+"&tg="+t:"tg="+t,window._ssPlayer=r;var o=document.getElementById(e.placement.divId);o.appendChild(n);var s=0,u=setInterval((function(){s+=1;var t=Array.from(o.children).find((function(e){return e.id.includes("my_spring")}));t?(clearInterval(u),e.playerId=t.id,e.addVideoEventListeners()):s>12&&(clearInterval(u),a.default.log("Could not find SpringServe Player on the page",i.default.LOG_NAMESPACE.VIDEO))}),250)}catch(t){a.default.throw("Video partner "+e.name+" failed to create",t)}}))}},{key:"play",value:function(){window.$bp&&window.$bp(this.playerId)&&window.$bp(this.playerId).play()}},{key:"pause",value:function(){window.$bp&&window.$bp(this.playerId)&&(this.pauseOnBlur?window.$bp(this.playerId).pause():this.pauseOnAd&&window.$bp(this.playerId).getAdInProgress()&&window.$bp(this.playerId).pause())}},{key:"addVideoEventListeners",value:function(){var e=this;s.forEach((function(t){e.setReloadTimeout(),window.$bp(e.playerId).add(t,(function(){e.params.mute&&setTimeout((function(){return window.$bp(e.playerId).muted(!0)}),150),e.inFocus||("play"===t&&e.pauseOnBlur?e.pause():"adStart"===t&&(e.pauseOnAd||e.pauseOnBlur)&&e.pause());var n=e.getEventName(t);n&&o.default.send({type:i.default.SBM.EVENT_TYPES.VIDEO_EVENT.NAME,data:{eventName:n,player:i.default.VIDEO_PARTNERS.SPRING_SERVE,playerId:e.playerId}})}))}))}},{key:"getEventName",value:function(e){var t={adStart:i.default.VIDEO_EVENTS.START,adEnd:i.default.VIDEO_EVENTS.COMPLETE,adPause:i.default.VIDEO_EVENTS.PAUSE,adImpression:i.default.VIDEO_EVENTS.IMPRESSION,adError:i.default.VIDEO_EVENTS.ERROR,requestAd:i.default.VIDEO_EVENTS.REQUEST};return!!t[e]&&t[e]}},{key:"destroy",value:function(){window.$bp&&window.$bp(this.playerId)&&window.$bp(this.playerId).destroy()}}]),e})();t.default=u}),(function(e,t,n){"use strict";var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return (function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n})(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var a=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),s=n(2),u=n(338),c=n(339),d=n(340),l=n(341),f=n(342),p=n(343),h=n(345),m=n(20),g=(function(){function e(t){var n=this,r=t.config,i=t.user,a=t.isRefresh,u=t.isReload,c=t.bidFlooring;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.winners={},this.used=!1,this.expired=!1,this.config=r,this.user=i,this.isRefresh=a,this.isReload=u,this.shouldSendResourceData=Math.random()<.0100000001,this.refreshCount=i.refreshCount,this.refreshType=i.refreshType,this.partners={},this.placements={},this.bidIdMap={},this.cpcPartnerName=r.cpcPartner?r.cpcPartner.name:null,this.id=this.isRefresh||!i.isInitialAuction?o.default.genUUID():i.initialAuctionId,this.initTime=o.default.getTime(),this.mode=this.isRefresh?s.default.MODE.R:s.default.MODE.S,this.videoAdLoadedCount=0,this.bidFlooring=c,o.default.onDocReady((function(){n.docReadyTime=o.default.getTime()}))}return i(e,[{key:"forceComplete",value:function(){for(var e in this.placements){if(this.placements.hasOwnProperty(e))this.placements[e].isComplete=!0}this.isComplete=!0}},{key:"setTimeout",value:function(e){this.auctionTimeout=window.setTimeout(this.forceComplete.bind(this),e)}},{key:"addPlacement",value:function(e){this.placements[e.name]=e,e.count={partnerResponses:{},expectedResponses:0,responsesRemaining:0,bidResponsesSoFar:0}}},{key:"addPartner",value:function(e,t){this.partners[e]=t}},{key:"getPartner",value:function(e){return"indexExchange"===e&&(e="index"),this.partners[e]}},{key:"getPartners",value:function(){return this.partners}},{key:"getPlacement",value:function(e){return this.placements[e]}},{key:"getPlacements",value:function(){return this.placements}},{key:"getBids",value:function(e){return(this.placements[e]||{}).bids||[]}},{key:"getCurrentBids",value:function(e){var t=this;return this.placements[e].bids.filter((function(e){return e.auctionId===t.id})).sort((function(e,t){return t.cents-e.cents}))}},{key:"upsertBid",value:function(e){var t=e.placementName;this.placements[t].bids=this.placements[t].bids.reduce((function(t,n){return n.id!==e.id&&t.push(n),t}),[e])}},{key:"setWinner",value:function(e,t,n){var r,i,a;this.winners[e]?this.winners[e][t]=n:this.winners[e]=(a=n,(i=t)in(r={})?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a,r)}},{key:"getWinner",value:function(e,t){if(this.winners[e])return this.winners[e][t]}},{key:"getWinningNileBid",value:function(e){var t=this,n=e.nileBids,r=e.placementConfig,i=this.config.partners[s.default.CHANNEL_NAMES.NILE];return n.filter((function(e){return e.auctionId===t.id||!e.dfpWinner&&i.allowBidCache&&Date.now()-e.timeStamp<(i.bidTimeout||3e4)&&r.sizes.find((function(t){return e.width===t[0]&&e.height===t[1]}))}))[0]}},{key:"getWinningBid",value:function(e){var t=this,n=this.placements[e];if(!n)return null;var r=n.bids.filter((function(e){return e.netCents>0})).filter((function(e){return!e.blocked})).filter((function(n){if(n.auctionId===t.id)return!0;var r=t.advPage.advPlacements[e].placementConfig;return!n.dfpWinner&&t.config.partners[n.partnerName].allowBidCache&&Date.now()-n.timeStamp<(t.config.partners[n.partnerName].bidTimeout||3e4)&&r.sizes.find((function(e){return n.width===e[0]&&n.height===e[1]}))})).sort((function(e,t){return t.netCents-e.netCents}))[0];return r||(o.default.log("No winning bid found for "+e+".",s.default.LOG_NAMESPACE.BIDS),this.partners.none.createBid(e))}},{key:"setWinningBids",value:function(){var e=this;Object.keys(this.placements).forEach((function(t){var n=e.getWinningBid(t);e.setWinner(t,s.default.CHANNEL_NAMES.PREBID,n)}))}},{key:"getWinningBids",value:function(){var e=this;return Object.keys(this.winners).reduce((function(t,n){return t[n]=e.winners[n][s.default.CHANNEL_NAMES.PREBID],t}),{})}},{key:"blockAndGetWinner",value:function(e){var t=this.getWinner(e,s.default.CHANNEL_NAMES.PREBID);return t.blocked=!0,t}},{key:"getPlacementByDivId",value:function(e){var t=Object.keys(this.placements),n=!0,r=!1,i=void 0;try{for(var a,o=t[Symbol.iterator]();!(n=(a=o.next()).done);n=!0){var s=a.value;if(this.placements[s].divId===e)return this.placements[s]}}catch(e){r=!0,i=e}finally{try{!n&&o.return&&o.return()}finally{if(r)throw i}}return null}},{key:"getAuctionTimeout",value:function(){var e=this.config.auctionTimeout,t=e.desktopMs,n=e.desktopRefreshMs,r=e.desktopReloadMs,i=e.mobileMs,a=e.mobileRefreshMs,o=e.mobileReloadMs,u=this.user.device===s.default.MOBILE,c=u?i:t,d=u?a:n,l=u?o:r;return this.isReload?c=l:this.isRefresh&&(c=d),c}},{key:"getRemainingTimeout",value:function(){return Math.max(this.getAuctionTimeout()-(o.default.getTime(!0)-this.initTime),0)}},{key:"getTopBidReduceFunction",value:function(e){return-1===["cents","netCents","rawCents"].indexOf(e)&&(e="cents"),function(t,n){return n.useRenderFunction&&n[e]>0&&(null===t||t[e]<n[e])?n:t}}},{key:"runAuction",value:function(e){var t=e.user,n=e.config,i=e.dfp,o=e.unlockLauncher,m=e.fluentD,g=e.bidFlooring;return a(this,void 0,void 0,regeneratorRuntime.mark((function e(){var a,v,y,b,E,_,S,A,w,O,I,C,T,P,x,k=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.botTrafficPagecountThreshold||500,v=void 0,y=void 0,this.cpcPartnerName===s.default.CHANNEL_NAMES.GRAMMARLY?v=new u.default({auction:this,config:n,fluentd:m,dfp:i,partnerConfig:n.cpcPartner,user:t}):this.cpcPartnerName===s.default.CHANNEL_NAMES.PAPERCHECKER&&(v=new c.default({auction:this,config:n,fluentd:m,dfp:i,partnerConfig:n.cpcPartner,user:t})),b=this.advPage.headerPlacements,Object.keys(b).forEach((function(e){k.addPlacement(b[e])})),y=h.default({partners:n.partners,placements:b,advPlacements:this.advPage.advPlacements,device:t.device,mode:this.mode,bidFlooring:g}),!v){e.next=14;break}if(this.addPartner(v.name,v),v.requestCpms(y,t),!(t.pageCount>a)){e.next=14;break}return v.launchScript(),v.renderAllAds(),e.abrupt("return",!1);case 14:if(this.addPartner(s.default.CHANNEL_NAMES.ADX,new d.default({auction:this,config:n})),this.addPartner(s.default.CHANNEL_NAMES.MD,new l.default({auction:this,config:n,partnerConfig:{}})),this.addPartner(s.default.CHANNEL_NAMES.NONE,new f.default({auction:this,config:n})),E=n.partners[s.default.CHANNEL_NAMES.NILE]?p.default.launch({auction:this,config:n,device:t.device,headerPlacements:b}):Promise.resolve(!0),_=this.getAuctionTimeout(),S=n.prebidConfig||{},A=n.prebid.analytics||{},w=n.prebid.consentManagement||{},O=this.initPrebid({prebidConfig:S,prebidAdUnits:y,timeout:_,unlockLauncher:o,consentManagementConfig:w,analyticsConfig:A}),I=this.getTimeoutPromise(_+50),C=r(I,2),T=C[0],P=C[1],0!==Object.keys(y).length){e.next=29;break}return this.forceComplete(),e.abrupt("return",Promise.resolve());case 29:this.setTimeout(this.getAuctionTimeout());case 30:return v&&"function"==typeof v.launchScript&&v.launchScript(),e.next=33,Promise.race([Promise.all([E,O]),T]);case 33:return x=e.sent,P&&clearTimeout(P),e.abrupt("return",x);case 36:case"end":return e.stop()}}),e,this)})))}},{key:"initPrebid",value:function(e){var t=this,n=e.prebidConfig,r=e.prebidAdUnits,i=e.timeout,u=(e.unlockLauncher,e.consentManagementConfig),c=e.analyticsConfig;return new Promise((function(e){return a(t,void 0,void 0,regeneratorRuntime.mark((function t(){var a,d,l,f,p=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a=this,d=window.pbjs,l=c&&c.rivr&&window.rivraddon.configGetter,f=c&&c.ats&&c.ats.enabled,d.cmd.push((function(){o.default.log("Running Prebid",s.default.LOG_NAMESPACE.PREBID);if(d.bidderSettings={standard:{bidCpmAdjustment:function(e,t){var n=void 0;if(t.mediaType===s.default.MEDIA_TYPES.BANNER)try{n=p.config.partners[t.bidderCode].bidAdjustment}catch(e){o.default.log("No bid adjustment found for display bidder: "+t.bidderCode,s.default.LOG_NAMESPACE.PREBID)}else if(t.mediaType===s.default.MEDIA_TYPES.VIDEO)try{n=p.config.video[p.config.video.player].partners[t.bidderCode].bidAdjustment}catch(e){o.default.log("No bid adjustment found for video bidder: "+t.bidderCode,s.default.LOG_NAMESPACE.PREBID)}return n&&n.discrepancy&&(e*=1-n.discrepancy),n&&n.revShare&&(e*=1-n.revShare),e}}},d.setConfig({bidderSequence:"fixed",bidderTimeout:i,priceGranularity:{buckets:[{min:0,max:20,increment:.5}]},publisherPage:window.location.pathname,publisherHost:s.default.SITE.DOMAIN,enableSendAllBids:!1,cache:{url:"https://prebid.adnxs.com/pbc/v1/cache"},usePrebidCache:!0}),n.userSync&&n.userSync.userIds){var e=n.userSync.userIds.find((function(e){return"id5Id"===e.name})),t=o.default.getUserEmail(p.config.prefix);if(e&&e.params&&t){var r=o.default.getUrlSafeHashedEmail(t);r&&(e.params.pd=r)}var h=n.userSync.userIds.find((function(e){return"verizonMediaId"===e.name})),g=n.userSync.userIds;if(h)if(t){var v=o.default.getUrlSafeHashedEmail(t);v&&(h.params.he=v)}else g=n.userSync.userIds.filter((function(e){return"verizonMediaId"!==e.name}));n.userSync.userIds=g}d.setConfig(n),u&&u.enabled&&d.setConfig(m.createPrebidConsentManagementConfig(u,i)),l&&d.enableAnalytics({provider:"rivr",options:{clientID:c.rivr.clientId,authToken:c.rivr.authToken,bannersIds:a.getBannerIds()}}),f&&d.enableAnalytics({provider:"atsAnalytics",options:c.ats.options})})),d.cmd.push((function(){d.aliasBidder("appnexusAst","districtm"),d.aliasBidder("appnexusAst","appnexus"),d.aliasBidder("appnexusAst","brealtime"),d.aliasBidder("ix","index"),d.aliasBidder("rubicon","shemedia"),d.requestBids({adUnits:r,bidsBackHandler:function(t){o.default.log("Prebid auction done",s.default.LOG_NAMESPACE.PREBID),e(!0)}})}));case 6:case"end":return t.stop()}}),t,this)})))}))}},{key:"getBannerIds",value:function(){var e=[];for(var t in this.placements){var n=this.placements[t];e.push("google_ads_iframe_"+n.slotPath)}return e}},{key:"getTimeoutPromise",value:function(e){var t=this,n=void 0;return[new Promise((function(r){n=setTimeout((function(){return t.expired=!0,r(!0)}),e)})),n]}},{key:"markUsed",value:function(){this.used=!0}}]),e})();t.default=g}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=(function(e){function t(e){var n=e.auction,i=e.config,a=e.fluentd,o=e.dfp,s=e.partnerConfig,u=e.user,c=e.partnerName,d=void 0===c?r.default.CHANNEL_NAMES.GRAMMARLY:c;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var l=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:i,fluentd:a,dfp:o,partnerName:d,partnerConfig:s,user:u}));return window.SBMGlobal.run.gramCallback=l.cpcPartnerCallback.bind(l),l}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),t})(n(143).default);t.default=i}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=(function(e){function t(e){var n=e.auction,i=e.config,a=e.fluentd,o=e.dfp,s=e.partnerConfig,u=e.user,c=e.partnerName,d=void 0===c?r.default.CHANNEL_NAMES.PAPERCHECKER:c;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var l=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:i,fluentd:a,dfp:o,partnerName:d,partnerConfig:s,user:u}));return window.SBMGlobal.run.pcCallback=l.cpcPartnerCallback.bind(l),l}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),t})(n(143).default);t.default=i}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(56),a=n(1),o=n(2),s=n(57),u=(function(e){function t(e){var n=e.auction,r=e.config,i=e.partnerName,a=void 0===i?o.default.CHANNEL_NAMES.ADX:i;return (function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:r,partnerName:a}))}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),r(t,[{key:"createAdxBid",value:function(e){var t=e.placementName,n=e.bid,r=e.auction,i=e.width,u=void 0===i?0:i,c=e.height,d=void 0===c?0:c,l=new s.default({id:a.default.genUUID(),partnerName:o.default.CHANNEL_NAMES.ADX,partnerAlias:o.default.CHANNEL_NAMES.ADX,placementName:t,status:o.default.BID_STATUS.SUCCESS,cpm:isNaN(n.cents)?0:parseFloat(String(n.cents/100)),launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!0,auctionId:r.id,format:o.default.MEDIA_TYPES.BANNER});return l.status=o.default.BID_STATUS.SUCCESS,l.dfpWinner=!0,l.setWidth(u),l.setHeight(d),l}}]),t})(i.default);t.default=u}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),i=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0};Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),o=n(2),s=n(57),u=n(1),c=(function(e){function t(e){var n=e.auction,r=e.config,i=e.partnerConfig,a=e.partnerName,s=void 0===a?o.default.CHANNEL_NAMES.MD:a;return (function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:r,partnerName:s,partnerConfig:i}))}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),r(t,[{key:"getBid",value:function(e){var t=e.placementName,n=e.auctionId,r=e.dfpWidth,i=e.dfpHeight,a=e.headerBid,c=new s.default({id:u.default.genUUID(),partnerName:o.default.CHANNEL_NAMES.MD,partnerAlias:o.default.CHANNEL_NAMES.MD,placementName:t,status:o.default.BID_STATUS.SUCCESS,cpm:0,launchOrder:-1,launchTime:1/0,bidAdjustment:{},useRenderFunction:!0,auctionId:n,format:o.default.MEDIA_TYPES.BANNER});return c.dfpWinner=!0,c.setWidth(r),c.setHeight(i),a&&(c.nextBidPartner=a.partnerName,c.nextBidCpm=a.cents/100),c}},{key:"clickCallback",value:function(e,n,r,a){i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"clickCallback",this).call(this,e,n,r,a)}},{key:"addClickEventListener",value:function(e,n,r,a){if(a&&a.sbmId&&parseInt(a.sbmId,36)%1e3==0)try{var o=JSON.stringify({partnerName:this.partnerName,creativeId:r,placementName:e.name,layout:a?a.layout:void 0,mode:this.auction.mode,size:e.placementConfig.sizes[0]});u.default.sendDataLayerEvent({eventAction:"Rendered",eventLabel:o})}catch(e){u.default.throw("Failed to send sbmMdAds dataLayer event for partner: "+this.partnerName,e)}i(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"addClickEventListener",this).call(this,e,n,r,a)}}]),t})(a.default);t.default=c}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n(2),a=(function(e){function t(e){var n=e.auction,r=e.config,a=e.partnerConfig,o=void 0===a?{}:a,s=e.partnerName,u=void 0===s?i.default.CHANNEL_NAMES.NONE:s;return (function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t),(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:r,partnerName:u,partnerConfig:o}))}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),t})(r.default);t.default=a}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(344),i=n(1),a=n(2);t.default={launch:function(e){var t=e.auction,n=e.config,o=e.device,s=e.headerPlacements;return new Promise((function(e){var u=new r.default({auction:t,config:n,partnerConfig:n.partners[a.default.CHANNEL_NAMES.NILE],bidsBackHandler:e});try{u.shouldRun(o,t.mode)?(u.useRenderFunction=!1,Object.keys(s).forEach((function(e){var t=s[e];u.formBidRequest(t)})),u.launch(),t.addPartner(a.default.CHANNEL_NAMES.NILE,u)):e()}catch(t){i.default.throw("Failed to launch nile",t),e()}}))}}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(56),o=n(1),s=n(2),u=n(20),c=!1,d=/[a-z0-9E+]{4,7}/,l=(function(e){function t(e){var n=e.auction,r=e.config,i=e.partnerConfig,a=e.bidsBackHandler,o=e.partnerName,u=void 0===o?s.default.CHANNEL_NAMES.NILE:o;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,t);var c=(function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t})(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{auction:n,config:r,partnerName:u,partnerConfig:i}));return c.placementMap={},c.bidsBackHandler=a,c.endpoint="//c.amazon-adsystem.com/aax2/apstag.js",c.user=n.user,c.setAmznToken=i.shouldSetToken,c}return (function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)})(t,e),r(t,[{key:"formatForPlacement",value:function(e,t,n){n.divId&&n.slotPath||o.default.throw("Missing property for apstag request for placement "+e+".  divId: "+n.divId+" , slotName: "+n.slotPath),this.request[e]=[{divId:n.divId,slotName:n.slotPath,sizes:(t||[]).reduce((function(e,t){return e.push(t.size),e}),[])}],this.placementMap[n.divId]=e}},{key:"filterBidRequests",value:function(e,t,n){return this.shouldRequestSize(n.size,e.placementConfig.sizes,t)}},{key:"requestAds",value:function(){var e=this,t=[];for(var n in this.request)if(this.request.hasOwnProperty(n)){var r=this.request[n][0];r.sizes.length>0&&t.push({slotID:r.divId,slotName:r.slotName||"DEFAULT_SLOT_NAME",sizes:r.sizes})}0!==t.length&&(o.default.recordEventTime("nileAuctionInit",this.auction.id),window.apstag.fetchBids({slots:t,timeout:Math.floor(this.auction.getRemainingTimeout())},(function(t){o.default.recordEventTime("nileAuctionEnd",e.auction.id);var n=!0,r=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){var c=a.value,l=void 0,f=e.placementMap[c.slotID];if(l=e.response[f],c.amznbid&&c.amznbid.match(d)){var p=e.auction.getPlacement(f);l=Object.assign(l,c),p&&p.nileBids.push(l)}if("string"==typeof c.size){var h=c.size.split("x");l.setWidth(h[0]),l.setHeight(h[1])}l.status=s.default.BID_STATUS.SUCCESS,l.nil=c.amznbid}}catch(e){r=!0,i=e}finally{try{!n&&u.return&&u.return()}finally{if(r)throw i}}e.bidsBackHandler&&e.bidsBackHandler()})))}},{key:"setTargeting",value:function(){var e=this;try{Object.keys(this.auction.advPage.dfpPlacements).forEach((function(t){var n=e.auction.advPage.dfpPlacements[t],r=window.googletag.pubads().getSlots().find((function(e){return e.getSlotId().getName()===n.slotPath})),i=e.auction.getWinningNileBid(n);i&&r&&(e.auction.setWinner(n.name,s.default.CHANNEL_NAMES.NILE,i),Object.keys(i).forEach((function(e){e.indexOf("amzn")>-1&&r.setTargeting(e,i[e])})))}))}catch(e){o.default.log("Failed to set nile targeting: "+e,s.default.LOG_NAMESPACE.WARNING)}}},{key:"launch",value:function(){if(c)this.setAmznToken&&this.renewToken();else{var e=document.createElement("link");e.href="https://c.amazon-adsystem.com",e.rel="dns-prefetch";var n=document.createElement("link");n.href="https://c.amazon-adsystem.com",n.rel="preconnect",n.crossOrigin="anonymous";var r=document.createElement("script");r.src="//c.amazon-adsystem.com/aax2/apstag.js",r.async=!0;var i=document.createElement("script");i.text='!function(a9,a,p,s,t,A,g){if(a[a9])return;function q(c,r){a[a9]._Q.push([c,r])}a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},targetingKeys:function(){return[]},dpa:function(){q("di",arguments)},rpa:function(){q("ri",arguments)},upa:function(){q("ui",arguments)},_Q:[]};}("apstag",window);',[e,n,r,i].forEach((function(e){return document.head.appendChild(e)})),c=!0,this.setAmznToken&&this.generateToken()}this.init(),(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in i)return i.value;var o=i.get;return void 0!==o?o.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"launch",this).call(this)}},{key:"getTokenConfig",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=void 0,n=void 0,(r=o.default.getUserEmail(this.config.prefix))&&(n=o.default.getHashedEmail(r)),!n){e.next=9;break}return t={hashedRecords:[{type:"email",record:n}],optOut:!1},e.next=7,u.consentSignalForGooglePersonalizedAds();case 7:i=e.sent,(this.user.gdprApplies&&!i||this.user.ccpaApplies&&!this.user.ccpaConsented)&&(t.optOut=!0);case 9:return e.abrupt("return",t);case 10:case"end":return e.stop()}}),e,this)})))}},{key:"renewToken",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.apstag||"function"!=typeof window.apstag.rpa||!(!this.user.gdprApplies||u.IabConsent.tcData&&u.userConfiguredConsent())){e.next=5;break}return e.next=3,this.getTokenConfig();case 3:(t=e.sent)&&(o.default.log("Calling apstag rpa to renew token with value: "+JSON.stringify(t,null,2),s.default.LOG_NAMESPACE.STATE),window.apstag.rpa(t));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"generateToken",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.apstag||"function"!=typeof window.apstag.upa||!(!this.user.gdprApplies||u.IabConsent.tcData&&u.userConfiguredConsent())){e.next=5;break}return e.next=3,this.getTokenConfig();case 3:(t=e.sent)&&(o.default.log("Calling apstag upa to generate token with value: "+JSON.stringify(t,null,2),s.default.LOG_NAMESPACE.STATE),window.apstag.upa(t));case 5:case"end":return e.stop()}}),e,this)})))}},{key:"init",value:function(){var e=this;window.apstag=window.apstag||(window.apstag={init:function(){e.q("i",arguments)},fetchBids:function(){e.q("f",arguments)},_Q:[]}),window.apstag.init({pubID:3094,adServer:"googletag",videoAdServer:"DFP",blockedBidders:this.config.tamBlockedBidders||[]})}},{key:"q",value:function(e,t){window.apstag._Q.push([e,t])}}]),t})(a.default);t.default=l}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(116),a=n(1),o=function(e){var t=e.partnerName,n=e.partnersConfig,i=e.device,a=e.mode;if(t===r.default.CHANNEL_NAMES.NILE)return!1;var o=n[t];return!!(o&&o.run&&o.run[i]&&o.run[i][a])};t.partnerShouldRun=o;var s=function(e,t,n){var i=e.partnerName,a=e.mode,o=e.placementSizes,s=e.placementName,u=e.bidFlooring,c=a===r.default.MODE.R?r.default.MODENAME.REFRESH:r.default.MODENAME.STANDARD,d=n.params[c];if(!d)return t;u&&u.placement_bidders&&s in u.placement_bidders[a.toUpperCase()]&&i in u.placement_bidders[a.toUpperCase()][s]&&u.placement_bidders[a.toUpperCase()][s][i].params&&(d=Object.assign({},d,u.placement_bidders[a.toUpperCase()][s][i].params));var l=n.size?[n.size]:n.sizes||null,f=(l||[]).filter((function(e){return o.find((function(t){return e[0]===t[0]&&e[1]===t[1]}))}));if(l&&0===f.length)return t;var p={bidder:i,params:d};return f.length>0&&(p.sizes=f),t.push(p),t};t.getBidsFromConfig=s;t.isApprovedSize=function(e,t){var n=t.size;return(!n||!!e.find((function(e){return n[0]===e[0]&&n[1]===e[1]})))},t.default=function(e){var t=e.placements,n=e.advPlacements,r=e.partners,u=e.device,c=e.mode,d=e.bidFlooring,l=i.default.placementObjectToArray(t).map((function(e){return (function(e,t){var n=t.placementConfig.sizes.filter((function(e){return Array.isArray(e)})),r={name:e.name,code:e.divId,sizes:n,bids:[]};return e.placementConfig.mediaTypes?(r.mediaTypes=e.placementConfig.mediaTypes,Object.keys(r.mediaTypes).forEach((function(e){var t=r.mediaTypes[e];t.sizes||"native"===e||(t.sizes=r.sizes)}))):r.mediaTypes={banner:{sizes:r.sizes}},r})(e,n[e.name])})),f=(function(e){var t=e.partnersConfig,n=e.device,r=e.mode,i={};return Object.keys(t).forEach((function(e){o({partnerName:e,partnersConfig:t,device:n,mode:r})&&(i[e]=t[e])})),i})({partnersConfig:r,device:u,mode:c}),p=Object.keys(f);return l.reduce((function(e,t){var n=p.reduce((function(e,n){var r=f[n].placements[t.name];if(!Array.isArray(r))return e;var i=[];return r.every((function(e){return e.params}))?i=r.reduce(s.bind(void 0,{partnerName:n,mode:c,placementSizes:t.sizes,placementName:t.name,bidFlooring:d}),[]):a.default.throw("Partner not converted to params. Partnername: "+n),e.concat(i)}),[]);if(n.length>0){delete t.sizes;var r=Object.assign({},t,{bids:n});e.push(r)}return e}),[])}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function e(t){var n=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isLaunched=!1;var i=t.prebid.analytics.rivr||{};i.enabled&&!this.isLaunched&&r.default.launchScript(i.endpoint,(function(){try{n.isLaunched=!0,window.rivraddon.configGetter.getRivrConfiguration(i.clientId)}catch(e){r.default.throw("Failed to launch rivrScript",e)}}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2),a=n(20);t.default=function e(t){var n=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isLaunched=!1;var o=t.confiant||{},s=o.run,u=o.endpoint;a.userAllowsPersonalAds().then((function(e){s&&u&&e&&!n.isLaunched&&r.default.launchScript(u,(function(){n.isLaunched=!0}),(function(){return r.default.log("Failed to launch confiant prebid wrapper",i.default.LOG_NAMESPACE.WARNING)}))}))}}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2);t.default=function e(t){var n=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.isLaunched=!1;var a=t.fundingChoices||{};a.enabled&&a.host&&!this.isLaunched&&r.default.launchScript(a.host,(function(){r.default.launchScript(a.endpoint,(function(){r.default.log("Funding Choices host and script succesfully loaded",i.default.LOG_NAMESPACE.FUNDING_CHOICES),n.isLaunched=!0}),(function(){return r.default.log("Failed to launch fundingChoices raw script",i.default.LOG_NAMESPACE.FUNDING_CHOICES)}))}),(function(){return r.default.log("Failed to launch host for fundingChoices",i.default.LOG_NAMESPACE.FUNDING_CHOICES)}))}}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(23),s=n(1),u=n(20),c=n(118),d=n(17),l=(function(){function e(t,n,r){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.fillPromises={},this.kvpResolve=function(){},this.isLaunched=!1,this.isParticipating=!1;var i=r.video&&r.adsModal&&r.adsModal.partners&&r.adsModal.partners.custom?Object.assign({},r.video[a.default.VIDEO_PARTNERS.CUSTOM],r.adsModal.partners.custom.videoConfig):null;Object.assign(this,{backendOpts:t,unlockVideoConfig:i,user:n})}return i(e,[{key:"setPrebidKvps",value:function(e){if(this.isParticipating){var t=void 0;if(e&&e.prebidBidResponse){var n=e.prebidBidResponse.adserverTargeting;t=[["hb_bidder",n.hb_bidder],["hb_adid",n.hb_adid],["hb_pb",n.hb_pb],["hb_size",n.hb_size],["hb_uuid",e.prebidBidResponse.videoCacheKey]],this.kvpResolve(t)}else this.kvpResolve(null)}}},{key:"launch",value:function(e,t,n){var i=this,u=e.adsModal;if(this.canRunInGeo(u)&&u&&(a.default.UNLOCK_PLACEMENT_NAME in n.dfpPlacements||a.default.SURVEY_UNLOCK_PLACEMENT_NAME in n.dfpPlacements)&&!o.default.checkAdBlockWhiteListed()){this.fillPromises.prebid=new Promise((function(e,t){i.kvpResolve=e})).catch((function(e){s.default.throw("Problems filling Prebid demand",e)})),this.fillPromises.vast=new Promise((function(e,t){var n=s.default.getUrlParams().vast_override;if("string"==typeof n)u.runVast=!0,e(n);else if(u.runVast){var r=window.location.protocol+"//"+window.location.host;window.addEventListener("message",(function t(n){try{var i=JSON.parse(n.data);n.origin===r&&!0===i.vastCreative&&(window.removeEventListener("message",t),e(i))}catch(e){}}),!1)}else e(null)})).catch((function(e){s.default.throw("Problems filling VAST demand",e)})),this.fillPromises.survey=new Promise((function(e,t){var n=window.location.protocol+"//"+window.location.host;window.addEventListener("message",(function t(i){if((i||{}).data)try{var a=JSON.parse(i.data);if(i.origin===n&&"surveyActivity"===a.type&&("object"===r(a.questions)||"object"===r(a.question))){var o=a.questions||[a.question];window.removeEventListener("message",t),e(o)}}catch(e){}}))})).catch((function(e){s.default.throw("Problems filling survey demand",e)}));var l=Object.assign({fillPromises:this.fillPromises,site:a.default.SITE.NAME,sitePrefix:a.default.SITE.PREFIX,Util:s.default,cookies:o.default,onModalShown:function(){for(var e in window.SBMGlobal.run.disableRefresh(null,{disableAll:!0}),n.placements[a.default.VID_PLACEMENT_NAME]&&n.placements[a.default.VID_PLACEMENT_NAME].clearPasture(),n.headerPlacements)n.headerPlacements.hasOwnProperty(e)&&n.headerPlacements[e].clearPasture()},sbm_id:t.sbmId,backendOpts:this.backendOpts,custom:this.unlockVideoConfig?new c.default({config:this.unlockVideoConfig,user:this.user,placement:n.placements[a.default.UNLOCK_PLACEMENT_NAME]}):null},u);if(this.isLaunched)try{window.SBMGlobal.run.reloadActivity(l)}catch(e){s.default.throw("Failed to reload adsModal",e)}else s.default.launchScript(u.endpoint,(function(){try{i.isLaunched=!0,t.ranUnlock=!0,u.rswEvents?window.SBMGlobal.run.launchActivity(l,d.default.sendUnlockEvent):window.SBMGlobal.run.launchActivity(l)}catch(e){s.default.throw("Failed to launch adsModal",e)}}));return this.fillPromises}}},{key:"canRunInGeo",value:function(e){if(e){if(e.runInternational)return!0;if(e.runUsOnly)return"US"===this.user.country}return!u.getGdprApplies()}},{key:"participateAndSetKvps",value:function(e,t){var n=e.adsModal;this.canRunInGeo(n)&&n&&(a.default.UNLOCK_PLACEMENT_NAME in t.advPage.dfpPlacements||a.default.SURVEY_UNLOCK_PLACEMENT_NAME in t.advPage.dfpPlacements)&&!o.default.checkAdBlockWhiteListed()?(this.isParticipating=!0,this.setPrebidKvps(t.getWinningBid(a.default.UNLOCK_PLACEMENT_NAME))):this.isParticipating=!1}}]),e})();t.default=l}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(23),o=n(1),s=(function(){function e(t,n){var r=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.user=t,this.config=n;var i=function(){r.checkAds(t)};o.default.launchScript("//media.studybreakmedia.com/doubleclick/ads2.js",i,i)}return r(e,[{key:"checkAds",value:function(e){var t=this;if(void 0===e.canRunAds&&(e.canRunAds=!!window.canRunAds,e.canRunAdsCheckAds=!!window.canRunAds),this.config.enableLeftRail&&e.canRunAds&&o.default.onDocReady((function(){o.default.tryCallback(e,"leftRail")})),this.config.adBlockBlock.run){(!0!==e.canRunAds||!a.default.beenThanked()&&a.default.getAdBlockDetected())&&o.default.launchScript(this.config.adBlockBlock.endpoint,(function(){t.abbLaunchOnLoad()}))}}},{key:"abbLaunchOnLoad",value:function(){a.default.setAdBlockDetected(),a.default.setAdBlockWhitelistedTrue();try{window.SBMGlobal.run.launchAdBlockBlock({util:o.default,user:this.user,config:this.config,cookies:a.default,C:i.default})}catch(e){o.default.throw("Failed to launch ad-block-block",e)}}},{key:"reload",value:function(e){if(this.config.adBlockBlock.run&&(!0!==e.canRunAds||!a.default.beenThanked()&&a.default.getAdBlockDetected()))try{window.SBMGlobal.run.reloadAdBlockBlock(e)}catch(e){o.default.log("Failed to reload ad-block-block: "+e,i.default.LOG_NAMESPACE.WARNING)}}}]),e})();t.default=s}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(2),o=n(23),s=n(1),u=n(57),c=n(20),d=n(17),l=n(144),f=(function(){function e(t){var n=this,r=t.user,i=t.pageManager;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.gptSlots={},this.slotRenderEndedCmd=[],this.scriptLaunched=!1,this.slotRenderEndedInit=function(){n.googletag.pubads().addEventListener("slotRenderEnded",(function(e){n.slotRenderEndedCmd.forEach((function(t){try{t.call(n,e)}catch(e){s.default.throw("Error in slotRenderEnded handler",e)}}))}))},this.slotRenderEndedAdd=function(e){n.slotRenderEndedCmd.push(e)},this.getWinnerAndUpsertBid=function(e){var t=n.auction,r=n.auction.advPage,i=e.slot.getTargeting("pl")[0],o=e.size||[],c=o[0],d=o[1],f=n.pageManager.getPlacements()[i],p=void 0,h=void 0,m=void 0,g=void 0,v=void 0;if(i in r.headerPlacements){try{m=parseInt(e.sourceAgnosticLineItemId,10),h=parseInt(e.sourceAgnosticCreativeId,10),(p=t.getWinner(i,a.default.CHANNEL_NAMES.PREBID))&&(p.headerWinner=!0);var y=n.getChannelAndPartnerName(e,p);switch(g=y.partnerName,v=y.channel,g){case a.default.CHANNEL_NAMES.NILE:var b=p;p=t.getWinner(i,a.default.CHANNEL_NAMES.NILE),b&&(p.nextBidPartner=b.partnerName,p.nextBidCpm=b.cents/100);break;case a.default.CHANNEL_NAMES.ADX:p=n.auction.getPartner(g).createAdxBid({placementName:i,bid:p,auction:t,width:c,height:d}),s.default.log(g+" "+i+" bid: "+p.status,a.default.LOG_NAMESPACE.BIDS);break;case a.default.CHANNEL_NAMES.MD:var E=t.getPartner(g);p=E.getBid({placementName:i,auctionId:t.id,dfpWidth:c,dfpHeight:d,headerBid:p}),E.addClickEventListener(f,!1,e.creativeId,n.user);break;case a.default.CHANNEL_NAMES.EBDA:var _=isNaN(p.cents)?0:parseFloat(String(p.cents/100));p=new u.default({id:s.default.genUUID(),partnerName:a.default.CHANNEL_NAMES.EBDA,partnerAlias:a.default.CHANNEL_NAMES.EBDA,placementName:i,status:a.default.BID_STATUS.SUCCESS,cpm:_,launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!0,format:a.default.MEDIA_TYPES.BANNER,auctionId:t.id}),s.default.log(g+" "+i+" bid: "+p.status,a.default.LOG_NAMESPACE.BIDS);break;case a.default.CHANNEL_NAMES.PAPERCHECKER:var S=t.getPartner(t.cpcPartnerName);S&&(f.clearPasture(),S.renderAd(f)),f.iabViewable=!0,"google_norender"in n.urlParams||s.default.throw("empty creative returned by DFP: ",new l.default(r.page+"/"+i,["empty creative"]))}t.upsertBid(p)}catch(e){s.default.throw("slotRenderEnded event ["+i+"]["+g+"]",e)}e.isEmpty||n.numImpressions++}else i===a.default.VID_PLACEMENT_NAME&&(m=parseInt(e.sourceAgnosticLineItemId,10),h=parseInt(e.sourceAgnosticCreativeId,10),v=a.default.CHANNEL.NONE,p=new u.default({id:s.default.genUUID(),partnerName:a.default.VIDEO_PARTNERS.PRIMIS,partnerAlias:a.default.VIDEO_PARTNERS.PRIMIS,placementName:i,status:a.default.BID_STATUS.SUCCESS,cpm:0,launchOrder:-1,launchTime:1/0,bidAdjustment:{revShare:0,discrepancy:0},useRenderFunction:!1,format:a.default.MEDIA_TYPES.VIDEO,auctionId:t.id}));return p&&(p.channel=v,p.lineItemId=m,p.creativeId=h,p.dfpWinner=!0,s.default.log("slotRenderEnded: "+i+" "+g+" -- "+(isNaN(m)?"no line item ID":m),a.default.LOG_NAMESPACE.BIDS),p.renderEnd=s.default.getTime()),p},this.getChannelAndPartnerName=function(e,t){var r,i=void 0,o=void 0;if(r=parseInt(e.sourceAgnosticLineItemId,10),parseInt(e.sourceAgnosticCreativeId,10),r){if(e.advertiserId===a.default.HEADER_ADVERTISER_ID)return{partnerName:t.partnerName,channel:a.default.CHANNEL.HEADER};e.advertiserId===a.default.NILE_ADVERTISER_ID?(o=a.default.CHANNEL_NAMES.NILE,i=a.default.CHANNEL.HEADER):e.isEmpty||e.creativeId?(i=a.default.CHANNEL.MD,o=a.default.CHANNEL_NAMES.MD):(o=a.default.CHANNEL_NAMES.ADX,i=a.default.CHANNEL.ADX)}else!e.isEmpty&&e.advertiserId?(o=a.default.CHANNEL_NAMES.ADX,i=a.default.CHANNEL.ADX):e.isEmpty?e.isEmpty&&(o=n.config.cpcPartner.name,i=a.default.CHANNEL.CPC):(o=a.default.CHANNEL_NAMES.EBDA,i=a.default.CHANNEL.EBDA);return{partnerName:o,channel:i}},this.slotRenderEndedListener=function(e){var t=e.slot.getTargeting("aid")[0],r=e.slot.getTargeting("pl")[0],i=e.slot.getTargeting("md")[0],o=n.pageManager.getPlacements()[r],u=n.getWinnerAndUpsertBid(e);s.default.recordEventTime("dfpAuctionEnd",n.auction.id);var c=s.default.calculatedEventTimes(n.auction.id,!0);if(u&&r!==a.default.UNLOCK_PLACEMENT_NAME){var l=void 0;u.partnerName===a.default.VIDEO_PARTNERS.PRIMIS?l=[u]:(l=n.auction.getCurrentBids(r),n.auction.id!==u.auctionId&&l.unshift(u)),l.forEach((function(t,r){if(t.dfpWinner){if(t.partnerName!==a.default.CHANNEL_NAMES.NILE){var s=n.auction.getWinner(t.placementName,a.default.CHANNEL_NAMES.NILE);s&&s.nil&&"2"!==s.nil&&(t.nil=s.nil)}var u=t.partnerName!==a.default.CHANNEL_NAMES.NILE||t.partnerName!==a.default.CHANNEL_NAMES.MD?l[r+1]:null;u&&(t.nextBidCpm=u.cents/100,t.nextBidPartner=u.partnerName)}var f=d.default.generateClickStreamEvent({bid:t,placement:o,auction:n.auction,advertiserId:e.advertiserId,eventTimes:c,cheggBidderCpmSource:i});d.default.send({type:a.default.RIO.EVENT_TYPES.CLICKSTREAM_AD_IMPRESSION.NAME,data:f})}))}if(o){var f=u&&u.partnerName||"Unknown";o.slotRendered(t,f)}else s.default.throw("Error in slotRenderEndedListener - no placement "+r+" found in pageManager");n.fluentd.sendCountdown(a.default.SBM.EVENT_TYPES.SLOT_RENDER.NAME,t)},this.registerSlots=function(e){Object.keys(e).forEach((function(t){var r=e[t];try{n.gptSlots[t]=n.googletag.defineSlot(r.slotPath,r.placementConfig.sizes,r.divId).addService(n.googletag.pubads())}catch(e){s.default.throw("Failed to define slot",e)}}))},this.pageManager=i,this.user=r,this.pageRequestErrorCallback=this.pageRequestErrorCallback.bind(this),this.launchScript()}return r(e,[{key:"launchScript",value:function(){var e=this;this.scriptLaunched||s.default.launchScript("https://securepubads.g.doubleclick.net/tag/js/gpt.js",(function(){e.scriptLaunched=!0}),this.pageRequestErrorCallback)}},{key:"init",value:function(e){var t=e.fluentD,n=e.auction,r=e.config;return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.fluentd=t,this.config=r,this.auction=n,this.refreshCount=this.user.refreshCount,this.refreshType=this.user.refreshType,this.isRefresh=this.user.refreshCount>0,this.urlParams=s.default.getUrlParams(),this.numImpressions=0,this.googletag=window.googletag,this.googletag.adv||(this.listenForGptFireError(),this.googletag.adv=!0,this.queue((function(){i.slotRenderEndedInit(),i.slotRenderEndedAdd(i.slotRenderEndedListener),i.impressionViewableListener()}))),this.queue((function(){var e=i.getGptSlots(),t=i.auction.advPage.dfpPlacements;i.destroySlots(e,i.auction.advPage.destroyPlacements),i.registerSlots(t)})),!c.getGdprApplies()){e.next=14;break}return e.next=14,this.settingRequestTypeAds();case 14:this.queue((function(){i.googletag.pubads().enableSingleRequest(),i.googletag.pubads().disableInitialLoad(),i.googletag.enableServices()}));case 15:case"end":return e.stop()}}),e,this)})))}},{key:"settingRequestTypeAds",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.consentSignalForGooglePersonalizedAds();case 2:return t=e.sent,e.next=5,c.consentSignalForGoogleNonPersonalizedAds();case 5:n=e.sent,t?(this.user.gdprConsented=!0,this.queue((function(){r.googletag.pubads().setRequestNonPersonalizedAds(0)}))):n&&(this.user.gdprConsented=!1,this.queue((function(){r.googletag.pubads().setRequestNonPersonalizedAds(1)})));case 7:case"end":return e.stop()}}),e,this)})))}},{key:"queue",value:function(e){this.googletag.cmd.push(e)}},{key:"getGptSlots",value:function(){return this.gptSlots}},{key:"setGlobalTargeting",value:function(){var e=this.isRefresh?"yes":"no",t=this.googletag.pubads(),n=o.default.getViewedUnlock()?"yes":"no";if(s.default.getOptimizelyKvps().forEach((function(e){var n=e.experiment,r=e.variation;t.setTargeting(n,r)})),t.setTargeting("refresh",e),t.setTargeting("a_b_test",this.user.testGroup),t.setTargeting("tg",this.user.tg),t.setTargeting("page_count",String(this.user.pageCount||0)),t.setTargeting("citation_count",String(this.user.citationCount||0)),t.setTargeting("refresh_count",String(this.refreshCount||0)),t.setTargeting("redesign",String(-1!==this.user.page.indexOf("_redesign"))),t.setTargeting("viewed_unlock_modal",n),t.setTargeting("layout",this.auction.advPage.layout),t.setTargeting("page",this.user.page),window.EBTEST&&t.setTargeting("EBTEST",window.EBTEST),window.BMTEST&&t.setTargeting("BMTEST",window.BMTEST),window.CMTEST&&t.setTargeting("CMTEST",window.CMTEST),window.DFPTEST&&t.setTargeting("TEST",window.DFPTEST),this.user.suppress){var r=String(this.user.suppress);t.setTargeting("user_suppress",[r])}this.config.experiment&&t.setTargeting("experiment",this.config.experiment),this.config.grammarlyOff&&t.setTargeting("disable_grammarly","true")}},{key:"setPlacementTargeting",value:function(e,t){var n=e.ibv?"yes":"no";t.setTargeting("placement",e.name),t.setTargeting("pl",e.name),t.setTargeting("ibv",n),t.setTargeting("aid",this.auction.id)}},{key:"setHeaderPlacementTargeting",value:function(e,t){var n=t.partnerAlias,r=t.partnerName,i=this.user.tg,a=this.isRefresh?"yes":"no",o=t.width+"x"+t.height,s=this.user.time.utc;e.setTargeting("adv_bid",t.cpm),e.setTargeting("adv_testgroup",this.user.testGroup+":"+r),e.setTargeting("adv_refresh",a+":"+r),e.setTargeting("bd",t.cpm),e.setTargeting("ry",n),e.setTargeting("adv_bidder",r),e.setTargeting("ry_sz",n+"_"+o),e.setTargeting("ry_sz_hr",n+"_"+o+"_"+s),e.setTargeting("tg_ry",i+"_"+n),e.setTargeting("tg_ry_sz",i+"_"+n+"_"+o),e.setTargeting("tg_ry_sz_hr",i+"_"+n+"_"+o+"_"+s)}},{key:"getKvps",value:function(){var e=this,t=this.getGptSlots(),n={};try{if(Object.keys(t).forEach((function(e){var r=t[e],i=r.getTargetingKeys();n[e]={},i.forEach((function(t){n[e][t]=r.getTargeting(t)}))})),this.googletag.pubadsReady){var r=this.googletag.pubads().getTargetingKeys();n.global={},r.forEach((function(t){n.global[t]=e.googletag.pubads().getTargeting(t)}))}}catch(e){s.default.throw("Failed to get KVPs",e)}return n}},{key:"fire",value:function(e,t){var n=this,r=[];return Object.keys(e).forEach((function(i){var a=e[i],o=t.dfpPlacements[i],u=n.googletag;o.$ad?u.display(o.divId):s.default.onDocReady((function(){if(o.$ad)u.display(o.divId);else{var e="$ad not defined when displaying google";s.default.throw(e,new l.default(e,["no $ad"]))}})),r.push(a)})),this.googletag.pubads().refresh(r),r.length>0}},{key:"listenForGptFireError",value:function(){var e=this,t={send:XMLHttpRequest.prototype.send};XMLHttpRequest.prototype.send=function(n){if(this.onerror&&"string"==typeof n&&-1!==n.indexOf("googletag.impl.pubads")){var r=this.onerror;this.onerror=function(){return e.pageRequestErrorCallback(),r.apply(this,arguments)}}return t.send.apply(this,arguments)};var n=document.head.insertBefore;document.head.insertBefore.sbmModified||(document.head.insertBefore=function(t){return t&&t.src&&-1!==t.src.indexOf("https://securepubads.g.doubleclick.net/gampad/ads")&&(t.onerror=e.pageRequestErrorCallback),n.apply(this,arguments)},document.head.insertBefore.sbmModified=!0)}},{key:"pageRequestErrorCallback",value:function(){this.user.canRunAds=!1,this.user.canRunAdsDFPFail=!1;try{var e=this.auction.getPartner(this.auction.cpcPartnerName);e&&(e.renderAllAds(),s.default.log("googletag.display() failed. Calling cpcPartner.",a.default.LOG_NAMESPACE.BIDS))}catch(e){}}},{key:"destroySlots",value:function(e,t){var n=Object.keys(e).filter((function(e){return t[e]})).map((function(t){return e[t]}));return this.googletag.destroySlots(n),n}},{key:"impressionViewableListener",value:function(){var e=this;this.googletag.pubads().addEventListener("impressionViewable",(function(t){var n=t.slot.getTargeting("aid")[0],r=t.slot.getTargeting("pl")[0],i=e.pageManager.getPlacements()[r];i?i.markViewable(n):s.default.throw("Error in impressionViewableListener: no placement "+r+" found in pageManager"),e.fluentd.sendCountdown("impressionViewable",n)}))}},{key:"runTargeting",value:function(e){var t=this,n=this.auction.getWinningBids(),r=e&&e.takeover,i=this.config.takeover&&this.config.takeover.disablePlacements?this.config.takeover.disablePlacements:[];return new Promise((function(o,u){t.queue((function(){s.default.recordEventTime("dfpInit",t.auction.id);var u=t.getGptSlots(),c={};t.setGlobalTargeting(),r?t.googletag.pubads().setTargeting("takeover",e.takeover):t.googletag.pubads().clearTargeting("takeover"),t.auction.getPartner(a.default.CHANNEL_NAMES.NILE)&&t.auction.getPartner(a.default.CHANNEL_NAMES.NILE).setTargeting(),Object.keys(t.auction.advPage.dfpPlacements).forEach((function(e){var o=u[e],d=t.auction.advPage.dfpPlacements[e],l=n[e];if(!r||!i.includes(e)){t.setPlacementTargeting(d,o),l&&t.setHeaderPlacementTargeting(o,l);var f=l?l.cents:0,p=t.auction.getPartner(t.auction.cpcPartnerName),h=p.getCpm(e);h&&(s.default.log("Setting disable_md to true and new md targeting",a.default.LOG_NAMESPACE.CHEGG_BIDDER),o.setTargeting("disable_md","true"),o.setTargeting("md",h)),d.skipDfpForViewability(f)&&p?p.renderAd(d):c[e]=o,s.default.log("Set targeting for "+e,a.default.LOG_NAMESPACE.BIDS)}})),t.fire(c,t.auction.advPage),o()}))}))}},{key:"getTakeoverDemand",value:function(e,t){var n=this;return new Promise((function(r,o){return i(n,void 0,void 0,regeneratorRuntime.mark((function n(){var i,o,u,d=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.googletag=window.googletag,this.queue((function(){return d.registerSlots({D_MISC:e})})),!c.getGdprApplies()){n.next=5;break}return n.next=5,this.settingRequestTypeAds();case 5:this.queue((function(){d.googletag.pubads().enableSingleRequest(),d.googletag.pubads().disableInitialLoad(),d.googletag.enableServices()})),i=void 0,this.queue((function(){i=d.gptSlots[e.name],d.googletag.pubads().setTargeting("takeover",t),i.setTargeting("pl",e.name),e.$ad?d.googletag.display(e.divId):s.default.log("Issues displaying D_MISC takeover",a.default.LOG_NAMESPACE.STATE)})),o=window.location.protocol+"//"+window.location.host,u=function e(t){try{var n=JSON.parse(t.data);t.origin===o&&(window.removeEventListener("message",e),r(n))}catch(e){}},window.addEventListener("message",u,!1),this.queue((function(){d.googletag.pubads().refresh([i])}));case 12:case"end":return n.stop()}}),n,this)})))}))}}]),e})();t.default=f}),(function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();Object.defineProperty(t,"__esModule",{value:!0});var a=n(23),o=n(1),s=n(2),u=["base_inflated"],c=(function(){function e(t,n){var r=this;!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.waitForMoreData=!1,this.sendCountdownTriggered=!1,this.sendCount=0,this.DEBOUNCE_TIME=400,this.FLUENTD_SCHEMA_VERSION=3,this.payload={},this.errors=[],this.blacklistedEvents=[],this.getMcId=function(){var e=a.default.docCookies.getItem("mcid")||(function(){try{var e=window.Visitor.getInstance("3FE7CBC1556605A77F000101@AdobeOrg"),t=String(e.getMarketingCloudVisitorID());return t&&r.cookieForTenYears("mcid",t),t}catch(e){}})();return e&&r.updateDataLayer({mcid:e}),e},this.getGaId=function(){return a.default.docCookies.getItem("gaid")||(function(){try{var e=String(window.ga.getAll()[0].get("clientId"));return r.cookieForTenYears("gaid",e),e}catch(e){}})()},this.getSbmSessionId=function(){var e=a.default.docCookies.getItem(s.default.COOKIE.SBM_SESSION_ID);e||(e=o.default.genUUID());var t=new Date;t.setHours(24),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0);var n=(t.getTime()-(new Date).getTime())/1e3,r=Math.min(1800,n);return a.default.docCookies.setItem(s.default.COOKIE.SBM_SESSION_ID,e,r,s.default.PATH),e},this._setSbmId=this.setSbmId,this._getSbmId=this.getSbmId,this.version="v"+this.FLUENTD_SCHEMA_VERSION,this.user=t,this.config=n,e.cachedInstance=this,o.default.loadDataConnection(this)}return i(e,[{key:"init",value:function(e){var t=e.config,n=e.user,r=e.auction,i=e.dfp;if(this.sendCountdownTriggered){var a=this.auction?this.auction.id:this.user.initialAuctionId;this.send("flush",a)}this.auction=r,this.config=t,this.user=n,this.dfp=i,this.blacklistedEvents=t.archieAnalytics?t.archieAnalytics.eventBlacklist:[]}},{key:"isEnabled",value:function(){return!(!this.config||!this.config.archieAntenna)}},{key:"_getHost",value:function(){return(this.config||{}).archieAntenna}},{key:"shouldSend",value:function(e,t){if(e&&this.blacklistedEvents.find((function(t){return t.toLowerCase()===e.toLowerCase()})))return!1;return(this.auction?this.auction.id:this.user.initialAuctionId)===t}},{key:"send",value:function(e,t){if(this.isEnabled()){if(this.user.suppress!==s.default.SUPPRESS_TYPES.BY_COOKIE&&!window.AD_VANTAGE_STAGING&&this.shouldSend(e,t)){var n=new XMLHttpRequest;this.user.mcid=this.user.mcid||this.getMcId(),this.user.sbmSessionId=this.user.sbmSessionId||this.getSbmSessionId(),this.user.gaid=this.user.gaid||this.getGaId();var r=this.composeRequestObj(e);r.b=[];var i=void 0;try{i=JSON.stringify(r)}catch(e){try{delete r.r,i=JSON.stringify(r)}catch(e){o.default.throw("Could not send fluend payload "+this.sendCount,e)}}this.sendCount++,o.default.log(["FluentD payload "+this.sendCount,r],s.default.LOG_NAMESPACE.DATA);var u=this;try{"unload"===e&&window.navigator&&window.navigator.sendBeacon?window.navigator.sendBeacon(this._getHost(),i):(n.open("POST",this._getHost(),!0),n.withCredentials=!0,n.setRequestHeader("Content-Type","text/plain; charset=UTF-8"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(i),n.onload=function(e){if(4===n.readyState)if(200===n.status)try{var t=JSON.parse(n.response);u.setSbmId(t),u.user.country!==t.c&&o.default.throw("Test: "+u.user.testGroup+", Country mistmatch between cloufront: "+u.user.country+" and fluentd: "+t.c),u.user.dma=t.d,a.default.setDma(t.d)}catch(e){o.default.throw("FluentD parse error: "+n.response,e)}else o.default.log("FluentD response error",s.default.LOG_NAMESPACE.WARNING)})}catch(e){o.default.throw("Failed to send payload to fluentd",e)}this.sendCountdownTriggered=!1}}else o.default.log("FluentD disabled",s.default.LOG_NAMESPACE.DATA)}},{key:"sendCountdown",value:function(e,t){this.sendCount;if(this.waitForMoreData=!0,!this.sendCountdownTriggered){this.sendCountdownTriggered=!0,clearTimeout(this.sendTimer);var n=this;this.sendTimer=window.setTimeout((function r(){this.waitForMoreData?(this.waitForMoreData=!1,clearTimeout(this.sendTimer),this.sendTimer=setTimeout(r,this.DEBOUNCE_TIME)):n.send(e,t)}),this.DEBOUNCE_TIME)}}},{key:"trackError",value:function(e){this.errors.push(e.message)}},{key:"clear",value:function(){this.payload={loc:window.location.pathname,p:{},b:[],r:[]},this.errors=[]}},{key:"compressBid",value:function(e){var t={id:String(e.id),pr:String(e.partnerName),pl:String(e.placementName),cents:this.getInt(e.cents),rcents:this.getInt(e.rawCents),w:this.getInt(e.width),h:this.getInt(e.height),dwon:this.getBoolean(e.dfpWinner),hwon:this.getBoolean(e.headerWinner),lo:this.getInt(e.launchOrder),lt:this.getInt(e.launchTime),rt:this.getInt(e.responseTime),stat:String(e.status),late:this.getBoolean(e.lateResponse),mscore:this.getFloat(e.auctionTimeoutModelScore),format:String(e.format)};return e.dfpDiscrepancy&&(t.discr=this.getFloat(e.dfpDiscrepancy),t.initWin=String(e.initialWinner),t.initC=this.getInt(e.initialCents)),e.lineItemId&&(t.li=String(e.lineItemId)),e.renderEnd>0&&(t.re=this.getInt(e.renderEnd)),t}},{key:"composeRequestObj",value:function(e){var t=this,n={},i=this.auction,a=this.dfp,c=this.auction?this.auction.advPage:void 0,d=(this.auction&&this.auction.videoAdLoadedCount,this.user),l=[],f=[],p=0,h={id:String(d.initialAuctionId),loc:String(window.location.pathname),s:{c:Number(this.sendCount),ts:Number(o.default.getTime()),e:e&&String(e)},p:{},b:[],rc:0,test:{f:String(d.testGroup),b:d.backEndTests,v:String(d.versionName),r:"8.0.18"},u:d};i&&i.shouldSendResourceData&&(h.r=[]);var m=this.payload;if(this.errors.length&&(h.e={m:this.errors,c:this.errors.length},this.errors=[]),this.sendCount>0){try{i&&i.shouldSendResourceData&&(l=window.performance.getEntriesByType("resource"),h.r=l)}catch(e){}if(c&&i){var g=i.getPlacements()||{};h.lo=c.layout,h.gpt={init:this.getInt(i.initTime),dr:this.getInt(i.docReadyTime),exim:Object.keys(g).length,kvp:a&&a.getKvps?a.getKvps():void 0},Object.keys(g).forEach((function(e){var n=g[e],r=i.getCurrentBids(e)||[],a={i:t.getBoolean(n.iabViewable)};h.p[e]={v:a,ibv:t.getBoolean(n.ibv)},p+=r.length,r.forEach((function(e){return h.b.push(t.compressBid(e))}))}))}try{h.b.forEach((function(e){var t=m.b.find((function(t){return t.id===e.id})),n=o.default.diff(e,t||{});t&&!Object.keys(n).length||f.push(e)}))}catch(e){o.default.throw("fluentd.toString() bids",e)}}if(f.length||h.r?(n=o.default.copy(h)).r=o.default.diff(l,m.r):n=o.default.diff(h,m),i){var v=i.getPlacements();Object.keys(v).forEach((function(e){n.p||(n.p={}),n.p[e]||(n.p[e]={});var r=i.getCurrentBids(e),a=[];r.forEach((function(e){e.lateResponse||a.push(e.cents)})),n.p[e].b=a;var o=i.getWinner(e,s.default.CHANNEL_NAMES.PREBID);if(o){var u=o.lineItemId,c=o.partnerName===s.default.CHANNEL_NAMES.ADX,d=o.partnerName===s.default.CHANNEL_NAMES.EBDA;if(u)n.p[e].li=String(u);else if(c){var l=o.cents;n.p[e].adx=t.getInt(l)}else if(d){var f=o.cents;n.p[e].ebda=t.getInt(f)+1}}})),n.id=String(i.id),n.rc=this.getInt(i.refreshCount),n.rt=i.refreshType&&String(i.refreshType)}if(this.payload=h,n.v=this.getInt(this.FLUENTD_SCHEMA_VERSION),n.s=h.s,n.site=String(this.config.site),n.nb=this.getInt(p),n.nr=this.getInt(l.length),h.nb=n.nb,h.nr=n.nr,a&&(n.ni=this.getInt(a.numImpressions),h.ni=n.ni,n.c={b:this.getInt(p-(m.nb||0)),i:this.getInt(a.numImpressions-(m.ni||0)),r:this.getInt(l.length-(m.nr||0)),s:1}),(h.e||{}).c&&("object"!==r(n.c)?n.c={e:h.e.c}:n.c.e=this.getInt(h.e.c-(m.e&&m.e.c||0))),h.gpt){n.gpt=o.default.copy(h.gpt);var y=m.gpt&&m.gpt.kvp||{},b=h.gpt.kvp||{},E=o.default.diff(b,y);Object.keys(b).forEach((function(e){u.forEach((function(t){b[e]&&b[e][t]&&(E[e]=E[e]||{},E[e][t]=b[e][t])}))})),n.gpt.kvp=Object.keys(E).length?E:void 0}return n.b=f,n}},{key:"updateDataLayer",value:function(e){e=Object.assign({},e,{sbmId:this.user.sbmId}),o.default.updateDataLayer(e)}},{key:"getFloat",value:function(e){if(e=Number(e),!isNaN(e))return Number(e.toFixed(4))}},{key:"getInt",value:function(e){if(e=Number(e),!isNaN(e))return parseInt(e,10)}},{key:"getBoolean",value:function(e){if(void 0!==e)return Boolean(e)}},{key:"setSbmId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.user.sbmId){var t=e.ug||e.us,n=this.getSbmId(t);n&&(this.user.sbmId=n,this.cookieForTenYears(s.default.COOKIE.SBM_ID,n),o.default.updateDataLayer({sbmId:n}))}return this.user}},{key:"getSbmId",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="=",n=e.indexOf(t);return n>-1?e.substr(n+1,e.length-1):e}},{key:"cookieForTenYears",value:function(e,t){a.default.docCookies.setItem(e,t,31536e4)}}],[{key:"getInstance",value:function(){return e.cachedInstance}}]),e})();t.default=c}),(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),i=n(2).default.SITE.PREFIX.split("_")[0],a=function(e){return"\n\t\t<div class='native-title "+i+"'>\n\t\t\t<a class='title-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t"+e.title+"\n\t\t\t</a>\n\t\t</div>\n\t"},o=function(e,t){return"\n\t\t<div class='native-image "+i+" s"+t[0]+"'>\n\t\t\t<a class='image-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t<img src='"+e.image.url+"'>\n\t\t\t</a>\n\t\t</div>\n\t"},s=function(e){return"\n\t\t<div class='native-body "+i+"'>\n\t\t\t<a class='body-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t"+e.body+"\n\t\t\t</a>\n\t\t</div>\n\t"},u=function(e){return"\n\t\t<div class='native-logo "+i+"'>\n\t\t\t<a class='logo-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t<img src='"+e.icon.url+"'>\n\t\t\t</a>\n\t\t</div>\n\t"},c=function(e){return"\n\t\t<div class='native-advertiser "+i+"'>\n\t\t\t<a class='advertiser-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t"+e.sponsoredBy+"\n\t\t\t</a>\n\t\t</div>\n\t"},d=function(e){return"\n\t\t<div class='native-call-to-action "+i+"'>\n\t\t\t<a class='call-to-action-link "+i+"' href='"+e.clickUrl+"' target='_blank'>\n\t\t\t\t"+e.cta+"\n\t\t\t</a>\n\t\t</div>\n\t"},l=function(){return"<div class='attribution "+i+"'>Ad</div>"},f=function(e){return"<img src='"+e.impressionTrackers[0]+"' style='display:none'>"},p=function(e,t){return 728===t[0]?(function(e,t){return"\n\t\t"+l()+"\n\t\t"+(e.impressionTrackers?f(e):"")+"\n\t\t"+o(e,t)+"\n\t\t<div class='s728-content'>\n\t\t\t"+a(e)+"\n\t\t\t"+(e.body?s(e):"")+"\n\t\t\t"+(e.icon?u(e):"")+"\n\t\t\t<div class='s728-cta-sponsor'>\n\t\t\t\t"+(e.cta?d(e):"")+"\n\t\t\t\t"+(e.sponsoredBy?c(e):"")+"\n\t\t\t</div>\n\t\t</div>\n\t"})(e,t):300===t[0]?(function(e,t){return"\n\t\t"+l()+"\n\t\t"+(e.impressionTrackers?f(e):"")+"\n\t\t"+a(e)+"\n\t\t"+(e.body?s(e):"")+"\n\t\t"+(e.icon?u(e):"")+"\n\t\t"+(e.cta?d(e):"")+"\n\t\t"+(e.sponsoredBy?c(e):"")+"\n\t"})(e):160===t[0]?(function(e,t){return"\n\t\t"+l()+"\n\t\t"+(e.impressionTrackers?f(e):"")+"\n\t\t"+a(e)+"\n\t\t"+o(e,t)+"\n\t\t"+(e.body?s(e):"")+"\n\t\t"+(e.icon?u(e):"")+"\n\t\t"+(e.sponsoredBy?c(e):"")+"\n\t\t"+(e.cta?d(e):"")+"\n\t"})(e,t):void 0};t.default=function(e,t){r.default.onDocReady((function(){if(e.$ad){var n=document.createElement("iframe"),a=e.placementConfig.sizes[0];n.setAttribute("style","height: "+a[1]+"px; width: "+a[0]+"px; margin: 0 auto; padding: 0;"),n.setAttribute("frameborder","0"),n.srcdoc=(function(e,t){return'\n\t\t<html>\n\t\t\t<head>\n\t\t\t\t<link rel="stylesheet" type="text/css" href="//atc.studybreakmedia.com/native/style.css">\n\t\t\t</head>\n\t\t\t<body class=\'native-ad '+i+" s"+t[0]+"' "+(function(e,t){return 300===t[0]?"style=\"background-image: url('"+e.image.url+"'); background-repeat: no-repeat; background-size: cover;\"":""})(e,t)+">\n\t\t\t\t"+p(e,t)+"\n\t\t\t</body>\n\t\t</html>\n\t"})(t,a),e.$ad.appendChild(n)}else r.default.throw("$ad is not define in Native ad")}))}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(2),s=(function(){function e(t,n){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e),this.retry=!1,this.count=0,this.config=n,this.user=t,this.performRequest()}return r(e,[{key:"isEnabled",value:function(){return this.config.bidFlooring&&this.config.bidFlooring.enabled&&this.config.bidFlooring.host}},{key:"getVideoFloor",value:function(e,t){var n=this.user.country,r=o.default.FLOOR_TIERS.GB_AU_CA.split("_"),i=void 0;n===o.default.FLOOR_TIERS.US&&(i=o.default.FLOOR_TIERS.US),r.indexOf(n)>-1&&(i=o.default.FLOOR_TIERS.GB_AU_CA);var a=e[i]?e[i]:e[o.default.FLOOR_TIERS.ROW];return"rounded_number"===t?Math.ceil(a):"string"===t?""+a:"rounded_string"===t?""+Math.ceil(a):a}},{key:"performRequest",value:function(){if(this.isEnabled())try{this.placement_bidders||this.requestFlooring()}catch(e){a.default.throw("Floord Failed")}}},{key:"requestFlooring",value:function(){return i(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n,r=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isEnabled()){e.next=2;break}return e.abrupt("return");case 2:return t={site:this.config.site,user:this.user},a.default.recordEventTime("floordInit"),e.next=6,fetch(this.config.bidFlooring.host,{method:"post",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});case 6:return n=e.sent,e.next=9,n.json().then((function(e){a.default.recordEventTime("floordEnded"),e?(a.default.log("Retrieving bidFlooring data succesfully",o.default.LOG_NAMESPACE.FLOORD),r.floors=e.floors,r.placement_bidders=e.placement_bidders,r.retry=!1):(a.default.log("Failed to get new data from bidFlooring",o.default.LOG_NAMESPACE.FLOORD),a.default.throw("Failed to get new data from bidFlooring"))})).catch((function(e){r.count++,r.count>3?r.retry=!1:r.retry=!0,a.default.log("Failed to get bidFlooring",o.default.LOG_NAMESPACE.FLOORD),a.default.throw("Failed to get bidFlooring",e)}));case 9:return e.abrupt("return",e.sent);case 10:case"end":return e.stop()}}),e,this)})))}}]),e})();t.default=s}),(function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(2),a=n(1),o=function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&Array.isArray(e[n].bids)&&(t=[].concat(r(t),r(e[n].bids)));return t},s=function(e,t){if("justpremium"!==e.partnerName||-1===["pd","wp"].indexOf(e.format))return e;var n=void 0;return(n="bibme"===i.default.SITE.NAME||"citationmachine"===i.default.SITE.NAME?t.placement.$pasture.parentElement.parentElement:t.placement.$pasture).style.WebkitTransition="min-height .5s",n.style.MozTransition="min-height .5s",n.style.MsTransition="min-height .5s",n.style.OTransition="min-height .5s",n.style.transition="min-height .5s",n.style.overflow="hidden",n.style.minHeight="0px",n.style.height="0px",e},u=function(e,t){if("justpremium"!==e.partnerName)return e;var n="\n\t  div.jpx-"+e.format+"-wrapper {\n\t\t\tz-index: 9998;\n\t\t}\n\t\tdiv.jpx-pu-wrapper {\n\t\t\tbottom: 25px\n\t\t}\n\t\tdiv.jpx-pa-wrapper {\n\t\t\tmargin: 52px 0;\n\t\t}\n\t";return a.default.dynamicStyle(n),e},c=function(e,t){return"justpremium"!==e.partnerName?e:(d(t.placementName),e)},d=function(e){try{window.SBMGlobal.run.disableRefresh(e)}catch(e){}};t.default={getBidById:function(e,t){var n=o(e),r=!0,i=!1,a=void 0;try{for(var s,u=n[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;if(t===c.adId)return c}}catch(e){i=!0,a=e}finally{try{!r&&u.return&&u.return()}finally{if(i)throw a}}return null},getAllBids:o,adjustWinningBid:function(e,t){return e?([c,s,u].forEach((function(n){try{e=n(e,t)}catch(e){a.default.throw("AdjustWinningBid failed:",e)}})),e):(a.default.throw("No bid found: "+JSON.stringify(e)),e)},disablePlacementRefresh:d}}),(function(e,t,n){"use strict";var r=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})();var i=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1),o=n(23),s=(function(){function e(){!(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")})(this,e)}return r(e,null,[{key:"launch",value:function(e,t,n){return i(this,void 0,void 0,regeneratorRuntime.mark((function r(){var i,s,u;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(i=this,t.archieRadar&&t.archieRadar.queryParam&&(this.forceVersionQueryParam=t.archieRadar.queryParam),!("radar"in(s=a.default.getUrlParams()))){r.next=6;break}return r.next=6,o.default.archieRadar(s.radar||"on");case 6:return r.next=8,o.default.archieRadar();case 8:if((u=r.sent)&&"off"!==u){r.next=11;break}return r.abrupt("return");case 11:a.default.onDocReady((function(){i.insertRadarCss(),i.insertRadarAnchorHtml(),i.insertRadarVersionsHtml(e,n.versionName),i.insertCloseHtml()}));case 12:case"end":return r.stop()}}),r,this)})))}},{key:"handleVersionClick",value:function(e){window.location.href=location.protocol+"//"+location.host+location.pathname+"?"+this.forceVersionQueryParam+"="+e.target.innerHTML}},{key:"handleCloseClick",value:function(e){o.default.archieRadar("off"),this.removeRadar()}},{key:"insertRadarCss",value:function(){var e=document.createElement("style");e.type="text/css",e.textContent="\n\t#archie-radar-anchor {\n\t\tz-index: 10000;\n\t\tposition: fixed;\n\t\twidth: 50%;\n\t\tleft: 50%;\n\t\tmargin-left: -25%;\n\t\tbackground: white;\n\t\ttext-align: center;\n\t\tborder: 3px solid black;\n\t\tborder-radius: 3px;\n\t\tmax-height: 500px;\n\t\toverflow: scroll;\n\t}\n\t.archie-radar-button {\n\t\tpadding: 2px 0 2px 10px;\n\t\tcursor: pointer;\n\t\tborder: 1px solid transparent;\n\t}\n\t.archie-radar-current {\n\t\tcolor: blue;\n\t}\n\t.archie-radar-button:hover {\n\t\tborder: 1px solid black;\n\t}\n",document.head.appendChild(e)}},{key:"insertRadarAnchorHtml",value:function(){var e=document.createElement("div");e.setAttribute("id","archie-radar-anchor"),document.body.insertBefore(e,document.body.firstChild)}},{key:"insertRadarVersionsHtml",value:function(e,t){var n=this;e.forEach((function(e){var r=document.createElement("div");r.className="archie-radar-version archie-radar-button",t===e.name&&(r.className+=" archie-radar-current"),r.addEventListener("click",n.handleVersionClick.bind(n)),r.innerHTML=e.name,document.getElementById("archie-radar-anchor").appendChild(r)}))}},{key:"insertCloseHtml",value:function(){var e=document.createElement("div");e.className="archie-radar-close archie-radar-button",e.addEventListener("click",this.handleCloseClick.bind(this)),e.innerHTML="X   Close",document.getElementById("archie-radar-anchor").appendChild(e)}},{key:"removeRadar",value:function(){var e=document.getElementById("archie-radar-anchor");e.parentNode.removeChild(e)}}]),e})();s.forceVersionQueryParam="al_cell",t.ArchieRadar=s,t.default=s}),(function(e,t,n){"use strict";var r=function(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{u(r.next(e))}catch(e){a(e)}}function s(e){try{u(r.throw(e))}catch(e){a(e)}}function u(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(o,s)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),a=n(20),o={launchScript:function(e){return r(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.userAllowsAnalytics();case 2:if(t.sent){t.next=5;break}return t.abrupt("return");case 5:n=function(){i.default.onDocReady((function(){window._satellite&&window._satellite.pageBottom&&window._satellite.pageBottom()}))},"string"==typeof e&&i.default.launchScript(e,n,void 0);case 7:case"end":return t.stop()}}),t,this)})))}};t.default=o}),(function(e,t,n){n(359),e.exports=n(145)}),(function(module,exports,__webpack_require__){"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!(function(e){var t=window.pbjsChunk;window.pbjsChunk=function(n,a,o){for(var s,u,c,d=0,l=[];d<n.length;d++)u=n[d],r[u]&&l.push(r[u][0]),r[u]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(t&&t(n,a,o);l.length;)l.shift()();if(o)for(d=0;d<o.length;d++)c=i(i.s=o[d]);return c};var n={},r={423:0};function i(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=e,i.c=n,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i.oe=function(e){throw console.error(e),e},i(i.s=1025)})({0:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"internal",(function(){return T})),t.getPrebidInternal=function(){return P},n.d(t,"bind",(function(){return k})),t.getUniqueIdentifierStr=D,t.generateUUID=function e(t){return t?(t^(window&&window.crypto&&window.crypto.getRandomValues?crypto.getRandomValues(new Uint8Array(1))[0]%16:16*Math.random())>>t/4).toString(16):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)},t.getBidIdParameter=function(e,t){return t&&t[e]?t[e]:""},t.tryAppendQueryString=function(e,t,n){return n?e+t+"="+encodeURIComponent(n)+"&":e},t.parseQueryStringParameters=function(e){var t="";for(var n in e)e.hasOwnProperty(n)&&(t+=n+"="+encodeURIComponent(e[n])+"&");return t.replace(/&$/,"")},t.transformAdServerTargetingObj=function(e){return e&&0<Object.getOwnPropertyNames(e).length?se(e).map((function(t){return"".concat(t,"=").concat(encodeURIComponent(e[t]))})).join("&"):""},t.getAdUnitSizes=function(e){if(e){var t,n=[];return e.mediaTypes&&e.mediaTypes.banner&&Array.isArray(e.mediaTypes.banner.sizes)?(t=e.mediaTypes.banner.sizes,Array.isArray(t[0])?n=t:n.push(t)):Array.isArray(e.sizes)&&(Array.isArray(e.sizes[0])?n=e.sizes:n.push(e.sizes)),n}},t.parseSizesInput=function(e){var t=[];if("string"==typeof e){var n=e.split(","),r=/^(\d)+x(\d)+$/i;if(n)for(var i in n)Z(n,i)&&n[i].match(r)&&t.push(n[i])}else if("object"===v(e)){var a=e.length;if(0<a)if(2===a&&"number"==typeof e[0]&&"number"==typeof e[1])t.push(R(e));else for(var o=0;o<a;o++)t.push(R(e[o]))}return t},t.parseGPTSingleSizeArray=R,t.parseGPTSingleSizeArrayToRtbSize=function(e){if(j(e))return{w:e[0],h:e[1]}},t.getWindowTop=M,t.getWindowSelf=B,t.getWindowLocation=U,t.logMessage=L,t.logInfo=V,t.logWarn=F,t.logError=G,t.hasConsoleLogger=function(){return A},t.debugTurnedOn=z,t.createInvisibleIframe=function(){var e=document.createElement("iframe");return e.id=D(),e.height=0,e.width=0,e.border="0px",e.hspace="0",e.vspace="0",e.marginWidth="0",e.marginHeight="0",e.style.border="0",e.scrolling="no",e.frameBorder="0",e.src="about:blank",e.style.display="none",e},t.getParameterByName=function(e){return ye(U().search)[e]||""},t.isA=W,t.isFn=H,t.isStr=K,t.isArray=Y,t.isNumber=$,t.isPlainObject=J,t.isBoolean=function(e){return W(e,E)},t.isEmpty=X,t.isEmptyStr=function(e){return K(e)&&(!e||0===e.length)},t._each=Q,t.contains=function(e,t){if(X(e))return!1;if(H(e.indexOf))return-1!==e.indexOf(t);for(var n=e.length;n--;)if(e[n]===t)return!0;return!1},t._map=function(e,t){if(X(e))return[];if(H(e.map))return e.map(t);var n=[];return Q(e,(function(r,i){n.push(t(r,i,e))})),n},t.hasOwn=Z,t.insertElement=ee,t.triggerPixel=te,t.callBurl=function(e){var t=e.source,n=e.burl;t===b.S2S.SRC&&n&&T.triggerPixel(n)},t.insertHtmlIntoIframe=function(e){if(e){var t=document.createElement("iframe");t.id=D(),t.width=0,t.height=0,t.hspace="0",t.vspace="0",t.marginWidth="0",t.marginHeight="0",t.style.display="none",t.style.height="0px",t.style.width="0px",t.scrolling="no",t.frameBorder="0",t.allowtransparency="true",T.insertElement(t,document,"body"),t.contentWindow.document.open(),t.contentWindow.document.write(e),t.contentWindow.document.close()}},t.insertUserSyncIframe=ne,t.createTrackPixelHtml=function(e){return e?'<div style="position:absolute;left:0px;top:0px;visibility:hidden;">'+'<img src="'+encodeURI(e)+'"></div>':""},t.createTrackPixelIframeHtml=re,t.getValueString=ie,t.uniques=ae,t.flatten=oe,t.getBidRequest=function(e,t){return e?(t.some((function(t){var r=s()(t.bids,(function(t){return["bidId","adId","bid_id"].some((function(n){return t[n]===e}))}));return r&&(n=r),r})),n):void 0;var n},t.getKeys=se,t.getValue=function(e,t){return e[t]},t.getKeyByValue=function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&e[n]===t)return n},t.getBidderCodes=function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:pbjs.adUnits).map((function(e){return e.bids.map((function(e){return e.bidder})).reduce(oe,[])})).reduce(oe).filter(ae)},t.isGptPubadsDefined=ue,n.d(t,"getHighestCpm",(function(){return ce})),n.d(t,"getOldestHighestCpmBid",(function(){return de})),n.d(t,"getLatestHighestCpmBid",(function(){return le})),t.shuffle=function(e){for(var t=e.length;0<t;){var n=Math.floor(Math.random()*t),r=e[--t];e[t]=e[n],e[n]=r}return e},t.adUnitsFilter=function(e,t){return c()(e,t&&t.adUnitCode)},t.deepClone=pe,t.inIframe=function(){try{return T.getWindowSelf()!==T.getWindowTop()}catch(e){return!0}},t.isSafariBrowser=function(){return/^((?!chrome|android|crios|fxios).)*safari/i.test(navigator.userAgent)},t.replaceAuctionPrice=function(e,t){if(e)return e.replace(/\$\{AUCTION_PRICE\}/g,t)},t.replaceClickThrough=function(e,t){if(e&&t&&"string"==typeof t)return e.replace(/\${CLICKTHROUGH}/g,t)},t.timestamp=function(){return(new Date).getTime()},t.getPerformanceNow=function(){return window.performance&&window.performance.now&&window.performance.now()||0},t.hasDeviceAccess=function(){return!1!==r.b.getConfig("deviceAccess")},t.checkCookieSupport=he,t.delayExecution=function(e,t){if(t<1)throw new Error("numRequiredCalls must be a positive number. Got ".concat(t));var n=0;return function(){++n===t&&e.apply(this,arguments)}},t.groupBy=function(e,t){return e.reduce((function(e,n){return(e[n[t]]=e[n[t]]||[]).push(n),e}),{})},t.getDefinedParams=function(e,t){return t.filter((function(t){return e[t]})).reduce((function(t,n){return g(t,m({},n,e[n]))}),{})},t.isValidMediaTypes=function(e){var t=["banner","native","video"];return!!Object.keys(e).every((function(e){return c()(t,e)}))&&(!e.video||!e.video.context||c()(["instream","outstream","adpod"],e.video.context))},t.getBidderRequest=function(e,t,n){return s()(e,(function(e){return 0<e.bids.filter((function(e){return e.bidder===t&&e.adUnitCode===n})).length}))||{start:null,auctionId:null}},t.getUserConfiguredParams=function(e,t,n){return e.filter((function(e){return e.code===t})).map((function(e){return e.bids})).reduce(oe,[]).filter((function(e){return e.bidder===n})).map((function(e){return e.params||{}}))},t.getOrigin=function(){return window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"")},t.getDNT=function(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNotTrack||"yes"===navigator.doNotTrack},t.isAdUnitCodeMatchingSlot=function(e){return function(t){return me(e,t)}},t.isSlotMatchingAdUnitCode=ge,t.getGptSlotInfoForAdUnitCode=function(e){var t;return ue()&&(t=s()(window.googletag.pubads().getSlots(),ge(e))),t?{gptSlot:t.getAdUnitPath(),divId:t.getSlotElementId()}:{}},t.unsupportedBidderMessage=function(e,t){var n=Object.keys(e.mediaTypes||{banner:"banner"}).join(", ");return"\n    ".concat(e.code," is a ").concat(n," ad unit\n    containing bidders that don't support ").concat(n,": ").concat(t,".\n    This bidder won't fetch demand.\n  ")},t.isInteger=ve,t.convertCamelToUnderscore=function(e){return e.replace(/(?:^|\.?)([A-Z])/g,(function(e,t){return"_"+t.toLowerCase()})).replace(/^_/,"")},t.cleanObj=function(e){return Object.keys(e).reduce((function(t,n){return void 0!==e[n]&&(t[n]=e[n]),t}),{})},t.pick=function(e,t){return"object"===v(e)?t.reduce((function(n,r,i){if("function"==typeof r)return n;var a=r,o=r.match(/^(.+?)\sas\s(.+?)$/i);o&&(r=o[1],a=o[2]);var s=e[r];return"function"==typeof t[i+1]&&(s=t[i+1](s,n)),void 0!==s&&(n[a]=s),n}),{}):{}},t.transformBidderParamKeywords=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"keywords",n=[];return Q(e,(function(e,r){if(Y(e)){var i=[];Q(e,(function(e){!(e=ie(t+"."+r,e))&&""!==e||i.push(e)})),e=i}else{if(!K(e=ie(t+"."+r,e)))return;e=[e]}n.push({key:r,value:e})})),n},t.convertTypes=function(e,t){return Object.keys(e).forEach((function(n){var r,i;t[n]&&(H(e[n])?t[n]=e[n](t[n]):t[n]=(r=e[n],i=t[n],"string"===r?i&&i.toString():"number"===r?Number(i):i),isNaN(t[n])&&delete t.key)})),t},t.isArrayOfNums=function(e,t){return Y(e)&&(!t||e.length===t)&&e.every(ve)},t.fill=function(e,t){for(var n=[],r=0;r<t;r++){var i=J(e)?pe(e):e;n.push(i)}return n},t.chunk=function(e,t){for(var n=[],r=0;r<Math.ceil(e.length/t);r++){var i=r*t,a=i+t;n.push(e.slice(i,a))}return n},t.getMinValueFromArray=function(e){return Math.min.apply(Math,f(e))},t.getMaxValueFromArray=function(e){return Math.max.apply(Math,f(e))},t.compareOn=function(e){return function(t,n){return t[e]<n[e]?1:t[e]>n[e]?-1:0}},t.parseQS=ye,t.formatQS=be,t.parseUrl=function(e,t){var n=document.createElement("a");t&&"noDecodeWholeURL"in t&&t.noDecodeWholeURL?n.href=e:n.href=decodeURIComponent(e);var r=t&&"decodeSearchAsString"in t&&t.decodeSearchAsString;return{href:n.href,protocol:(n.protocol||"").replace(/:$/,""),hostname:n.hostname,port:+n.port,pathname:n.pathname.replace(/^(?!\/)/,"/"),search:r?n.search:T.parseQS(n.search||""),hash:(n.hash||"").replace(/^#/,""),host:n.host||window.location.host}},t.buildUrl=function(e){return(e.protocol||"http")+"://"+(e.host||e.hostname+(e.port?":".concat(e.port):""))+(e.pathname||"")+(e.search?"?".concat(T.formatQS(e.search||"")):"")+(e.hash?"#".concat(e.hash):"")},t.deepEqual=Ee,t.mergeDeep=function e(t){for(var n=arguments.length,r=new Array(1<n?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if(!r.length)return t;var a=r.shift();if(J(t)&&J(a))for(var o in a)J(a[o])?(t[o]||g(t,m({},o,{})),e(t[o],a[o])):Y(a[o])&&t[o]?Y(t[o])&&(t[o]=t[o].concat(a[o])):g(t,m({},o,a[o]));return e.apply(void 0,[t].concat(r))},t.cyrb53Hash=function(e){for(var t,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=function(e,t){if(H(Math.imul))return Math.imul(e,t);var n=(4194303&e)*(t|=0);return 4290772992&e&&(n+=(4290772992&e)*t|0),0|n},i=3735928559^n,a=1103547991^n,o=0;o<e.length;o++)i=r(i^(t=e.charCodeAt(o)),2654435761),a=r(a^t,1597334677);return i=r(i^i>>>16,2246822507)^r(a^a>>>13,3266489909),(4294967296*(2097151&(a=r(a^a>>>16,2246822507)^r(i^i>>>13,3266489909)))+(i>>>0)).toString()};var r=n(3),i=n(162),a=n.n(i),o=n(10),s=n.n(o),u=n(13),c=n.n(u),d=n(163);n.d(t,"deepAccess",(function(){return d.a}));var l=n(164);function f(e){return (function(e){if(Array.isArray(e))return h(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||p(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function p(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return(v="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}n.d(t,"deepSetValue",(function(){return l.a}));var y,b=n(5),E="Boolean",_=Object.prototype.toString,S=Boolean(window.console),A=Boolean(S&&window.console.log),w=Boolean(S&&window.console.info),O=Boolean(S&&window.console.warn),I=Boolean(S&&window.console.error),C=n(9),T={checkCookieSupport:he,createTrackPixelIframeHtml:re,getWindowSelf:B,getWindowTop:M,getWindowLocation:U,insertUserSyncIframe:ne,insertElement:ee,isFn:H,triggerPixel:te,logError:G,logWarn:F,logMessage:L,logInfo:V,parseQS:ye,formatQS:be,deepEqual:Ee},P={},x={},k=function(e,t){return t}.bind(null,1,x)()===x?Function.prototype.bind:function(e){var t=this,n=Array.prototype.slice.call(arguments,1);return function(){return t.apply(e,n.concat(Array.prototype.slice.call(arguments)))}},N=(y=0,function(){return++y});function D(){return N()+Math.random().toString(16).substr(2)}function R(e){if(j(e))return e[0]+"x"+e[1]}function j(e){return Y(e)&&2===e.length&&!isNaN(e[0])&&!isNaN(e[1])}function M(){return window.top}function B(){return window.self}function U(){return window.location}function L(){z()&&A&&console.log.apply(console,q(arguments,"MESSAGE:"))}function V(){z()&&w&&console.info.apply(console,q(arguments,"INFO:"))}function F(){z()&&O&&console.warn.apply(console,q(arguments,"WARNING:")),C.emit(b.EVENTS.AUCTION_DEBUG,{type:"WARNING",arguments:arguments})}function G(){z()&&I&&console.error.apply(console,q(arguments,"ERROR:")),C.emit(b.EVENTS.AUCTION_DEBUG,{type:"ERROR",arguments:arguments})}function q(e,t){e=[].slice.call(e);var n=r.b.getCurrentBidder();return t&&e.unshift(t),n&&e.unshift(i("#aaa")),e.unshift(i("#3b88c3")),e.unshift("%cPrebid"+(n?"%c".concat(n):"")),e;function i(e){return"display: inline-block; color: #fff; background: ".concat(e,"; padding: 1px 4px; border-radius: 3px;")}}function z(){return!!r.b.getConfig("debug")}function W(e,t){return _.call(e)==="[object "+t+"]"}function H(e){return W(e,"Function")}function K(e){return W(e,"String")}function Y(e){return W(e,"Array")}function $(e){return W(e,"Number")}function J(e){return W(e,"Object")}function X(e){if(!e)return!0;if(Y(e)||K(e))return!(0<e.length);for(var t in e)if(hasOwnProperty.call(e,t))return!1;return!0}function Q(e,t){if(!X(e)){if(H(e.forEach))return e.forEach(t,this);var n=0,r=e.length;if(0<r)for(;n<r;n++)t(e[n],n,e);else for(n in e)hasOwnProperty.call(e,n)&&t.call(this,e[n],n)}}function Z(e,t){return e.hasOwnProperty?e.hasOwnProperty(t):void 0!==e[t]&&e.constructor.prototype[t]!==e[t]}function ee(e,t,n,r){var i;t=t||document,i=n?t.getElementsByTagName(n):t.getElementsByTagName("head");try{if((i=i.length?i:t.getElementsByTagName("body")).length){i=i[0];var a=r?null:i.firstChild;return i.insertBefore(e,a)}}catch(e){}}function te(e,t){var n=new Image;t&&T.isFn(t)&&(n.addEventListener("load",t),n.addEventListener("error",t)),n.src=e}function ne(e,t){var n=T.createTrackPixelIframeHtml(e,!1,"allow-scripts allow-same-origin"),r=document.createElement("div");r.innerHTML=n;var i=r.firstChild;t&&T.isFn(t)&&(i.addEventListener("load",t),i.addEventListener("error",t)),T.insertElement(i,document,"html",!0)}function re(e){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"";return e?((!(1<arguments.length&&void 0!==arguments[1])||arguments[1])&&(e=encodeURI(e)),t=t&&'sandbox="'.concat(t,'"'),"<iframe ".concat(t,' id="').concat(D(),'"\n      frameborder="0"\n      allowtransparency="true"\n      marginheight="0" marginwidth="0"\n      width="0" hspace="0" vspace="0" height="0"\n      style="height:0px;width:0px;display:none;"\n      scrolling="no"\n      src="').concat(e,'">\n    </iframe>')):""}function ie(e,t,n){return null==t?n:K(t)?t:$(t)?t.toString():void T.logWarn("Unsuported type for param: "+e+" required type: String")}function ae(e,t,n){return n.indexOf(e)===t}function oe(e,t){return e.concat(t)}function se(e){return Object.keys(e)}function ue(){if(window.googletag&&H(window.googletag.pubads)&&H(window.googletag.pubads().getSlots))return!0}var ce=fe("timeToRespond",(function(e,t){return t<e})),de=fe("responseTimestamp",(function(e,t){return t<e})),le=fe("responseTimestamp",(function(e,t){return e<t}));function fe(e,t){return function(n,r){return n.cpm===r.cpm?t(n[e],r[e])?r:n:n.cpm<r.cpm?r:n}}function pe(e){return a()(e)}function he(){if(window.navigator.cookieEnabled||document.cookie.length)return!0}var me=function(e,t){return e.getAdUnitPath()===t||e.getSlotElementId()===t};function ge(e){return function(t){return me(t,e)}}function ve(e){return Number.isInteger?Number.isInteger(e):"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}function ye(e){return e?e.replace(/^\?/,"").split("&").reduce((function(e,t){var n=(function(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||p(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()})(t.split("="),2),r=n[0],i=n[1];return/\[\]$/.test(r)?(e[r=r.replace("[]","")]=e[r]||[],e[r].push(i)):e[r]=i||"",e}),{}):{}}function be(e){return Object.keys(e).map((function(t){return Array.isArray(e[t])?e[t].map((function(e){return"".concat(t,"[]=").concat(e)})).join("&"):"".concat(t,"=").concat(e[t])})).join("&")}function Ee(e,t){if(e===t)return!0;if("object"!==v(e)||null===e||"object"!==v(t)||null===t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e){if(!t.hasOwnProperty(n))return!1;if(!Ee(e[n],t[n]))return!1}return!0}},1:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return w})),t.registerBidder=function(e){var t=Array.isArray(e.supportedMediaTypes)?{supportedMediaTypes:e.supportedMediaTypes}:void 0;function n(e){var n=I(e);i.default.registerBidAdapter(n,e.code,t)}n(e),Array.isArray(e.aliases)&&e.aliases.forEach((function(t){var r,a,o=t;Object(v.isPlainObject)(t)&&(o=t.code,r=t.gvlid,a=t.skipPbsAliasing),i.default.aliasRegistry[o]=e.code,n(A({},e,{code:o,gvlid:r,skipPbsAliasing:a}))}))},t.newBidder=I,n.d(t,"registerSyncInner",(function(){return C})),t.preloadBidderMappingFile=T,t.getIabSubCategory=function(e,t){var n=i.default.getBidAdapter(e);if(n.getSpec().getMappingFileInfo){var r=n.getSpec().getMappingFileInfo(),a=r.localStorageKey?r.localStorageKey:n.getBidderCode(),o=w.getDataFromLocalStorage(a);if(o){try{o=JSON.parse(o)}catch(t){Object(v.logError)("Failed to parse ".concat(e," mapping data stored in local storage"))}return o.mapping[t]?o.mapping[t]:null}}},t.isValid=P;var r=n(95),i=n(8),a=n(3),o=n(35),s=n(43),u=n(38),c=n(24),d=n(5),l=n.n(d),f=n(9),p=n.n(f),h=n(13),m=n.n(h),g=n(4),v=n(0),y=n(2),b=n(11),E=n(7);function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(e){return(S="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function A(){return(A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var w=Object(E.a)("bidderFactory"),O=["requestId","cpm","ttl","creativeId","netRevenue","currency"];function I(e){return A(new r.a(e.code),{getSpec:function(){return Object.freeze(e)},registerSyncs:t,callBids:function(r,i,s,u,c,d){var f,h,m,g,y,b;function E(){s(),a.b.runWithBidder(e.code,(function(){p.a.emit(l.a.EVENTS.BIDDER_DONE,r),t(h,r.gdprConsent,r.uspConsent)}))}Array.isArray(r.bids)&&(f={},h=[],0!==(m=r.bids.filter(n)).length?(g={},m.forEach((function(e){(g[e.bidId]=e).adUnitCode||(e.adUnitCode=e.placementCode)})),(y=e.buildRequests(m,r))&&0!==y.length?(Array.isArray(y)||(y=[y]),b=Object(v.delayExecution)(d(E),y.length),y.forEach((function(t){switch(t.method){case"GET":u("".concat(t.url).concat(function(e){return e?"?".concat("object"===S(e)?Object(v.parseQueryStringParameters)(e):e):""}(t.data)),{success:d(n),error:a},void 0,A({method:"GET",withCredentials:!0},t.options));break;case"POST":u(t.url,{success:d(n),error:a},"string"==typeof t.data?t.data:JSON.stringify(t.data),A({method:"POST",contentType:"text/plain",withCredentials:!0},t.options));break;default:Object(v.logWarn)("Skipping invalid request from ".concat(e.code,". Request type ").concat(t.type," must be GET or POST")),b()}function n(n,a){c(e.code);try{n=JSON.parse(n)}catch(n){}var s;n={body:n,headers:{get:a.getResponseHeader.bind(a)}},h.push(n);try{s=e.interpretResponse(n,t)}catch(n){return Object(v.logError)("Bidder ".concat(e.code," failed to interpret the server's response. Continuing without bids"),null,n),void b()}function u(t){var n,a,s,u=g[t.requestId];u?(t.originalCpm=t.cpm,t.originalCurrency=t.currency,t.meta=t.meta||A({},t[u.bidder]),n=A(Object(o.a)(l.a.STATUS.GOOD,u),t),a=u.adUnitCode,s=n,f[a]=!0,P(a,s,[r])&&i(a,s)):Object(v.logWarn)("Bidder ".concat(e.code," made bid for unknown request ID: ").concat(t.requestId,". Ignoring."))}s&&(Object(v.isArray)(s)?s.forEach(u):u(s)),b(s)}function a(t){c(e.code),Object(v.logError)("Server call for ".concat(e.code," failed: ").concat(t,". Continuing without bids.")),b()}}))):E()):E())}});function t(t,n,r){C(e,t,n,r)}function n(t){return!!e.isBidRequestValid(t)||(Object(v.logWarn)("Invalid bid sent to bidder ".concat(e.code,": ").concat(JSON.stringify(t))),!1)}}var C=Object(b.b)("async",(function(e,t,n,r){var o,u,c=a.b.getConfig("userSync.aliasSyncEnabled");!e.getUserSyncs||!c&&i.default.aliasRegistry[e.code]||(o=a.b.getConfig("userSync.filterSettings"),(u=e.getUserSyncs({iframeEnabled:!(!o||!o.iframe&&!o.all),pixelEnabled:!(!o||!o.image&&!o.all)},t,n,r))&&(Array.isArray(u)||(u=[u]),u.forEach((function(t){s.a.registerSync(t.type,e.code,t.url)}))))}),"registerSyncs");function T(e,t){if(!a.b.getConfig("adpod.brandCategoryExclusion"))return e.call(this,t);t.filter((function(e){return Object(v.deepAccess)(e,"mediaTypes.video.context")===y.a})).map((function(e){return e.bids.map((function(e){return e.bidder}))})).reduce(v.flatten,[]).filter(v.uniques).forEach((function(e){var t=i.default.getBidAdapter(e);if(t.getSpec().getMappingFileInfo){var n=t.getSpec().getMappingFileInfo(),r=n.refreshInDays?n.refreshInDays:1,a=n.localStorageKey?n.localStorageKey:t.getSpec().code,o=w.getDataFromLocalStorage(a);try{(!(o=o?JSON.parse(o):void 0)||Object(v.timestamp)()>o.lastUpdated+24*r*60*60*1e3)&&Object(g.a)(n.url,{success:function(t){try{t=JSON.parse(t);var n={lastUpdated:Object(v.timestamp)(),mapping:t.mapping};w.setDataInLocalStorage(a,JSON.stringify(n))}catch(t){Object(v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}},error:function(){Object(v.logError)("Failed to load ".concat(e," bidder translation file"))}})}catch(t){Object(v.logError)("Failed to parse ".concat(e," bidder translation mapping file"))}}})),e.call(this,t)}function P(e,t,n){function r(e){return"Invalid bid from ".concat(t.bidderCode,". Ignoring bid: ").concat(e)}return e?t?(i=Object.keys(t),O.every((function(e){return m()(i,e)&&!m()([void 0,null],t[e])}))?"native"!==t.mediaType||Object(u.g)(t,n)?"video"!==t.mediaType||Object(c.d)(t,n)?!("banner"===t.mediaType&&!(function(e,t,n){if((t.width||0===parseInt(t.width,10))&&(t.height||0===parseInt(t.height,10)))return t.width=parseInt(t.width,10),t.height=parseInt(t.height,10),1;var r=Object(v.getBidderRequest)(n,t.bidderCode,e),i=r&&r.bids&&r.bids[0]&&r.bids[0].sizes,a=Object(v.parseSizesInput)(i);if(1===a.length){var o=(function(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()})(a[0].split("x"),2),s=o[0],u=o[1];return t.width=parseInt(s,10),t.height=parseInt(u,10),1}})(e,t,n)&&(Object(v.logError)(r("Banner bids require a width and height")),1)):(Object(v.logError)(r("Video bid does not have required vastUrl or renderer property")),!1):(Object(v.logError)(r("Native bid missing some required properties.")),!1):(Object(v.logError)(r("Bidder ".concat(t.bidderCode," is missing required params. Check http://prebid.org/dev-docs/bidder-adapter-1.html for list of params."))),!1)):(Object(v.logWarn)("Some adapter tried to add an undefined bid for ".concat(e,".")),!1):(Object(v.logWarn)("No adUnitCode was supplied to addBidResponse."),!1);var i}Object(b.a)("checkAdUnitSetup").before(T)},10:function(e,t,n){var r=n(100);e.exports=r},100:function(e,t,n){n(101);var r=n(52);e.exports=r("Array","find")},101:function(e,t,n){var r=n(14),i=n(56).find,a=n(51),o=n(60),s="find",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{find:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),a(s)},102:function(e,t,n){var r=n(29),i=n(103),a=n(45),o=n(46),s=n(55),u=n(27),c=n(76),d=Object.getOwnPropertyDescriptor;t.f=r?d:function(e,t){if(e=o(e),t=s(t,!0),c)try{return d(e,t)}catch(e){}if(u(e,t))return a(!i.f.call(e,t),e[t])}},1025:function(e,t,n){e.exports=n(72)},103:function(e,t,n){var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},104:function(e,t,n){function r(e,t){var n=s[o(e)];return n==c||n!=u&&("function"==typeof t?i(t):!!t)}var i=n(30),a=/#|\.prototype\./,o=r.normalize=function(e){return String(e).replace(a,".").toLowerCase()},s=r.data={},u=r.NATIVE="N",c=r.POLYFILL="P";e.exports=r},105:function(e,t,n){var r=n(31),i=n(106),a=n(22)("species");e.exports=function(e,t){var n;return i(e)&&("function"==typeof(n=e.constructor)&&(n===Array||i(n.prototype))||r(n)&&null===(n=n[a]))&&(n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},106:function(e,t,n){var r=n(47);e.exports=Array.isArray||function(e){return"Array"==r(e)}},107:function(e,t,n){var r=n(26),i=n(32);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},108:function(e,t,n){var r=n(80);e.exports=r&&!Symbol.sham&&"symbol"==_typeof(Symbol.iterator)},109:function(e,t,n){n(110);var r=n(52);e.exports=r("Array","includes")},11:function(e,t,n){n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),t.d=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:15;0===e.getHooks({hook:t}).length&&e.before(t,n)},t.c=function(e,t){o("async",(function(e){e.forEach((function(e){return t.apply(void 0,(function(e){if(Array.isArray(e))return a(e)})(n=e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(n)||(function(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}})(n)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})());var n}))}),e)([])},t.e=function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];s(e).before((function(e,t){t.push(n),e(t)}))};var r=n(165),i=n.n(r);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=i()({ready:i.a.SYNC|i.a.ASYNC|i.a.QUEUE}),s=o.get},110:function(e,t,n){var r=n(14),i=n(81).includes,a=n(51);r({target:"Array",proto:!0,forced:!n(60)("indexOf",{ACCESSORS:!0,1:0})},{includes:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),a("includes")},111:function(e,t,n){var r=n(58),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},112:function(e,t,n){n(113),n(130),n(92),n(132);var r=n(49);e.exports=r.Set},113:function(e,t,n){var r=n(114),i=n(119);e.exports=r("Set",(function(e){return function(t){return e(this,arguments.length?t:void 0)}}),i)},114:function(e,t,n){var r=n(14),i=n(26),a=n(83),o=n(30),s=n(32),u=n(18),c=n(86),d=n(31),l=n(64),f=n(34).f,p=n(56).forEach,h=n(29),m=n(54),g=m.set,v=m.getterFor;e.exports=function(e,t,n){var m,y,b=-1!==e.indexOf("Map"),E=-1!==e.indexOf("Weak"),_=b?"set":"add",S=i[e],A=S&&S.prototype,w={};return h&&"function"==typeof S&&(E||A.forEach&&!o((function(){(new S).entries().next()})))?(m=t((function(t,n){g(c(t,m,e),{type:e,collection:new S}),null!=n&&u(n,t[_],t,b)})),y=v(e),p(["add","clear","delete","forEach","get","has","set","keys","values","entries"],(function(e){var t="add"==e||"set"==e;e in A&&(!E||"clear"!=e)&&s(m.prototype,e,(function(n,r){var i=y(this).collection;if(!t&&E&&!d(n))return"get"==e&&void 0;var a=i[e](0===n?0:n,r);return t?this:a}))})),E||f(m.prototype,"size",{configurable:!0,get:function(){return y(this).collection.size}})):(m=n.getConstructor(t,e,b,_),a.REQUIRED=!0),l(m,e,!1,!0),w[e]=m,r({global:!0,forced:!0},w),E||n.setStrong(m,e,b),m}},115:function(e,t,n){var r=n(30);e.exports=!r((function(){return Object.isExtensible(Object.preventExtensions({}))}))},116:function(e,t,n){var r=n(63),i=n(62);e.exports=r?{}.toString:function(){return"[object "+i(this)+"]"}},117:function(e,t,n){var r=n(26),i=n(118),a=r.WeakMap;e.exports="function"==typeof a&&/native code/.test(i(a))},118:function(e,t,n){var r=n(79),i=Function.toString;"function"!=typeof r.inspectSource&&(r.inspectSource=function(e){return i.call(e)}),e.exports=r.inspectSource},119:function(e,t,n){var r=n(34).f,i=n(87),a=n(124),o=n(25),s=n(86),u=n(18),c=n(66),d=n(129),l=n(29),f=n(83).fastKey,p=n(54),h=p.set,m=p.getterFor;e.exports={getConstructor:function(e,t,n,c){function d(e,t,n){var r,i,a=g(e),o=v(e,t);return o?o.value=n:(a.last=o={index:i=f(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),l?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e}var p=e((function(e,r){s(e,p,t),h(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),l||(e.size=0),null!=r&&u(r,e[c],e,n)})),g=m(t),v=function(e,t){var n,r=g(e),i=f(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(p.prototype,{clear:function(){for(var e=g(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,l?e.size=0:this.size=0},delete:function(e){var t,n,r=g(this),i=v(this,e);return i&&(t=i.next,n=i.previous,delete r.index[i.index],i.removed=!0,n&&(n.next=t),t&&(t.previous=n),r.first==i&&(r.first=t),r.last==i&&(r.last=n),l?r.size--:this.size--),!!i},forEach:function(e,t){for(var n,r=g(this),i=o(e,1<arguments.length?t:void 0,3);n=n?n.next:r.first;)for(i(n.value,n.key,this);n&&n.removed;)n=n.previous},has:function(e){return!!v(this,e)}}),a(p.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return d(this,0===e?0:e,t)}}:{add:function(e){return d(this,e=0===e?0:e,e)}}),l&&r(p.prototype,"size",{get:function(){return g(this).size}}),p},setStrong:function(e,t,n){var r=t+" Iterator",i=m(t),a=m(r);c(e,t,(function(e,t){h(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:{value:e.target=void 0,done:!0}}),n?"entries":"values",!n,!0),d(t)}}},12:function(e,t,n){t.a=u,t.c=function(e){return!(!e||!e.url)},t.b=function(e,t){e.render(t)};var r=n(39),i=n(0),a=n(10),o=n.n(a),s="outstream";function u(e){var t=this,n=e.url,a=e.config,u=e.id,c=e.callback,d=e.loaded,l=e.adUnitCode;this.url=n,this.config=a,this.handlers={},this.id=u,this.loaded=d,this.cmd=[],this.push=function(e){"function"==typeof e?t.loaded?e.call():t.cmd.push(e):i.logError("Commands given to Renderer.push must be wrapped in a function")},this.callback=c||function(){t.loaded=!0,t.process()},this.render=function(){function e(){t._render?t._render.apply(t,a):i.logWarn("No render function was provided, please use .setRender on the renderer")}var t=this,a=arguments;!(function(e){var t=pbjs.adUnits,n=o()(t,(function(t){return t.code===e}));if(!n)return!1;var r=i.deepAccess(n,"renderer"),a=!!(r&&r.url&&r.render),s=i.deepAccess(n,"mediaTypes.video.renderer"),u=!!(s&&s.url&&s.render);return!!(a&&!0!==r.backupOnly||u&&!0!==s.backupOnly)})(l)?(this.cmd.unshift(e),Object(r.a)(n,s,this.callback)):(i.logWarn("External Js not loaded by Renderer since renderer url and callback is already defined on adUnit ".concat(l)),e())}.bind(this)}u.install=function(e){return new u({url:e.url,config:e.config,id:e.id,callback:e.callback,loaded:e.loaded,adUnitCode:e.adUnitCode})},u.prototype.getConfig=function(){return this.config},u.prototype.setRender=function(e){this._render=e},u.prototype.setEventHandlers=function(e){this.handlers=e},u.prototype.handleVideoEvent=function(e){var t=e.id,n=e.eventName;"function"==typeof this.handlers[n]&&this.handlers[n](),i.logMessage("Prebid Renderer event for id ".concat(t," type ").concat(n))},u.prototype.process=function(){for(;0<this.cmd.length;)try{this.cmd.shift().call()}catch(e){i.logError("Error processing Renderer command: ",e)}}},120:function(e,t,n){var r=n(29),i=n(34),a=n(15),o=n(121);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,u=0;u<s;)i.f(e,n=r[u++],t[n]);return e}},121:function(e,t,n){var r=n(122),i=n(88);e.exports=Object.keys||function(e){return r(e,i)}},122:function(e,t,n){var r=n(27),i=n(46),a=n(81).indexOf,o=n(53);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~a(c,n)||c.push(n));return c}},123:function(e,t,n){var r=n(28);e.exports=r("document","documentElement")},124:function(e,t,n){var r=n(89);e.exports=function(e,t,n){for(var i in t)n&&n.unsafe&&e[i]?e[i]=t[i]:r(e,i,t[i],n);return e}},125:function(e,t,n){function r(){return this}var i=n(90).IteratorPrototype,a=n(87),o=n(45),s=n(64),u=n(40);e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=a(i,{next:o(1,n)}),s(e,c,!1,!0),u[c]=r,e}},126:function(e,t,n){var r=n(30);e.exports=!r((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},127:function(e,t,n){var r=n(15),i=n(128);e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(n){}return function(n,a){return r(n),i(a),t?e.call(n,a):n.__proto__=a,n}})():void 0)},128:function(e,t,n){var r=n(31);e.exports=function(e){if(!r(e)&&null!==e)throw TypeError("Can't set "+String(e)+" as a prototype");return e}},129:function(e,t,n){var r=n(28),i=n(34),a=n(22),o=n(29),s=a("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[s]&&n(t,s,{configurable:!0,get:function(){return this}})}},13:function(e,t,n){var r=n(109);e.exports=r},130:function(e,t){},131:function(e,t,n){function r(e){return function(t,n){var r,o,s=String(a(t)),u=i(n),c=s.length;return u<0||c<=u?e?"":void 0:(r=s.charCodeAt(u))<55296||56319<r||u+1===c||(o=s.charCodeAt(u+1))<56320||57343<o?e?s.charAt(u):r:e?s.slice(u,u+2):o-56320+(r-55296<<10)+65536}}var i=n(58),a=n(48);e.exports={codeAt:r(!1),charAt:r(!0)}},132:function(e,t,n){n(133);var r=n(134),i=n(26),a=n(62),o=n(32),s=n(40),u=n(22)("toStringTag");for(var c in r){var d=i[c],l=d&&d.prototype;l&&a(l)!==u&&o(l,u,c),s[c]=s.Array}},133:function(e,t,n){var r=n(46),i=n(51),a=n(40),o=n(54),s=n(66),u="Array Iterator",c=o.set,d=o.getterFor(u);e.exports=s(Array,"Array",(function(e,t){c(this,{type:u,target:r(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?{value:e.target=void 0,done:!0}:"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},134:function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},135:function(e,t,n){n(14)({target:"Set",stat:!0},{from:n(136)})},136:function(e,t,n){var r=n(21),i=n(25),a=n(18);e.exports=function(e,t,n){var o,s,u,c,d=arguments.length,l=1<d?t:void 0;return r(this),(o=void 0!==l)&&r(l),null==e?new this:(s=[],o?(u=0,c=i(l,2<d?n:void 0,2),a(e,(function(e){s.push(c(e,u++))}))):a(e,s.push,s),new this(s))}},137:function(e,t,n){n(14)({target:"Set",stat:!0},{of:n(138)})},138:function(e,t,n){e.exports=function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}},139:function(e,t,n){var r=n(14),i=n(17),a=n(140);r({target:"Set",proto:!0,real:!0,forced:i},{addAll:function(){return a.apply(this,arguments)}})},14:function(e,t,n){function r(e){function t(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)}return t.prototype=e.prototype,t}var i=n(26),a=n(102).f,o=n(104),s=n(49),u=n(25),c=n(32),d=n(27);e.exports=function(e,t){var n,l,f,p,h,m,g,v,y=e.target,b=e.global,E=e.stat,_=e.proto,S=b?i:E?i[y]:(i[y]||{}).prototype,A=b?s:s[y]||(s[y]={}),w=A.prototype;for(f in t)n=!o(b?f:y+(E?".":"#")+f,e.forced)&&S&&d(S,f),h=A[f],n&&(m=e.noTargetGet?(v=a(S,f))&&v.value:S[f]),p=n&&m?m:t[f],n&&(void 0===h?"undefined":_typeof(h))==(void 0===p?"undefined":_typeof(p))||(g=e.bind&&n?u(p,i):e.wrap&&n?r(p):_&&"function"==typeof p?u(Function.call,p):p,(e.sham||p&&p.sham||h&&h.sham)&&c(g,"sham",!0),A[f]=g,_&&(d(s,l=y+"Prototype")||c(s,l,{}),s[l][f]=p,e.real&&w&&!w[f]&&c(w,f,p)))}},140:function(e,t,n){var r=n(15),i=n(21);e.exports=function(){for(var e=r(this),t=i(e.add),n=0,a=arguments.length;n<a;n++)t.call(e,arguments[n]);return e}},141:function(e,t,n){var r=n(14),i=n(17),a=n(142);r({target:"Set",proto:!0,real:!0,forced:i},{deleteAll:function(){return a.apply(this,arguments)}})},142:function(e,t,n){var r=n(15),i=n(21);e.exports=function(){for(var e,t=r(this),n=i(t.delete),a=!0,o=0,s=arguments.length;o<s;o++)e=n.call(t,arguments[o]),a=a&&e;return!!a}},143:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(25),s=n(37),u=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{every:function(e,t){var n=a(this),r=s(n),i=o(e,1<arguments.length?t:void 0,3);return!u(r,(function(e){if(!i(e,e,n))return u.stop()}),void 0,!1,!0).stopped}})},144:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(41),c=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{difference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n.delete);return c(e,(function(e){r.call(n,e)})),n}})},145:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(25),c=n(41),d=n(37),l=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{filter:function(e,t){var n=o(this),r=d(n),i=u(e,1<arguments.length?t:void 0,3),f=new(c(n,a("Set"))),p=s(f.add);return l(r,(function(e){i(e,e,n)&&p.call(f,e)}),void 0,!1,!0),f}})},146:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(25),s=n(37),u=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{find:function(e,t){var n=a(this),r=s(n),i=o(e,1<arguments.length?t:void 0,3);return u(r,(function(e){if(i(e,e,n))return u.stop(e)}),void 0,!1,!0).result}})},147:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(41),c=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{intersection:function(e){var t=o(this),n=new(u(t,a("Set"))),r=s(t.has),i=s(n.add);return c(e,(function(e){r.call(t,e)&&i.call(n,e)})),n}})},148:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(21),s=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{isDisjointFrom:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!0===n.call(t,e))return s.stop()})).stopped}})},149:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(93),c=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{isSubsetOf:function(e){var t=u(this),n=o(e),r=n.has;return"function"!=typeof r&&(n=new(a("Set"))(e),r=s(n.has)),!c(t,(function(e){if(!1===r.call(n,e))return c.stop()}),void 0,!1,!0).stopped}})},15:function(e,t,n){var r=n(31);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},150:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(21),s=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{isSupersetOf:function(e){var t=a(this),n=o(t.has);return!s(e,(function(e){if(!1===n.call(t,e))return s.stop()})).stopped}})},151:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(37),s=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{join:function(e){var t=a(this),n=o(t),r=void 0===e?",":String(e),i=[];return s(n,i.push,i,!1,!0),i.join(r)}})},152:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(25),c=n(41),d=n(37),l=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{map:function(e,t){var n=o(this),r=d(n),i=u(e,1<arguments.length?t:void 0,3),f=new(c(n,a("Set"))),p=s(f.add);return l(r,(function(e){p.call(f,i(e,e,n))}),void 0,!1,!0),f}})},153:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(21),s=n(37),u=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{reduce:function(e,t){var n=a(this),r=s(n),i=arguments.length<2,c=i?void 0:t;if(o(e),u(r,(function(t){c=i?(i=!1,t):e(c,t,t,n)}),void 0,!1,!0),i)throw TypeError("Reduce of empty set with no initial value");return c}})},154:function(e,t,n){var r=n(14),i=n(17),a=n(15),o=n(25),s=n(37),u=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{some:function(e,t){var n=a(this),r=s(n),i=o(e,1<arguments.length?t:void 0,3);return u(r,(function(e){if(i(e,e,n))return u.stop()}),void 0,!1,!0).stopped}})},155:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(41),c=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:function(e){var t=o(this),n=new(u(t,a("Set")))(t),r=s(n.delete),i=s(n.add);return c(e,(function(e){r.call(n,e)||i.call(n,e)})),n}})},156:function(e,t,n){var r=n(14),i=n(17),a=n(28),o=n(15),s=n(21),u=n(41),c=n(18);r({target:"Set",proto:!0,real:!0,forced:i},{union:function(e){var t=o(this),n=new(u(t,a("Set")))(t);return c(e,s(n.add),n),n}})},157:function(e,t,n){n(92),n(158);var r=n(49);e.exports=r.Array.from},158:function(e,t,n){var r=n(14),i=n(159);r({target:"Array",stat:!0,forced:!n(161)((function(e){Array.from(e)}))},{from:i})},159:function(e,t,n){var r=n(25),i=n(57),a=n(85),o=n(84),s=n(50),u=n(160),c=n(61);e.exports=function(e,t,n){var d,l,f,p,h,m,g=i(e),v="function"==typeof this?this:Array,y=arguments.length,b=1<y?t:void 0,E=void 0!==b,_=c(g),S=0;if(E&&(b=r(b,2<y?n:void 0,2)),null==_||v==Array&&o(_))for(l=new v(d=s(g.length));S<d;S++)m=E?b(g[S],S):g[S],u(l,S,m);else for(h=(p=_.call(g)).next,l=new v;!(f=h.call(p)).done;S++)m=E?a(p,b,[f.value,S],!0):f.value,u(l,S,m);return l.length=S,l}},16:function(e,t,n){t.a=function(){return window.pbjs},window.pbjs=window.pbjs||{},window.pbjs.cmd=window.pbjs.cmd||[],window.pbjs.que=window.pbjs.que||[],window._pbjsGlobals=window._pbjsGlobals||[],window._pbjsGlobals.push("pbjs")},160:function(e,t,n){var r=n(55),i=n(34),a=n(45);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},161:function(e,t,n){var r=n(22)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},162:function(e,t){e.exports=function e(t){var n=Array.isArray(t)?[]:{};for(var r in t){var i=t[r];n[r]=i&&"object"==(void 0===i?"undefined":_typeof(i))?e(i):i}return n}},163:function(e,t,n){t.a=function(e,t,n,r,i){for(t=t.split?t.split("."):t,r=0;r<t.length;r++)e=e?e[t[r]]:i;return e===i?n:e}},164:function(e,t,n){t.a=function(e,t,n){t.split&&(t=t.split("."));for(var r,i=0,a=t.length,o=e;i<a;++i)r=o[t[i]],o=o[t[i]]=i===a-1?n:null!=r?r:!~t[i+1].indexOf(".")&&-1<+t[i+1]?[]:{}}},165:function(e,t){u.SYNC=1,u.ASYNC=2,u.QUEUE=4;var n="fun-hooks",r=Object.freeze({useProxy:!0,ready:0}),i=new WeakMap,a="2,1,0"===[1].reduce((function(e,t,n){return[e,t,n]}),2).toString()?Array.prototype.reduce:function(e,t){var n,r=Object(this),i=r.length>>>0,a=0;if(t)n=t;else{for(;a<i&&!(a in r);)a++;n=r[a++]}for(;a<i;)a in r&&(n=e(n,r[a],a,r)),a++;return n};function o(e,t){return Array.prototype.slice.call(e,t)}var s=Object.assign||function(e){return a.call(o(arguments,1),(function(e,t){return t&&Object.keys(t).forEach((function(n){e[n]=t[n]})),e}),e)};function u(e){var t,c={},d=[];function l(e,t){return"function"==typeof e?h.call(null,"sync",e,t):"string"==typeof e&&"function"==typeof t?h.apply(null,arguments):"object"==(void 0===e?"undefined":_typeof(e))?function(e,t,n){var r=!0;void 0===t&&(t=Object.getOwnPropertyNames(e),r=!1);for(var i={},a=["constructor"];(t=t.filter((function(t){return!("function"!=typeof e[t]||-1!==a.indexOf(t)||t.match(/^_/))}))).forEach((function(t){var r,a=t.split(":"),o=a[0],s=a[1]||"sync";i[o]||(r=e[o],i[o]=e[o]=h(s,r,n?[n,o]:void 0))})),e=Object.getPrototypeOf(e),r&&e;);return i}.apply(null,arguments):void 0}function f(e){var r=Array.isArray(e)?e:e.split(".");return a.call(r,(function(i,a,o){var s=i[a],u=!1;return s||(o===r.length-1?(t||d.push((function(){u||console.warn(n+": referenced '"+e+"' but it was never created")})),i[a]=p((function(e){i[a]=e,u=!0}))):i[a]={})}),c)}function p(e){var t=[],n=[],r=function(){},a={before:function(e,n){return u.call(this,t,"before",e,n)},after:function(e,t){return u.call(this,n,"after",e,t)},getHooks:function(e){var r=t.concat(n);"object"==(void 0===e?"undefined":_typeof(e))&&(r=r.filter((function(t){return Object.keys(e).every((function(n){return t[n]===e[n]}))})));try{s(r,{remove:function(){return r.forEach((function(e){e.remove()})),this}})}catch(r){console.error("error adding `remove` to array, did you modify Array.prototype?")}return r},removeAll:function(){return this.getHooks().remove()}},o={install:function(i,a,o){this.type=i,(r=o)(t,n),e&&e(a)}};return i.set(a.after,o),a;function u(e,i,a,o){var s={hook:a,type:i,priority:o||10,remove:function(){var i=e.indexOf(s);-1!==i&&(e.splice(i,1),r(t,n))}};return e.push(s),e.sort((function(e,t){return t.priority-e.priority})),r(t,n),this}}function h(r,a,c){var l=a.after&&i.get(a.after);if(l){if(l.type!==r)throw n+": recreated hookable with different type";return a}var h,m,g=c?f(c):p(),v={get:function(e,t){return g[t]||Reflect.get.apply(Reflect,arguments)}};return t||d.push(y),e.useProxy&&"function"==typeof Proxy&&Proxy.revocable?m=new Proxy(a,v):s(m=function(){return v.apply?v.apply(a,this,o(arguments)):a.apply(this,arguments)},g),i.get(m.after).install(r,m,(function(e,t){var n,i=[];function a(e){i.push(e.hook)}h=e.length||t.length?(e.forEach(a),n=i.push(void 0)-1,t.forEach(a),function(e,t,a){var s,u=0,c="async"===r&&"function"==typeof a[a.length-1]&&a.pop();function d(e){"sync"===r?s=e:c&&c.apply(null,arguments)}function l(e){if(i[u]){var n=o(arguments);return l.bail=d,n.unshift(l),i[u++].apply(t,n)}"sync"===r?s=e:c&&c.apply(null,arguments)}return i[n]=function(){var n=o(arguments,1);"async"===r&&c&&(delete l.bail,n.push(l));var i=e.apply(t,n);"sync"===r&&l(i)},l.apply(null,a),s}):void 0,y()})),m;function y(){!t&&("sync"!==r||e.ready&u.SYNC)&&("async"!==r||e.ready&u.ASYNC)?"sync"!==r&&e.ready&u.QUEUE?v.apply=function(){var e=arguments;d.push((function(){m.apply(e[1],e[2])}))}:v.apply=function(){throw n+": hooked function not ready"}:v.apply=h}}return(e=s({},r,e)).ready?l.ready=function(){t=!0,(function(e){for(var t;t=e.shift();)t()})(d)}:t=!0,l.get=f,l}e.exports=u},17:function(e,t){e.exports=!0},18:function(e,t,n){function r(e,t){this.stopped=e,this.result=t}var i=n(15),a=n(84),o=n(50),s=n(25),u=n(61),c=n(85);(e.exports=function(e,t,n,d,l){var f,p,h,m,g,v,y,b=s(t,n,d?2:1);if(l)f=e;else{if("function"!=typeof(p=u(e)))throw TypeError("Target is not iterable");if(a(p)){for(h=0,m=o(e.length);h<m;h++)if((g=d?b(i(y=e[h])[0],y[1]):b(e[h]))&&g instanceof r)return g;return new r(!1)}f=p.call(e)}for(v=f.next;!(y=v.call(f)).done;)if("object"==_typeof(g=c(f,b,y.value,d))&&g&&g instanceof r)return g;return new r(!1)}).stop=function(e){return new r(!0,e)}},19:function(e,t,n){n.d(t,"a",(function(){return o}));var r,i=n(3),a=n(0),o=(r=window,function(){var e,t=[],n=(function(e){try{if(!e.location.ancestorOrigins)return;return e.location.ancestorOrigins}catch(e){}})(r),o=i.b.getConfig("maxNestedIframes"),s=!1,u=0,c=!1,d=!1;do{var l,f,p=y,h=d,m=void 0,g=!1,v=null,y=(d=!1,y?y.parent:r);try{m=y.location.href||null}catch(e){g=!0}if(g)if(h){var b=p.context;try{f=v=b.sourceUrl,c=!0,y===r.top&&(s=!0),b.canonicalUrl&&(e=b.canonicalUrl)}catch(e){}}else{Object(a.logWarn)("Trying to access cross domain iframe. Continuing without referrer and location");try{var E=p.document.referrer;E&&(v=E,y===r.top&&(s=!0))}catch(e){}!v&&n&&n[u-1]&&(v=n[u-1]),v&&!c&&(f=v)}else m&&(f=v=m,c=!1,y===r.top&&(s=!0,(l=(function(e){try{var t=e.querySelector("link[rel='canonical']");if(null!==t)return t.href}catch(e){}return null})(y.document))&&(e=l))),y.context&&y.context.sourceUrl&&(d=!0);t.push(v),u++}while(y!==r.top&&u<o);return t.reverse(),{referer:f||null,reachedTop:s,isAmp:c,numIframes:u-1,stack:t,canonicalUrl:e||null}})},2:function(e,t,n){n.d(t,"c",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var r="native",i="video",a="banner",o="adpod"},21:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},22:function(e,t,n){var r=n(26),i=n(78),a=n(27),o=n(59),s=n(80),u=n(108),c=i("wks"),d=r.Symbol,l=u?d:d&&d.withoutSetter||o;e.exports=function(e){return a(c,e)||(s&&a(d,e)?c[e]=d[e]:c[e]=l("Symbol."+e)),c[e]}},23:function(e,t,n){n.d(t,"a",(function(){return d}));var r,i,a=n(0),o=n(33),s=n(10),u=n.n(s),c=n(5),d=(r=[],(i={}).addWinningBid=function(e){var t=u()(r,(function(t){return t.getAuctionId()===e.auctionId}));t?(e.status=c.BID_STATUS.RENDERED,t.addWinningBid(e)):Object(a.logWarn)("Auction not found when adding winning bid")},i.getAllWinningBids=function(){return r.map((function(e){return e.getWinningBids()})).reduce(a.flatten,[])},i.getBidsRequested=function(){return r.map((function(e){return e.getBidRequests()})).reduce(a.flatten,[])},i.getNoBids=function(){return r.map((function(e){return e.getNoBids()})).reduce(a.flatten,[])},i.getBidsReceived=function(){return r.map((function(e){if(e.getAuctionStatus()===o.a)return e.getBidsReceived()})).reduce(a.flatten,[]).filter((function(e){return e}))},i.getAllBidsForAdUnitCode=function(e){return r.map((function(e){return e.getBidsReceived()})).reduce(a.flatten,[]).filter((function(t){return t&&t.adUnitCode===e}))},i.getAdUnits=function(){return r.map((function(e){return e.getAdUnits()})).reduce(a.flatten,[])},i.getAdUnitCodes=function(){return r.map((function(e){return e.getAdUnitCodes()})).reduce(a.flatten,[]).filter(a.uniques)},i.createAuction=function(e){var t,n=e.adUnits,i=e.adUnitCodes,a=e.callback,s=e.cbTimeout,u=e.labels,c=e.auctionId,d=Object(o.k)({adUnits:n,adUnitCodes:i,callback:a,cbTimeout:s,labels:u,auctionId:c});return t=d,r.push(t),d},i.findBidByAdId=function(e){return u()(r.map((function(e){return e.getBidsReceived()})).reduce(a.flatten,[]),(function(t){return t.adId===e}))},i.getStandardBidderAdServerTargeting=function(){return Object(o.j)()[c.JSON_MAPPING.ADSERVER_TARGETING]},i.setStatusForBids=function(e,t){var n,a=i.findBidByAdId(e);a&&(a.status=t),!a||t!==c.BID_STATUS.BID_TARGETING_SET||(n=u()(r,(function(e){return e.getAuctionId()===a.auctionId})))&&n.setBidTargeting(a)},i.getLastAuctionId=function(){return r.length&&r[r.length-1].getAuctionId()},i.clearAllAuctions=function(){r.length=0},i)},232:function(e,t,n){n(233);var r=n(52);e.exports=r("Array","findIndex")},233:function(e,t,n){var r=n(14),i=n(56).findIndex,a=n(51),o=n(60),s="findIndex",u=!0,c=o(s);s in[]&&Array(1)[s]((function(){u=!1})),r({target:"Array",proto:!0,forced:u||!c},{findIndex:function(e,t){return i(this,e,1<arguments.length?t:void 0)}}),a(s)},24:function(e,t,n){n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u})),t.d=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t),i=n&&Object(r.deepAccess)(n,"mediaTypes.video"),a=i&&Object(r.deepAccess)(i,"context");return c(e,n,i,a)},n.d(t,"c",(function(){return c})),n(8);var r=n(0),i=n(3),a=n(13),o=(n.n(a),n(11)),s="outstream",u="instream",c=Object(o.b)("sync",(function(e,t,n,a){return!t||n&&a!==s?i.b.getConfig("cache.url")||!e.vastXml||e.vastUrl?!(!e.vastUrl&&!e.vastXml):(Object(r.logError)('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),!1):a!==s||!!(e.renderer||t.renderer||n.renderer)}),"checkVideoBidSetup")},240:function(e,t,n){t.a=function(){window.addEventListener("message",y,!1)};var r=n(9),i=n.n(r),a=n(38),o=n(5),s=n.n(o),u=n(0),c=n(23),d=n(10),l=n.n(d),f=n(12),p=n(13),h=n.n(p),m=n(3),g=s.a.EVENTS.BID_WON,v=s.a.EVENTS.STALE_RENDER;function y(e){var t,n,r,o,d,p,h,y,E,_=e.message?"message":"data",S={};try{S=JSON.parse(e[_])}catch(e){return}if(S&&S.adId){var A,w=l()(c.a.getBidsReceived(),(function(e){return e.adId===S.adId}));if(w&&"Prebid Request"===S.message){if(w.status===s.a.BID_STATUS.RENDERED&&(Object(u.logWarn)("Ad id ".concat(w.adId," has been rendered before")),i.a.emit(v,w),Object(u.deepAccess)(m.b.getConfig("auctionOptions"),"suppressStaleRender")))return;n=e,r=(t=w).adId,o=t.ad,d=t.adUrl,p=t.width,h=t.height,y=t.renderer,E=t.cpm,Object(f.c)(y)?Object(f.b)(y,t):r&&(b(t),n.source.postMessage(JSON.stringify({message:"Prebid Response",ad:Object(u.replaceAuctionPrice)(o,E),adUrl:Object(u.replaceAuctionPrice)(d,E),adId:r,width:p,height:h}),n.origin)),c.a.addWinningBid(w),i.a.emit(g,w)}if(w&&"Prebid Native"===S.message){if("assetRequest"===S.action){var O=Object(a.d)(S,w);return void e.source.postMessage(JSON.stringify(O),e.origin)}if("allAssetRequest"===S.action?(A=Object(a.c)(S,w),e.source.postMessage(JSON.stringify(A),e.origin)):"resizeNativeHeight"===S.action&&(w.height=S.height,w.width=S.width,b(w)),"click"===Object(a.b)(S,w))return;c.a.addWinningBid(w),i.a.emit(g,w)}}}function b(e){var t=e.adId,n=e.adUnitCode,r=e.width,i=e.height;["div","iframe"].forEach((function(e){var a,o,s,c,d=(a=e+':not([style*="display: none"])',o=(function(e,t){return window.googletag?(function(e){return l()(window.googletag.pubads().getSlots(),(function(t){return l()(t.getTargetingKeys(),(function(n){return h()(t.getTargeting(n),e)}))})).getSlotElementId()})(e):window.apntag?(function(e){var t=window.apntag.getTag(e);return t&&t.targetId})(t):t})(t,n),(s=document.getElementById(o))&&s.querySelector(a));d?((c=d.style).width=r+"px",c.height=i+"px"):Object(u.logWarn)("Unable to locate matching page element for adUnitCode ".concat(n,".  Can't resize it to ad's dimensions.  Please review setup."))}))}},241:function(e,t,n){t.a=function(e){var t;try{e=e||window.sessionStorage,t=JSON.parse(e.getItem(u))}catch(e){}t&&p(t,!0)};var r,i,a=n(3),o=n(0),s=n(33),u="pbjs:debugging";function c(e){Object(o.logMessage)("DEBUG: "+e)}function d(e){Object(o.logWarn)("DEBUG: "+e)}function l(e){r=function(e,t,n){m(this.bidders,n.bidderCode)?d("bidder '".concat(n.bidderCode,"' excluded from auction by bidder overrides")):(Array.isArray(this.bids)&&this.bids.forEach((function(e){h(e,n.bidderCode,t)||g(e,n,"bidder")})),e(t,n))}.bind(e),s.c.before(r,5),i=function(e,t){var n=this,r=t.filter((function(e){return!m(n.bidders,e.bidderCode)||(d("bidRequest '".concat(e.bidderCode,"' excluded from auction by bidder overrides")),!1)}));Array.isArray(n.bidRequests)&&r.forEach((function(e){n.bidRequests.forEach((function(t){e.bids.forEach((function(n){h(t,e.bidderCode,n.adUnitCode)||g(t,n,"bidRequest")}))}))})),e(r)}.bind(e),s.e.before(i,5)}function f(){s.c.getHooks({hook:r}).remove(),s.e.getHooks({hook:i}).remove()}function p(e,t){var n=1<arguments.length&&void 0!==t&&t;a.b.setConfig({debug:!0}),f(),l(e),c("bidder overrides enabled".concat(n?" from session":""))}function h(e,t,n){return e.bidder&&e.bidder!==t||!(!e.adUnitCode||e.adUnitCode===n)}function m(e,t){return Array.isArray(e)&&-1===e.indexOf(t)}function g(e,t,n){return Object.keys(e).filter((function(e){return-1===["adUnitCode","bidder"].indexOf(e)})).reduce((function(t,r){return c("bidder overrides changed '".concat(t.adUnitCode,"/").concat(t.bidderCode,"' ").concat(n,".").concat(r," from '").concat(t[r],".js' to '").concat(e[r],"'")),t[r]=e[r],t}),t)}a.b.getConfig("debugging",(function(e){return (function(e){if(e.enabled){try{window.sessionStorage.setItem(u,JSON.stringify(e))}catch(e){}p(e)}else{f(),c("bidder overrides disabled");try{window.sessionStorage.removeItem(u)}catch(e){}}})(e.debugging)}))},25:function(e,t,n){var r=n(21);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},26:function(e,t,n){(function(t){function n(e){return e&&e.Math==Math&&e}e.exports=n("object"==("undefined"==typeof globalThis?"undefined":_typeof(globalThis))&&globalThis)||n("object"==("undefined"==typeof window?"undefined":_typeof(window))&&window)||n("object"==("undefined"==typeof self?"undefined":_typeof(self))&&self)||n("object"==(void 0===t?"undefined":_typeof(t))&&t)||Function("return this")()}).call(t,n(36))},27:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},28:function(e,t,n){function r(e){return"function"==typeof e?e:void 0}var i=n(49),a=n(26);e.exports=function(e,t){return arguments.length<2?r(i[e])||r(a[e]):i[e]&&i[e][t]||a[e]&&a[e][t]}},29:function(e,t,n){var r=n(30);e.exports=!r((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},3:function(e,t,n){n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return T}));var r=n(44),i=n(10),a=n.n(i),o=n(13),s=n.n(o),u=n(82),c=n.n(u),d=n(0);function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e){return(f="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h=n(94),m=n(0),g=n(5),v="TRUE"===m.getParameterByName(g.DEBUG_MODE).toUpperCase(),y=window.location.origin,b="random",E={};E[b]=!0,E.fixed=!0;var _,S,A,w,O,I=b,C={LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},T=(w=[],O=null,P(),{getCurrentBidder:function(){return O},resetBidder:j,getConfig:function(){if(arguments.length<=1&&"function"!=typeof(arguments.length<=0?void 0:arguments[0])){var e=arguments.length<=0?void 0:arguments[0];return e?m.deepAccess(x(),e):x()}return function(e,t){var n=t;if("string"!=typeof e&&(n=e,e="*"),"function"==typeof n){var r={topic:e,callback:n};return w.push(r),function(){w.splice(w.indexOf(r),1)}}m.logError("listener must be a function")}.apply(void 0,arguments)},setConfig:function(e){var t,n;m.isPlainObject(e)?(t=Object.keys(e),n={},t.forEach((function(t){var r="fpd"===t?"ortb2":t,i="fpd"===t?k(e[t]):e[t];m.isPlainObject(_[r])&&m.isPlainObject(i)&&(i=p({},_[r],i)),n[r]=S[r]=i})),D(n)):m.logError("setConfig options must be an object")},setDefaults:function(e){m.isPlainObject(_)?(p(_,e),p(S,e)):m.logError("defaults must be an object")},resetConfig:P,runWithBidder:R,callbackWithBidder:function(e){return function(t){return function(){if("function"==typeof t){for(var n,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return R(e,(n=m.bind).call.apply(n,[t,this].concat(i)))}m.logWarn("config.callbackWithBidder callback is not a function")}}},setBidderConfig:function(e){try{!(function(e){if(!m.isPlainObject(e))throw"setBidderConfig bidder options must be an object";if(!Array.isArray(e.bidders)||!e.bidders.length)throw"setBidderConfig bidder options must contain a bidders list with at least 1 bidder";if(!m.isPlainObject(e.config))throw"setBidderConfig bidder options must contain a config object"})(e),e.bidders.forEach((function(t){A[t]||(A[t]={}),Object.keys(e.config).forEach((function(n){var r="fpd"===n?"ortb2":n,i="fpd"===n?k(e.config[n]):e.config[n];m.isPlainObject(i)?A[t][r]=p({},A[t][r]||{},i):A[t][r]=i}))}))}catch(e){m.logError(e)}},getBidderConfig:function(){return A},convertAdUnitFpd:function(e){var t=[];return e.forEach((function(e){e.fpd?(e.ortb2Imp?m.mergeDeep(e.ortb2Imp,N(e.fpd)):e.ortb2Imp=N(e.fpd),t.push((e.fpd,(function(e,t){if(null==e)return{};var n,r=(function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],0<=t.indexOf(n)||(i[n]=e[n]);return i})(e,t);if(Object.getOwnPropertySymbols)for(var i=Object.getOwnPropertySymbols(e),a=0;a<i.length;a++)n=i[a],0<=t.indexOf(n)||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n]);return r})(e,["fpd"])))):t.push(e)})),t},getLegacyFpd:function(e){if("object"===f(e)){var t={};return Object.keys(e).forEach((function(n){var r="site"===n?"context":n;t[r]="context"===r||"user"===r?Object.keys(e[n]).filter((function(e){return"data"!==e})).reduce((function(t,r){return"ext"===r?m.mergeDeep(t,e[n][r]):m.mergeDeep(t,l({},r,e[n][r])),t}),{}):e[n]})),t}},getLegacyImpFpd:function(e){if("object"===f(e)){var t={};return m.deepAccess(e,"ext.data")&&Object.keys(e.ext.data).forEach((function(n){"pbadslot"===n?m.mergeDeep(t,{context:{pbAdSlot:e.ext.data[n]}}):"adserver"===n?m.mergeDeep(t,{context:{adServer:e.ext.data[n]}}):m.mergeDeep(t,{context:{data:l({},n,e.ext.data[n])}})})),t}}});function P(){_={};var e={_debug:v,get debug(){return this._debug},set debug(e){this._debug=e},_bidderTimeout:3e3,get bidderTimeout(){return this._bidderTimeout},set bidderTimeout(e){this._bidderTimeout=e},_publisherDomain:y,get publisherDomain(){return this._publisherDomain},set publisherDomain(e){this._publisherDomain=e},_priceGranularity:C.MEDIUM,set priceGranularity(e){n(e)&&("string"==typeof e?this._priceGranularity=t(e)?e:C.MEDIUM:m.isPlainObject(e)&&(this._customPriceBucket=e,this._priceGranularity=C.CUSTOM,m.logMessage("Using custom price granularity")))},get priceGranularity(){return this._priceGranularity},_customPriceBucket:{},get customPriceBucket(){return this._customPriceBucket},_mediaTypePriceGranularity:{},get mediaTypePriceGranularity(){return this._mediaTypePriceGranularity},set mediaTypePriceGranularity(e){var r=this;this._mediaTypePriceGranularity=Object.keys(e).reduce((function(i,a){return n(e[a])?"string"==typeof e?i[a]=t(e[a])?e[a]:r._priceGranularity:m.isPlainObject(e)&&(i[a]=e[a],m.logMessage("Using custom price granularity for ".concat(a))):m.logWarn("Invalid price granularity for media type: ".concat(a)),i}),{})},_sendAllBids:!0,get enableSendAllBids(){return this._sendAllBids},set enableSendAllBids(e){this._sendAllBids=e},_useBidCache:!1,get useBidCache(){return this._useBidCache},set useBidCache(e){this._useBidCache=e},_deviceAccess:!0,get deviceAccess(){return this._deviceAccess},set deviceAccess(e){this._deviceAccess=e},_bidderSequence:I,get bidderSequence(){return this._bidderSequence},set bidderSequence(e){E[e]?this._bidderSequence=e:m.logWarn("Invalid order: ".concat(e,". Bidder Sequence was not set."))},_timeoutBuffer:400,get timeoutBuffer(){return this._timeoutBuffer},set timeoutBuffer(e){this._timeoutBuffer=e},_disableAjaxTimeout:!1,get disableAjaxTimeout(){return this._disableAjaxTimeout},set disableAjaxTimeout(e){this._disableAjaxTimeout=e},_maxNestedIframes:10,get maxNestedIframes(){return this._maxNestedIframes},set maxNestedIframes(e){this._maxNestedIframes=e},_auctionOptions:{},get auctionOptions(){return this._auctionOptions},set auctionOptions(e){!(function(e){if(!m.isPlainObject(e))return m.logWarn("Auction Options must be an object"),!1;for(var t=0,n=Object.keys(e);t<n.length;t++){var r=n[t];if("secondaryBidders"!==r&&"suppressStaleRender"!==r)return m.logWarn("Auction Options given an incorrect param: ".concat(r)),!1;if("secondaryBidders"===r){if(!m.isArray(e[r]))return m.logWarn("Auction Options ".concat(r," must be of type Array")),!1;if(!e[r].every(m.isStr))return m.logWarn("Auction Options ".concat(r," must be only string")),!1}else if("suppressStaleRender"===r&&!m.isBoolean(e[r]))return m.logWarn("Auction Options ".concat(r," must be of type boolean")),!1}return!0})(e)||(this._auctionOptions=e)}};function t(e){return a()(Object.keys(C),(function(t){return e===C[t]}))}function n(e){if(e){if("string"==typeof e)t(e)||m.logWarn("Prebid Warning: setPriceGranularity was called with invalid setting, using `medium` as default.");else if(m.isPlainObject(e)&&!Object(r.b)(e))return void m.logError("Invalid custom price value passed to `setPriceGranularity()`");return 1}m.logError("Prebid Error: no value passed to `setPriceGranularity()`")}S&&D(Object.keys(S).reduce((function(t,n){return S[n]!==e[n]&&(t[n]=e[n]||{}),t}),{})),S=e,A={}}function x(){if(O&&A&&m.isPlainObject(A[O])){var e=A[O],t=new c.a(Object.keys(S).concat(Object.keys(e)));return h(t).reduce((function(t,n){return void 0===e[n]?t[n]=S[n]:void 0!==S[n]&&m.isPlainObject(e[n])?t[n]=Object(d.mergeDeep)({},S[n],e[n]):t[n]=e[n],t}),{})}return p({},S)}function k(e){var t={};return Object.keys(e).forEach((function(n){var r="context"===n?"site":n;t[r]="site"===r||"user"===r?Object.keys(e[n]).reduce((function(t,r){return"data"===r?m.mergeDeep(t,{ext:{data:e[n][r]}}):m.mergeDeep(t,l({},r,e[n][r])),t}),{}):e[n]})),t}function N(e){var t={};return Object.keys(e).filter((function(e){return"context"===e})).forEach((function(n){Object.keys(e[n]).forEach((function(r){"data"===r?m.mergeDeep(t,{ext:{data:e[n][r]}}):"object"!==f(e[n][r])||Array.isArray(e[n][r])?m.mergeDeep(t,{ext:{data:l({},r.toLowerCase(),e[n][r])}}):Object.keys(e[n][r]).forEach((function(i){m.mergeDeep(t,{ext:{data:l({},r.toLowerCase(),l({},i.toLowerCase(),e[n][r][i]))}})}))}))})),t}function D(e){var t=Object.keys(e);w.filter((function(e){return s()(t,e.topic)})).forEach((function(t){t.callback(l({},t.topic,e[t.topic]))})),w.filter((function(e){return"*"===e.topic})).forEach((function(t){return t.callback(e)}))}function R(e,t){O=e;try{return t()}finally{j()}}function j(){O=null}},30:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},31:function(e,t){e.exports=function(e){return"object"==(void 0===e?"undefined":_typeof(e))?null!==e:"function"==typeof e}},32:function(e,t,n){var r=n(29),i=n(34),a=n(45);e.exports=r?function(e,t,n){return i.f(e,t,a(1,n))}:function(e,t,n){return e[t]=n,e}},33:function(e,t,n){n.d(t,"b",(function(){return w})),n.d(t,"a",(function(){return O})),t.k=function(e){var t,n,a,o,c=e.adUnits,d=e.adUnitCodes,l=e.callback,p=e.cbTimeout,g=e.labels,D=e.auctionId,B=c,U=g,L=d,V=[],G=[],q=[],z=D||b.generateUUID(),W=l,H=p,K=[],Y=new Set;function $(){return{auctionId:z,timestamp:t,auctionEnd:n,auctionStatus:a,adUnits:B,adUnitCodes:L,labels:U,bidderRequests:V,noBids:q,bidsReceived:G,winningBids:K,timeout:H}}function J(e,t){var i,s;t&&clearTimeout(o),void 0===n&&(i=[],e&&(b.logMessage("Auction ".concat(z," timedOut")),s=Y,(i=V.map((function(e){return(e.bids||[]).filter((function(e){return!s.has(e.bidder)}))})).reduce(r.flatten,[]).map((function(e){return{bidId:e.bidId,bidder:e.bidder,adUnitCode:e.adUnitCode,auctionId:e.auctionId}}))).length&&_.emit(S.EVENTS.BID_TIMEOUT,i)),a=O,n=Date.now(),_.emit(S.EVENTS.AUCTION_END,$()),N(B,(function(){try{var t;null!=W&&(t=G.filter(b.bind.call(r.adUnitsFilter,this,L)).reduce(F,{}),W.apply(pbjs,[t,e,z]),W=null)}catch(t){b.logError("Error executing bidsBackHandler",null,t)}finally{i.length&&E.callTimedOutBidders(c,i,H);var n=u.b.getConfig("userSync")||{};n.enableOverride||y(n.syncDelay)}})))}function X(){u.b.resetBidder(),b.logInfo("Bids Received for Auction with id: ".concat(z),G),a=O,J(!1,!0)}function Q(e){Y.add(e)}function Z(e){var t=this;e.forEach((function(e){var t;t=e,V=V.concat(t)}));var n={},c={bidRequests:e,run:function(){var c,p;c=J.bind(null,!0),p=setTimeout(c,H),o=p,a=w,_.emit(S.EVENTS.AUCTION_INIT,$());var g,y,A,O,I,k,N=(g=X,y=t,A=0,O=!1,I=new Set,k={},{addBidResponse:function(e,t){k[t.requestId]=!0,A++;var n=(function(e){var t=e.adUnitCode,n=e.bid,a=e.bidderRequest,o=e.auctionId,c=a.start,d=v({},n,{auctionId:o,responseTimestamp:Object(r.timestamp)(),requestTimestamp:c,cpm:parseFloat(n.cpm)||0,bidder:n.bidderCode,adUnitCode:t});d.timeToRespond=d.responseTimestamp-d.requestTimestamp,_.emit(S.EVENTS.BID_ADJUSTMENT,d);var l=a.bids&&f()(a.bids,(function(e){return e.adUnitCode==t&&e.bidId==d.requestId})),p=l&&l.renderer,h=d.mediaType,m=l&&l.mediaTypes&&l.mediaTypes[h],g=m&&m.renderer,y=null;g&&g.url&&g.render&&(!0!==g.backupOnly||!n.renderer)?y=g:p&&p.url&&p.render&&(!0!==p.backupOnly||!n.renderer)&&(y=p),y&&(d.renderer=s.a.install({url:y.url}),d.renderer.setRender(y.render));var b=M(n.mediaType,l,u.b.getConfig("mediaTypePriceGranularity")),E=Object(i.a)(d.cpm,"object"===(function(e){return("function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)})(b)?b:u.b.getConfig("customPriceBucket"),u.b.getConfig("currency.granularityMultiplier"));return d.pbLg=E.low,d.pbMg=E.med,d.pbHg=E.high,d.pbAg=E.auto,d.pbDg=E.dense,d.pbCg=E.custom,d})({adUnitCode:e,bid:t,bidderRequest:this,auctionId:y.getAuctionId()});"video"===n.mediaType?(function(e,t,n,i){var a=!0,o=Object(r.getBidRequest)(t.originalRequestId||t.requestId,[n]),s=o&&Object(r.deepAccess)(o,"mediaTypes.video"),c=s&&Object(r.deepAccess)(s,"context");u.b.getConfig("cache.url")&&c!==m.b&&(!t.videoCacheKey||u.b.getConfig("cache.ignoreBidderCacheKey")?(a=!1,j(e,t,i,o)):t.vastUrl||(b.logError("videoCacheKey specified but not required vastUrl for video bid"),a=!1)),a&&(R(e,t),i())})(y,n,this,D):(R(y,n),D())},adapterDone:function(){var e,t=y.getBidRequests(),n=u.b.getConfig("auctionOptions");I.add(this),!n||b.isEmpty(n)||(e=n.secondaryBidders)&&!t.every((function(t){return h()(e,t.bidderCode)}))&&(t=t.filter((function(t){return!h()(e,t.bidderCode)}))),O=t.every((function(e){return I.has(e)})),this.bids.forEach((function(e){k[e.bidId]||(y.addNoBid(e),_.emit(S.EVENTS.NO_BID,e))})),O&&0===A&&g()}});function D(){A--,O&&0===A&&g()}E.callBids(B,e,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];x.apply({dispatch:N.addBidResponse,bidderRequest:this},t)}),N.adapterDone,{request:function(e,t){l(C,t),l(n,e),T[e]||(T[e]={SRA:!0,origin:t}),1<n[e]&&(T[e].SRA=!1)},done:function(e){C[e]--,P[0]&&d(P[0])&&P.shift()}},H,Q)}};function d(e){var t=!0,n=u.b.getConfig("maxRequestsPerOrigin")||I;return e.bidRequests.some((function(e){var r=1,i=void 0!==e.src&&e.src===S.S2S.SRC?"s2s":e.bidderCode;return T[i]&&(!1===T[i].SRA&&(r=Math.min(e.bids.length,n)),C[T[i].origin]+r>n&&(t=!1)),!t})),t&&e.run(),t}function l(e,t){void 0===e[t]?e[t]=1:e[t]++}d(c)||(b.logWarn("queueing auction due to limited endpoint capacity"),P.push(c))}return{addBidReceived:function(e){G=G.concat(e)},addNoBid:function(e){q=q.concat(e)},executeCallback:J,callBids:function(){a=A,t=Date.now();var e=E.makeBidRequests(B,t,z,H,U);b.logInfo("Bids Requested for Auction with id: ".concat(z),e),e.length<1?(b.logWarn("No valid bid requests returned for auction"),X()):k.call({dispatch:Z,context:this},e)},addWinningBid:function(e){K=K.concat(e),E.callBidWonBidder(e.bidder,e,c)},setBidTargeting:function(e){E.callSetTargetingBidder(e.bidder,e)},getWinningBids:function(){return K},getTimeout:function(){return H},getAuctionId:function(){return z},getAuctionStatus:function(){return a},getAdUnits:function(){return B},getAdUnitCodes:function(){return L},getBidRequests:function(){return V},getBidsReceived:function(){return G},getNoBids:function(){return q}}},n.d(t,"c",(function(){return x})),n.d(t,"e",(function(){return k})),t.g=D,t.d=R,n.d(t,"f",(function(){return j})),n.d(t,"i",(function(){return B})),n.d(t,"h",(function(){return U})),t.j=L;var r=n(0),i=n(44),a=n(38),o=n(97),s=n(12),u=n(3),c=n(43),d=n(11),l=n(10),f=n.n(l),p=n(13),h=n.n(p),m=n(24),g=n(2);function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var y=c.a.syncUsers,b=n(0),E=n(8).default,_=n(9),S=n(5),A="started",w="inProgress",O="completed";_.on(S.EVENTS.BID_ADJUSTMENT,(function(e){!(function(e){var t,n=e.bidderCode,r=e.cpm;if(pbjs.bidderSettings&&(n&&pbjs.bidderSettings[n]&&"function"==typeof pbjs.bidderSettings[n].bidCpmAdjustment?t=pbjs.bidderSettings[n].bidCpmAdjustment:pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD]&&"function"==typeof pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment&&(t=pbjs.bidderSettings[S.JSON_MAPPING.BD_SETTING_STANDARD].bidCpmAdjustment),t))try{r=t(e.cpm,v({},e))}catch(e){b.logError("Error during bid adjustment","bidmanager.js",e)}0<=r&&(e.cpm=r)})(e)}));var I=4,C={},T={},P=[],x=Object(d.b)("async",(function(e,t){this.dispatch.call(this.bidderRequest,e,t)}),"addBidResponse"),k=Object(d.b)("sync",(function(e){this.dispatch.call(this.context,e)}),"addBidderRequests"),N=Object(d.b)("async",(function(e,t){t&&t()}),"bidsBackCallback");function D(e,t){t.timeToRespond>e.getTimeout()+u.b.getConfig("timeoutBuffer")&&e.executeCallback(!0)}function R(e,t){var n=e.getBidRequests(),r=f()(n,(function(e){return e.bidderCode===t.bidderCode}));!(function(e,t){var n,r;e.bidderCode&&(0<e.cpm||e.dealId)&&(r=f()(t.bids,(function(t){return t.adUnitCode===e.adUnitCode})),n=(function(e,t,n){if(!t)return{};var r={},i=pbjs.bidderSettings;return i&&(V(r,L(t.mediaType,e,n),t),e&&i[e]&&i[e][S.JSON_MAPPING.ADSERVER_TARGETING]&&(V(r,i[e],t),t.sendStandardTargeting=i[e].sendStandardTargeting)),t.native&&(r=v({},r,Object(a.e)(t,n))),r})(e.bidderCode,e,r)),e.adserverTargeting=v(e.adserverTargeting||{},n)})(t,r),_.emit(S.EVENTS.BID_RESPONSE,t),e.addBidReceived(t),D(e,t)}var j=Object(d.b)("async",(function(e,t,n,r){Object(o.b)([t],(function(r,i){r?(b.logWarn("Failed to save to the video cache: ".concat(r,". Video bid must be discarded.")),D(e,t)):""===i[0].uuid?(b.logWarn("Supplied video cache key was already in use by Prebid Cache; caching attempt was rejected. Video bid must be discarded."),D(e,t)):(t.videoCacheKey=i[0].uuid,t.vastUrl||(t.vastUrl=Object(o.a)(t.videoCacheKey)),R(e,t),n())}),r)}),"callPrebidCache");function M(e,t,n){if(e&&n){if(e===g.d){var i=Object(r.deepAccess)(t,"mediaTypes.".concat(g.d,".context"),"instream");if(n["".concat(g.d,"-").concat(i)])return n["".concat(g.d,"-").concat(i)]}return n[e]}}var B=function(e,t){var n=M(e,t,u.b.getConfig("mediaTypePriceGranularity"));return"string"==typeof e&&n?"string"==typeof n?n:"custom":u.b.getConfig("priceGranularity")},U=function(e){return function(t){return e===S.GRANULARITY_OPTIONS.AUTO?t.pbAg:e===S.GRANULARITY_OPTIONS.DENSE?t.pbDg:e===S.GRANULARITY_OPTIONS.LOW?t.pbLg:e===S.GRANULARITY_OPTIONS.MEDIUM?t.pbMg:e===S.GRANULARITY_OPTIONS.HIGH?t.pbHg:e===S.GRANULARITY_OPTIONS.CUSTOM?t.pbCg:void 0}};function L(e,t,n){function i(e,t){return{key:e,val:"function"==typeof t?function(e){return t(e)}:function(e){return Object(r.getValue)(e,t)}}}var a,o,s=S.TARGETING_KEYS,c=B(e,n),d=pbjs.bidderSettings;return d[S.JSON_MAPPING.BD_SETTING_STANDARD]||(d[S.JSON_MAPPING.BD_SETTING_STANDARD]={}),d[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING]||(d[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING]=[i(s.BIDDER,"bidderCode"),i(s.AD_ID,"adId"),i(s.PRICE_BUCKET,U(c)),i(s.SIZE,"size"),i(s.DEAL,"dealId"),i(s.SOURCE,"source"),i(s.FORMAT,"mediaType"),i(s.ADOMAIN,(function(e){return e.meta&&e.meta.advertiserDomains&&0<e.meta.advertiserDomains.length?e.meta.advertiserDomains[0]:""}))]),"video"===e&&(a=d[S.JSON_MAPPING.BD_SETTING_STANDARD][S.JSON_MAPPING.ADSERVER_TARGETING],[s.UUID,s.CACHE_ID].forEach((function(e){void 0===f()(a,(function(t){return t.key===e}))&&a.push(i(e,"videoCacheKey"))})),!u.b.getConfig("cache.url")||t&&!1===b.deepAccess(d,"".concat(t,".sendStandardTargeting"))||(o=Object(r.parseUrl)(u.b.getConfig("cache.url")),void 0===f()(a,(function(e){return e.key===s.CACHE_HOST}))&&a.push(i(s.CACHE_HOST,(function(e){return b.deepAccess(e,"adserverTargeting.".concat(s.CACHE_HOST))?e.adserverTargeting[s.CACHE_HOST]:o.hostname}))))),d[S.JSON_MAPPING.BD_SETTING_STANDARD]}function V(e,t,n){var r=t[S.JSON_MAPPING.ADSERVER_TARGETING];return n.size=n.getSize(),b._each(r,(function(r){var i=r.key,a=r.val;if(e[i]&&b.logWarn("The key: "+i+" is getting ovewritten"),b.isFn(a))try{a=a(n)}catch(r){b.logError("bidmanager","ERROR",r)}(void 0===t.suppressEmptyKeys||!0!==t.suppressEmptyKeys)&&i!==S.TARGETING_KEYS.DEAL||!b.isEmptyStr(a)&&null!=a?e[i]=a:b.logInfo("suppressing empty key '"+i+"' from adserver targeting")})),e}function F(e,t){return e[t.adUnitCode]||(e[t.adUnitCode]={bids:[]}),e[t.adUnitCode].bids.push(t),e}},34:function(e,t,n){var r=n(29),i=n(76),a=n(15),o=n(55),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},35:function(e,t,n){t.a=function(e,t){return new i(e,t)};var r=n(0);function i(e,t){var n=t&&t.src||"client",i=e||0;this.bidderCode=t&&t.bidder||"",this.width=0,this.height=0,this.statusMessage=(function(){switch(i){case 0:return"Pending";case 1:return"Bid available";case 2:return"Bid returned empty or error response";case 3:return"Bid timed out"}})(),this.adId=r.getUniqueIdentifierStr(),this.requestId=t&&t.bidId,this.mediaType="banner",this.source=n,this.getStatusCode=function(){return i},this.getSize=function(){return this.width+"x"+this.height}}},36:function(e,t){var n=this;try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==("undefined"==typeof window?"undefined":_typeof(window))&&(n=window)}e.exports=n},37:function(e,t,n){var r=n(17),i=n(93);e.exports=r?i:function(e){return Set.prototype.values.call(e)}},378:function(e,t,n){n(379);var r=n(52);e.exports=r("String","includes")},379:function(e,t,n){var r=n(14),i=n(380),a=n(48);r({target:"String",proto:!0,forced:!n(382)("includes")},{includes:function(e,t){return!!~String(a(this)).indexOf(i(e),1<arguments.length?t:void 0)}})},38:function(e,t,n){n.d(t,"f",(function(){return d})),n.d(t,"a",(function(){return l})),t.h=function(e){return e&&e.type&&(function(e){return!(!e||!a()(Object.keys(f),e))||(Object(r.logError)("".concat(e," nativeParam is not supported")),!1)})(e.type)?f[e.type]:e},t.g=function(e,t){var n=Object(r.getBidRequest)(e.requestId,t);if(!n)return!1;if(!Object(r.deepAccess)(e,"native.clickUrl"))return!1;var i=n.nativeParams;if(!i)return!0;var o=Object.keys(i).filter((function(e){return i[e].required})),s=Object.keys(e.native).filter((function(t){return e.native[t]}));return o.every((function(e){return a()(s,e)}))},t.b=function(e,t){var n;return"click"===e.action?n=t.native&&t.native.clickTrackers:(n=t.native&&t.native.impressionTrackers,t.native&&t.native.javascriptTrackers&&Object(r.insertHtmlIntoIframe)(t.native.javascriptTrackers)),(n||[]).forEach(r.triggerPixel),e.action},t.e=function(e,t){var n={};Object(r.deepAccess)(t,"nativeParams.rendererUrl")?e.native.rendererUrl=p(t.nativeParams.rendererUrl):Object(r.deepAccess)(t,"nativeParams.adTemplate")&&(e.native.adTemplate=p(t.nativeParams.adTemplate));var i=!1!==Object(r.deepAccess)(t,"nativeParams.sendTargetingKeys"),a=(function(e){var t={};return Object(r.deepAccess)(e,"nativeParams.ext")&&Object.keys(e.nativeParams.ext).forEach((function(e){t[e]="hb_native_".concat(e)})),u(u({},c.NATIVE_KEYS),t)})(t),o=u(u({},e.native),e.native.ext);return delete o.ext,Object.keys(o).forEach((function(o){var s,u,c=a[o],d=p(e.native[o])||p(Object(r.deepAccess)(e,"native.ext.".concat(o)));"adTemplate"!==o&&c&&d&&("boolean"!=typeof(s=Object(r.deepAccess)(t,"nativeParams.".concat(o,".sendId")))&&(s=Object(r.deepAccess)(t,"nativeParams.ext.".concat(o,".sendId"))),s&&(d="".concat(c,":").concat(e.adId)),"boolean"!=typeof(u=Object(r.deepAccess)(t,"nativeParams.".concat(o,".sendTargetingKeys")))&&(u=Object(r.deepAccess)(t,"nativeParams.ext.".concat(o,".sendTargetingKeys"))),("boolean"==typeof u?u:i)&&(n[c]=d))})),n},t.d=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return t.native.hasOwnProperty("adTemplate")&&(n.adTemplate=p(t.native.adTemplate)),t.native.hasOwnProperty("rendererUrl")&&(n.rendererUrl=p(t.native.rendererUrl)),e.assets.forEach((function(e){var i=Object(r.getKeyByValue)(c.NATIVE_KEYS,e),a=p(t.native[i]);n.assets.push({key:i,value:a})})),n},t.c=function(e,t){var n={message:"assetResponse",adId:e.adId,assets:[]};return Object.keys(t.native).forEach((function(e,r){var i;"adTemplate"===e&&t.native[e]?n.adTemplate=p(t.native[e]):"rendererUrl"===e&&t.native[e]?n.rendererUrl=p(t.native[e]):"ext"===e?Object.keys(t.native[e]).forEach((function(r){var i;t.native[e][r]&&(i=p(t.native[e][r]),n.assets.push({key:r,value:i}))})):t.native[e]&&c.NATIVE_KEYS.hasOwnProperty(e)&&(i=p(t.native[e]),n.assets.push({key:e,value:i}))})),n};var r=n(0),i=n(13),a=n.n(i);function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function s(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){var r,i,a;r=e,a=n[i=t],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c=n(5),d=[],l=Object.keys(c.NATIVE_KEYS).map((function(e){return c.NATIVE_KEYS[e]})),f={image:{image:{required:!0},title:{required:!0},sponsoredBy:{required:!0},clickUrl:{required:!0},body:{required:!1},icon:{required:!1}}};function p(e){return"object"===o(e)&&e.url?e.url:e}},380:function(e,t,n){var r=n(381);e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},381:function(e,t,n){var r=n(31),i=n(47),a=n(22)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},382:function(e,t,n){var r=n(22)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},39:function(e,t,n){t.a=function(e,t,n){if(t&&e){if(i()(s,t))return o[e]?(n&&"function"==typeof n&&(o[e].loaded?n():o[e].callbacks.push(n)),o[e].tag):(o[e]={loaded:!1,tag:null,callbacks:[]},n&&"function"==typeof n&&o[e].callbacks.push(n),a.logWarn("module ".concat(t," is loading external JavaScript")),(function(t,n){var r=document.createElement("script");return r.type="text/javascript",r.async=!0,(o[e].tag=r).readyState?r.onreadystatechange=function(){"loaded"!==r.readyState&&"complete"!==r.readyState||(r.onreadystatechange=null,n())}:r.onload=function(){n()},r.src=t,a.insertElement(r),r})(e,(function(){o[e].loaded=!0;try{for(var t=0;t<o[e].callbacks.length;t++)o[e].callbacks[t]()}catch(t){a.logError("Error executing callback","adloader.js:loadExternalScript",t)}})));a.logError("".concat(t," not whitelisted for loading external JavaScript"))}else a.logError("cannot load external script without url and moduleCode")};var r=n(13),i=n.n(r),a=n(0),o={},s=["adloox","criteo","outstream","adagio","browsi"]},4:function(e,t,n){n.d(t,"a",(function(){return s})),t.b=u;var r=n(3);function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var o=n(0),s=u();function u(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:3e3,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=t.request,s=t.done;return function(t,u,c){var d=3<arguments.length&&void 0!==arguments[3]?arguments[3]:{};try{var l,f=d.method||(c?"POST":"GET"),p=document.createElement("a");p.href=t;var h,m="object"===a(u)&&null!==u?u:{success:function(){o.logMessage("xhr success")},error:function(e){o.logError("xhr error",null,e)}};"function"==typeof u&&(m.success=u),(l=new window.XMLHttpRequest).onreadystatechange=function(){var e;4===l.readyState&&("function"==typeof s&&s(p.origin),200<=(e=l.status)&&e<300||304===e?m.success(l.responseText,l):m.error(l.statusText,l))},r.b.getConfig("disableAjaxTimeout")||(l.ontimeout=function(){o.logError("  xhr timeout after ",l.timeout,"ms")}),"GET"===f&&c&&(i((h=o.parseUrl(t,d)).search,c),t=o.buildUrl(h)),l.open(f,t,!0),r.b.getConfig("disableAjaxTimeout")||(l.timeout=e),d.withCredentials&&(l.withCredentials=!0),o._each(d.customHeaders,(function(e,t){l.setRequestHeader(t,e)})),d.preflight&&l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.setRequestHeader("Content-Type",d.contentType||"text/plain"),"function"==typeof n&&n(p.origin),"POST"===f&&c?l.send(c):l.send()}catch(t){o.logError("xhr construction",t)}}}},40:function(e,t){e.exports={}},41:function(e,t,n){var r=n(15),i=n(21),a=n(22)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},42:function(e,t,n){n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return A})),t.c=w,n.d(t,"d",(function(){return T}));var r=n(0),i=n(3),a=n(38),o=n(23),s=n(96),u=n(2),c=n(11),d=n(13),l=n.n(d),f=n(10),p=n.n(f);function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e){return (function(e){if(Array.isArray(e))return v(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||(function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=n(0),b=n(5),E=[],_=Object.keys(b.TARGETING_KEYS).map((function(e){return b.TARGETING_KEYS[e]})),S={isBidNotExpired:function(e){return e.responseTimestamp+1e3*e.ttl-1e3>Object(r.timestamp)()},isUnusedBid:function(e){return e&&(e.status&&!l()([b.BID_STATUS.RENDERED],e.status)||!e.status)}},A=Object(c.b)("sync",(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;if(3<arguments.length&&void 0!==arguments[3]&&arguments[3])return e;var a=[],o=i.b.getConfig("sendBidsControl.dealPrioritization"),s=Object(r.groupBy)(e,"adUnitCode");return Object.keys(s).forEach((function(e){var i=[],u=Object(r.groupBy)(s[e],"bidderCode");Object.keys(u).forEach((function(e){return i.push(u[e].reduce(t))})),0<n?(i=o?i.sort(w(!0)):i.sort((function(e,t){return t.cpm-e.cpm})),a.push.apply(a,g(i.slice(0,n)))):a.push.apply(a,g(i))})),a}));function w(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];return function(t,n){return void 0!==t.adserverTargeting.hb_deal&&void 0===n.adserverTargeting.hb_deal?-1:void 0===t.adserverTargeting.hb_deal&&void 0!==n.adserverTargeting.hb_deal?1:e?n.cpm-t.cpm:n.adserverTargeting.hb_pb-t.adserverTargeting.hb_pb}}var O,I,C,T=(O=o.a,C={},(I={}).setLatestAuctionForAdUnit=function(e,t){C[e]=t},I.resetPresetTargeting=function(e,t){var n,i;Object(r.isGptPubadsDefined)()&&(n=x(e),i=O.getAdUnits().filter((function(e){return l()(n,e.code)})),window.googletag.pubads().getSlots().forEach((function(e){var n=y.isFn(t)&&t(e);E.forEach((function(t){i.forEach((function(r){(r.code===e.getAdUnitPath()||r.code===e.getSlotElementId()||y.isFn(n)&&n(r.code))&&e.setTargeting(t,null)}))}))})))},I.resetPresetTargetingAST=function(e){x(e).forEach((function(e){var t,n,r=window.apntag.getTag(e);r&&r.keywords&&(t=Object.keys(r.keywords),n={},t.forEach((function(e){l()(E,e.toLowerCase())||(n[e]=r.keywords[e])})),window.apntag.modifyTag(e,{keywords:n}))}))},I.getAllTargeting=function(e){var t,n,o,s,u,c,d,f,v,S,C,T,R,B=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k(),U=x(e),L=(S=U,C=B,T=I.getWinningBids(S,C),R=N(),(T=T.map((function(e){return m({},e.adUnitCode,Object.keys(e.adserverTargeting).filter((function(t){return void 0===e.sendStandardTargeting||e.sendStandardTargeting||-1===R.indexOf(t)})).reduce((function(t,n){var r=[e.adserverTargeting[n]],i=m({},n.substring(0,20),r);if(n!==b.TARGETING_KEYS.DEAL)return[].concat(g(t),[i]);var a=m({},"".concat(n,"_").concat(e.bidderCode).substring(0,20),r);return[].concat(g(t),[i,a])}),[]))}))).concat((v=U,B.filter((function(e){return l()(v,e.adUnitCode)})).map((function(e){return h({},e)})).reduce(D,[]).map(j).filter((function(e){return e})))).concat(i.b.getConfig("enableSendAllBids")?(n=U,o=B,s=_.concat(a.a),u=i.b.getConfig("sendBidsControl.bidLimit"),c=A(o,r.getHighestCpm,u),d=i.b.getConfig("targetingControls.allowSendAllBidsTargetingKeys"),f=d?d.map((function(e){return b.TARGETING_KEYS[e]})):s,c.map((function(e){if(P(e,n))return m({},e.adUnitCode,M(e,s.filter((function(t){return void 0!==e.adserverTargeting[t]&&-1!==f.indexOf(t)}))))})).filter((function(e){return e}))):(function(e,t){if(!0!==i.b.getConfig("targetingControls.alwaysIncludeDeals"))return[];var n=_.concat(a.a);return A(t,r.getHighestCpm).map((function(t){if(t.dealId&&P(t,e))return m({},t.adUnitCode,M(t,n.filter((function(e){return void 0!==t.adserverTargeting[e]}))))})).filter((function(e){return e}))})(U,B)).concat((t=U,O.getAdUnits().filter((function(e){return l()(t,e.code)&&V(e)})).map((function(e){return m({},e.code,(t=V(e),Object.keys(t).map((function(e){return m({},e,y.isArray(t[e])?t[e]:t[e].split(","))}))));var t})))));function V(e){return Object(r.deepAccess)(e,b.JSON_MAPPING.ADSERVER_TARGETING)}L.map((function(e){Object.keys(e).map((function(t){e[t].map((function(e){-1===E.indexOf(Object.keys(e)[0])&&(E=Object.keys(e).concat(E))}))}))}));var F=Object.keys(h({},b.DEFAULT_TARGETING_KEYS,b.NATIVE_KEYS)),G=i.b.getConfig("targetingControls.allowTargetingKeys")||F;Array.isArray(G)&&0<G.length&&(L=(function(e,t){var n=h({},b.TARGETING_KEYS,b.NATIVE_KEYS),i=Object.keys(n),a={};Object(r.logInfo)("allowTargetingKeys - allowed keys [ ".concat(t.map((function(e){return n[e]})).join(", ")," ]")),e.map((function(e){var r=Object.keys(e)[0],o=e[r].filter((function(e){var r=Object.keys(e)[0],o=0===i.filter((function(e){return 0===r.indexOf(n[e])})).length||p()(t,(function(e){var t=n[e];return 0===r.indexOf(t)}));return a[r]=!o,o}));e[r]=o}));var o=Object.keys(a).filter((function(e){return a[e]}));return Object(r.logInfo)("allowTargetingKeys - removed keys [ ".concat(o.join(", ")," ]")),e.filter((function(e){return 0<e[Object.keys(e)[0]].length}))})(L,G)),L=L.map((function(e){return m({},Object.keys(e)[0],e[Object.keys(e)[0]].map((function(e){return m({},Object.keys(e)[0],e[Object.keys(e)[0]].join(", "))})).reduce((function(e,t){return h(t,e)}),{}))})).reduce((function(e,t){var n=Object.keys(t)[0];return e[n]=h({},e[n],t[n]),e}),{});var q,z,W,H=i.b.getConfig("targetingControls.auctionKeyMaxChars");return H&&(Object(r.logInfo)("Detected 'targetingControls.auctionKeyMaxChars' was active for this auction; set with a limit of ".concat(H," characters.  Running checks on auction keys...")),q=L,z=H,W=Object(r.deepClone)(q),L=Object.keys(W).map((function(e){return{adUnitCode:e,adserverTargeting:W[e]}})).sort(w()).reduce((function(e,t,n,i){var a,o=(a=t.adserverTargeting,Object.keys(a).reduce((function(e,t){return e+"".concat(t,"%3d").concat(encodeURIComponent(a[t]),"%26")}),""));n+1===i.length&&(o=o.slice(0,-3));var s=t.adUnitCode,u=o.length;return u<=z?(z-=u,Object(r.logInfo)("AdUnit '".concat(s,"' auction keys comprised of ").concat(u," characters.  Deducted from running threshold; new limit is ").concat(z),W[s]),e[s]=W[s]):Object(r.logWarn)("The following keys for adUnitCode '".concat(s,"' exceeded the current limit of the 'auctionKeyMaxChars' setting.\nThe key-set size was ").concat(u,", the current allotted amount was ").concat(z,".\n"),W[s]),n+1===i.length&&0===Object.keys(e).length&&Object(r.logError)("No auction targeting keys were permitted due to the setting in setConfig(targetingControls.auctionKeyMaxChars).  Please review setup and consider adjusting."),e}),{})),U.forEach((function(e){L[e]||(L[e]={})})),L},I.setTargetingForGPT=function(e,t){window.googletag.pubads().getSlots().forEach((function(n){Object.keys(e).filter((t||Object(r.isAdUnitCodeMatchingSlot))(n)).forEach((function(t){return Object.keys(e[t]).forEach((function(r){var i=e[t][r];"string"==typeof i&&(i=i.split(",")),(i=1<i.length?[i]:i).map((function(e){return y.logMessage("Attempting to set key value for slot: ".concat(n.getSlotElementId()," key: ").concat(r," value: ").concat(e)),e})).forEach((function(e){n.setTargeting(r,e)}))}))}))}))},I.getWinningBids=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:k(),n=x(e);return t.filter((function(e){return l()(n,e.adUnitCode)})).filter((function(e){return 0<e.cpm})).map((function(e){return e.adUnitCode})).filter(r.uniques).map((function(e){return t.filter((function(t){return t.adUnitCode===e?t:null})).reduce(r.getHighestCpm)}))},I.setTargetingForAst=function(e){var t=I.getAllTargeting(e);try{I.resetPresetTargetingAST(e)}catch(e){y.logError("unable to reset targeting for AST"+e)}Object.keys(t).forEach((function(e){return Object.keys(t[e]).forEach((function(n){var r;y.logMessage("Attempting to set targeting for targetId: ".concat(e," key: ").concat(n," value: ").concat(t[e][n])),(y.isStr(t[e][n])||y.isArray(t[e][n]))&&(r={},n.search(/pt[0-9]/)<0?r[n.toUpperCase()]=t[e][n]:r[n]=t[e][n],window.apntag.setKeywords(e,r,{overrideKeyValue:!0}))}))}))},I.isApntagDefined=function(){if(window.apntag&&y.isFn(window.apntag.setKeywords))return!0},I);function P(e,t){return e.adserverTargeting&&t&&(y.isArray(t)&&l()(t,e.adUnitCode)||"string"==typeof t&&e.adUnitCode===t)}function x(e){return"string"==typeof e?[e]:y.isArray(e)?e:O.getAdUnitCodes()||[]}function k(){var e=O.getBidsReceived();return i.b.getConfig("useBidCache")||(e=e.filter((function(e){return C[e.adUnitCode]===e.auctionId}))),e=e.filter((function(e){return Object(r.deepAccess)(e,"video.context")!==u.a})).filter((function(e){return"banner"!==e.mediaType||Object(s.c)([e.width,e.height])})).filter(S.isUnusedBid).filter(S.isBidNotExpired),A(e,r.getOldestHighestCpmBid)}function N(){return O.getStandardBidderAdServerTargeting().map((function(e){return e.key})).concat(_).filter(r.uniques)}function D(e,t,n,i){return Object.keys(t.adserverTargeting).filter(R()).forEach((function(n){var i,a;e.length&&e.filter((a=n,function(e){return e.adUnitCode===t.adUnitCode&&e.adserverTargeting[a]})).forEach((i=n,function(e){y.isArray(e.adserverTargeting[i])||(e.adserverTargeting[i]=[e.adserverTargeting[i]]),e.adserverTargeting[i]=e.adserverTargeting[i].concat(t.adserverTargeting[i]).filter(r.uniques),delete t.adserverTargeting[i]}))})),e.push(t),e}function R(){var e=N().concat(a.a);return function(t){return-1===e.indexOf(t)}}function j(e){return m({},e.adUnitCode,Object.keys(e.adserverTargeting).filter(R()).map((function(t){return m({},t.substring(0,20),[e.adserverTargeting[t]])})))}function M(e,t){return t.map((function(t){return m({},"".concat(t,"_").concat(e.bidderCode).substring(0,20),[e.adserverTargeting[t]])}))}},43:function(e,t,n){n.d(t,"a",(function(){return E}));var r=n(0),i=n(3),a=n(13),o=n.n(a),s=n(7);function u(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}i.b.setDefaults({userSync:r.deepClone({syncEnabled:!0,filterSettings:{image:{bidders:"*",filter:"include"}},syncsPerBidder:5,syncDelay:3e3,auctionDelay:0})});var l,f,p,h,m,g,v,y=Object(s.a)("usersync"),b=!r.isSafariBrowser()&&y.cookiesAreEnabled(),E=(l={config:i.b.getConfig("userSync"),browserSupportsCookies:b},f={},p={image:[],iframe:[]},h=new Set,g={image:!0,iframe:!(m={})},v=l.config,i.b.getConfig("userSync",(function(e){var t;e.userSync&&(t=e.userSync.filterSettings,r.isPlainObject(t)&&(t.image||t.all||(e.userSync.filterSettings.image={bidders:"*",filter:"include"}))),v=d(v,e.userSync)})),f.registerSync=function(e,t,n){return h.has(t)?r.logMessage('already fired syncs for "'.concat(t,'", ignoring registerSync call')):v.syncEnabled&&r.isArray(p[e])?t?0!==v.syncsPerBidder&&Number(m[t])>=v.syncsPerBidder?r.logWarn('Number of user syncs exceeded for "'.concat(t,'"')):f.canBidderRegisterSync(e,t)?(p[e].push([t,n]),(i=m)[a=t]?i[a]+=1:i[a]=1,void(m=i)):r.logWarn('Bidder "'.concat(t,'" not permitted to register their "').concat(e,'" userSync pixels.')):r.logWarn("Bidder is required for registering sync"):r.logWarn('User sync type "'.concat(e,'" not supported'));var i,a},f.syncUsers=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(e)return setTimeout(_,Number(e));_()},f.triggerUserSyncs=function(){v.enableOverride&&f.syncUsers()},f.canBidderRegisterSync=function(e,t){return!v.filterSettings||!(function(e,t){var n=v.filterSettings;if(function(e,t){if(e.all&&e[t])return r.logWarn('Detected presence of the "filterSettings.all" and "filterSettings.'.concat(t,'" in userSync config.  You cannot mix "all" with "iframe/image" configs; they are mutually exclusive.')),!1;var n=e.all?e.all:e[t],i=e.all?"all":t;if(!n)return!1;var a=n.filter,o=n.bidders;return a&&"include"!==a&&"exclude"!==a?(r.logWarn('UserSync "filterSettings.'.concat(i,".filter\" setting '").concat(a,"' is not a valid option; use either 'include' or 'exclude'.")),!1):!!("*"===o||Array.isArray(o)&&0<o.length&&o.every((function(e){return r.isStr(e)&&"*"!==e})))||(r.logWarn('Detected an invalid setup in userSync "filterSettings.'.concat(i,".bidders\"; use either '*' (to represent all bidders) or an array of bidders.")),!1)}(n,e)){g[e]=!0;var i=n.all?n.all:n[e],a="*"===i.bidders?[t]:i.bidders;return{include:function(e,t){return!o()(e,t)},exclude:function(e,t){return o()(e,t)}}[i.filter||"include"](a,t)}return!g[e]})(e,t)},f);function _(){if(v.syncEnabled&&l.browserSupportsCookies){try{g.image&&S(p.image,(function(e){var t=u(e,2),n=t[0],i=t[1];r.logMessage("Invoking image pixel user sync for bidder: ".concat(n)),r.triggerPixel(i)})),g.iframe&&S(p.iframe,(function(e){var t=u(e,2),n=t[0],i=t[1];r.logMessage("Invoking iframe user sync for bidder: ".concat(n)),r.insertUserSyncIframe(i)}))}catch(e){return r.logError("Error firing user syncs",e)}p={image:[],iframe:[]}}}function S(e,t){r.shuffle(e).forEach((function(e){t(e),h.add(e[0])}))}},44:function(e,t,n){n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return p}));var r=n(10),i=n.n(r),a=n(0),o={buckets:[{max:5,increment:.5}]},s={buckets:[{max:20,increment:.1}]},u={buckets:[{max:20,increment:.01}]},c={buckets:[{max:3,increment:.01},{max:8,increment:.05},{max:20,increment:.5}]},d={buckets:[{max:5,increment:.05},{max:10,increment:.1},{max:20,increment:.5}]};function l(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,r=parseFloat(e);return isNaN(r)&&(r=""),{low:""===r?"":f(e,o,n),med:""===r?"":f(e,s,n),high:""===r?"":f(e,u,n),auto:""===r?"":f(e,d,n),dense:""===r?"":f(e,c,n),custom:""===r?"":f(e,t,n)}}function f(e,t,n){var r="";if(!p(t))return r;var a,o,s,u,c,d,l,f,h,m=t.buckets.reduce((function(e,t){return e.max>t.max?e:t}),{max:0}),g=0,v=i()(t.buckets,(function(t){if(e>m.max*n){var i=t.precision;void 0===i&&(i=2),r=(t.max*n).toFixed(i)}else{if(e<=t.max*n&&g*n<=e)return t.min=g,t;g=t.max}}));return v&&(a=e,s=n,u=void 0!==(o=v).precision?o.precision:2,c=o.increment*s,d=o.min*s,f=(a*(l=Math.pow(10,u+2))-d*l)/(c*l),h=Math.floor(f)*c+d,r=(h=Number(h.toFixed(10))).toFixed(u)),r}function p(e){if(a.isEmpty(e)||!e.buckets||!Array.isArray(e.buckets))return!1;var t=!0;return e.buckets.forEach((function(e){e.max&&e.increment||(t=!1)})),t}},45:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},46:function(e,t,n){var r=n(75),i=n(48);e.exports=function(e){return r(i(e))}},47:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},48:function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},49:function(e,t){e.exports={}},5:function(e,t){e.exports={JSON_MAPPING:{PL_CODE:"code",PL_SIZE:"sizes",PL_BIDS:"bids",BD_BIDDER:"bidder",BD_ID:"paramsd",BD_PL_ID:"placementId",ADSERVER_TARGETING:"adserverTargeting",BD_SETTING_STANDARD:"standard"},DEBUG_MODE:"pbjs_debug",STATUS:{GOOD:1,NO_BID:2},CB:{TYPE:{ALL_BIDS_BACK:"allRequestedBidsBack",AD_UNIT_BIDS_BACK:"adUnitBidsBack",BID_WON:"bidWon",REQUEST_BIDS:"requestBids"}},EVENTS:{AUCTION_INIT:"auctionInit",AUCTION_END:"auctionEnd",BID_ADJUSTMENT:"bidAdjustment",BID_TIMEOUT:"bidTimeout",BID_REQUESTED:"bidRequested",BID_RESPONSE:"bidResponse",NO_BID:"noBid",BID_WON:"bidWon",BIDDER_DONE:"bidderDone",SET_TARGETING:"setTargeting",BEFORE_REQUEST_BIDS:"beforeRequestBids",REQUEST_BIDS:"requestBids",ADD_AD_UNITS:"addAdUnits",AD_RENDER_FAILED:"adRenderFailed",TCF2_ENFORCEMENT:"tcf2Enforcement",AUCTION_DEBUG:"auctionDebug",BID_VIEWABLE:"bidViewable",STALE_RENDER:"staleRender"},AD_RENDER_FAILED_REASON:{PREVENT_WRITING_ON_MAIN_DOCUMENT:"preventWritingOnMainDocument",NO_AD:"noAd",EXCEPTION:"exception",CANNOT_FIND_AD:"cannotFindAd",MISSING_DOC_OR_ADID:"missingDocOrAdid"},EVENT_ID_PATHS:{bidWon:"adUnitCode"},GRANULARITY_OPTIONS:{LOW:"low",MEDIUM:"medium",HIGH:"high",AUTO:"auto",DENSE:"dense",CUSTOM:"custom"},TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host",ADOMAIN:"hb_adomain"},DEFAULT_TARGETING_KEYS:{BIDDER:"hb_bidder",AD_ID:"hb_adid",PRICE_BUCKET:"hb_pb",SIZE:"hb_size",DEAL:"hb_deal",SOURCE:"hb_source",FORMAT:"hb_format",UUID:"hb_uuid",CACHE_ID:"hb_cache_id",CACHE_HOST:"hb_cache_host"},NATIVE_KEYS:{title:"hb_native_title",body:"hb_native_body",body2:"hb_native_body2",privacyLink:"hb_native_privacy",privacyIcon:"hb_native_privicon",sponsoredBy:"hb_native_brand",image:"hb_native_image",icon:"hb_native_icon",clickUrl:"hb_native_linkurl",displayUrl:"hb_native_displayurl",cta:"hb_native_cta",rating:"hb_native_rating",address:"hb_native_address",downloads:"hb_native_downloads",likes:"hb_native_likes",phone:"hb_native_phone",price:"hb_native_price",salePrice:"hb_native_saleprice",rendererUrl:"hb_renderer_url",adTemplate:"hb_adTemplate"},S2S:{SRC:"s2s",DEFAULT_ENDPOINT:"https://prebid.adnxs.com/pbs/v1/openrtb2/auction",SYNCED_BIDDERS_KEY:"pbjsSyncs"},BID_STATUS:{BID_TARGETING_SET:"targetingSet",RENDERED:"rendered",BID_REJECTED:"bidRejected"}}},50:function(e,t,n){var r=n(58),i=Math.min;e.exports=function(e){return 0<e?i(r(e),9007199254740991):0}},51:function(e,t){e.exports=function(){}},52:function(e,t,n){var r=n(28);e.exports=r},53:function(e,t){e.exports={}},54:function(e,t,n){var r,i,a,o,s,u,c,d,l=n(117),f=n(26),p=n(31),h=n(32),m=n(27),g=n(65),v=n(53),y=f.WeakMap;c=l?(r=new y,i=r.get,a=r.has,o=r.set,s=function(e,t){return o.call(r,e,t),t},u=function(e){return i.call(r,e)||{}},function(e){return a.call(r,e)}):(v[d=g("state")]=!0,s=function(e,t){return h(e,d,t),t},u=function(e){return m(e,d)?e[d]:{}},function(e){return m(e,d)}),e.exports={set:s,get:u,has:c,enforce:function(e){return c(e)?u(e):s(e,{})},getterFor:function(e){return function(t){var n;if(!p(t)||(n=u(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},55:function(e,t,n){var r=n(31);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},56:function(e,t,n){function r(e){var t=1==e,n=2==e,r=3==e,d=4==e,l=6==e,f=5==e||l;return function(p,h,m,g){for(var v,y,b=o(p),E=a(b),_=i(h,m,3),S=s(E.length),A=0,w=g||u,O=t?w(p,S):n?w(p,0):void 0;A<S;A++)if((f||A in E)&&(y=_(v=E[A],A,b),e))if(t)O[A]=y;else if(y)switch(e){case 3:return!0;case 5:return v;case 6:return A;case 2:c.call(O,v)}else if(d)return!1;return l?-1:r||d?d:O}}var i=n(25),a=n(75),o=n(57),s=n(50),u=n(105),c=[].push;e.exports={forEach:r(0),map:r(1),filter:r(2),some:r(3),every:r(4),find:r(5),findIndex:r(6)}},57:function(e,t,n){var r=n(48);e.exports=function(e){return Object(r(e))}},58:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},59:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol("+String(void 0===e?"":e)+")_"+(++n+r).toString(36)}},60:function(e,t,n){function r(e){throw e}var i=n(29),a=n(30),o=n(27),s=Object.defineProperty,u={};e.exports=function(e,t){if(o(u,e))return u[e];var n=[][e],c=!!o(t=t||{},"ACCESSORS")&&t.ACCESSORS,d=o(t,0)?t[0]:r,l=o(t,1)?t[1]:void 0;return u[e]=!!n&&!a((function(){if(c&&!i)return!0;var e={length:-1};c?s(e,1,{enumerable:!0,get:r}):e[1]=1,n.call(e,d,l)}))}},61:function(e,t,n){var r=n(62),i=n(40),a=n(22)("iterator");e.exports=function(e){if(null!=e)return e[a]||e["@@iterator"]||i[r(e)]}},62:function(e,t,n){var r=n(63),i=n(47),a=n(22)("toStringTag"),o="Arguments"==i(arguments);e.exports=r?i:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=(function(e,t){try{return e[t]}catch(e){}})(t=Object(e),a))?n:o?i(t):"Object"==(r=i(t))&&"function"==typeof t.callee?"Arguments":r}},63:function(e,t,n){var r={};r[n(22)("toStringTag")]="z",e.exports="[object z]"===String(r)},64:function(e,t,n){var r=n(63),i=n(34).f,a=n(32),o=n(27),s=n(116),u=n(22)("toStringTag");e.exports=function(e,t,n,c){var d;e&&(d=n?e:e.prototype,o(d,u)||i(d,u,{configurable:!0,value:t}),c&&!r&&a(d,"toString",s))}},65:function(e,t,n){var r=n(78),i=n(59),a=r("keys");e.exports=function(e){return a[e]||(a[e]=i(e))}},66:function(e,t,n){function r(){return this}var i=n(14),a=n(125),o=n(91),s=n(127),u=n(64),c=n(32),d=n(89),l=n(22),f=n(17),p=n(40),h=n(90),m=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,v=l("iterator"),y="values",b="entries";e.exports=function(e,t,n,l,h,E,_){function S(e){if(e===h&&x)return x;if(!g&&e in T)return T[e];switch(e){case"keys":case y:case b:return function(){return new n(this,e)}}return function(){return new n(this)}}a(n,t,l);var A,w,O,I=t+" Iterator",C=!1,T=e.prototype,P=T[v]||T["@@iterator"]||h&&T[h],x=!g&&P||S(h),k="Array"==t&&T.entries||P;if(k&&(A=o(k.call(new e)),m!==Object.prototype&&A.next&&(f||o(A)===m||(s?s(A,m):"function"!=typeof A[v]&&c(A,v,r)),u(A,I,!0,!0),f&&(p[I]=r))),h==y&&P&&P.name!==y&&(C=!0,x=function(){return P.call(this)}),f&&!_||T[v]===x||c(T,v,x),p[t]=x,h)if(w={values:S(y),keys:E?x:S("keys"),entries:S(b)},_)for(O in w)!g&&!C&&O in T||d(T,O,w[O]);else i({target:t,proto:!0,forced:g||C},w);return w}},67:function(e,t,n){n.d(t,"a",(function(){return o}));var r=n(0),i={};function a(e,t,n){var r,a,o,s=(a=n,o=i[r=e]=i[r]||{bidders:{}},a?o.bidders[a]=o.bidders[a]||{}:o);return s[t]=(s[t]||0)+1,s[t]}var o={incrementRequestsCounter:function(e){return a(e,"requestsCounter")},incrementBidderRequestsCounter:function(e,t){return a(e,"requestsCounter",t)},incrementBidderWinsCounter:function(e,t){return a(e,"winsCounter",t)},getRequestsCounter:function(e){return Object(r.deepAccess)(i,"".concat(e,".requestsCounter"))||0},getBidderRequestsCounter:function(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".requestsCounter"))||0},getBidderWinsCounter:function(e,t){return Object(r.deepAccess)(i,"".concat(e,".bidders.").concat(t,".winsCounter"))||0}}},7:function(e,t,n){n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),t.a=function(e){return c({moduleName:e,moduleType:"core"})},t.b=function(e,t){return c({gvlid:e,moduleName:t})};var r=n(11),i=n(0),a=n(13),o=n.n(a),s=["core","prebid-module"],u=[];function c(e){var t=0<arguments.length&&void 0!==e?e:{},n=t.gvlid,r=t.moduleName,a=t.moduleType;function c(e){return o()(s,a)?e({valid:!0}):(d(n,r,{hasEnforcementHook:!1},(function(n){var r;t=n&&n.hasEnforcementHook?e(n):(r={hasEnforcementHook:!1,valid:i.hasDeviceAccess()},e(r))})),t);var t}var l=function(e){function t(e){if(e&&e.valid)try{return!!window.localStorage}catch(e){i.logError("Local storage api disabled")}return!1}if(!e||"function"!=typeof e)return c(t);u.push((function(){var n=c(t);e(n)}))};return{setCookie:function(e,t,n,r,i,a){function o(a){var o,s,u;a&&a.valid&&(o=i&&""!==i?" ;domain=".concat(encodeURIComponent(i)):"",s=n&&""!==n?" ;expires=".concat(n):"",u=null!=r&&"none"==r.toLowerCase()?"; Secure":"",document.cookie="".concat(e,"=").concat(encodeURIComponent(t)).concat(s,"; path=/").concat(o).concat(r?"; SameSite=".concat(r):"").concat(u))}if(!a||"function"!=typeof a)return c(o);u.push((function(){var e=c(o);a(e)}))},getCookie:function(e,t){function n(t){if(t&&t.valid){var n=window.document.cookie.match("(^|;)\\s*"+e+"\\s*=\\s*([^;]*)\\s*(;|$)");return n?decodeURIComponent(n[2]):null}return null}if(!t||"function"!=typeof t)return c(n);u.push((function(){var e=c(n);t(e)}))},localStorageIsEnabled:function(e){function t(e){if(e&&e.valid)try{return localStorage.setItem("prebid.cookieTest","1"),"1"===localStorage.getItem("prebid.cookieTest")}catch(e){}finally{try{localStorage.removeItem("prebid.cookieTest")}catch(e){}}return!1}if(!e||"function"!=typeof e)return c(t);u.push((function(){var n=c(t);e(n)}))},cookiesAreEnabled:function(e){function t(e){return!(!e||!e.valid||!i.checkCookieSupport()&&(window.document.cookie="prebid.cookieTest",-1===window.document.cookie.indexOf("prebid.cookieTest")))}if(!e||"function"!=typeof e)return c(t);u.push((function(){var n=c(t);e(n)}))},setDataInLocalStorage:function(e,t,n){function r(n){n&&n.valid&&l()&&window.localStorage.setItem(e,t)}if(!n||"function"!=typeof n)return c(r);u.push((function(){var e=c(r);n(e)}))},getDataFromLocalStorage:function(e,t){function n(t){return t&&t.valid&&l()?window.localStorage.getItem(e):null}if(!t||"function"!=typeof t)return c(n);u.push((function(){var e=c(n);t(e)}))},removeDataFromLocalStorage:function(e,t){function n(t){t&&t.valid&&l()&&window.localStorage.removeItem(e)}if(!t||"function"!=typeof t)return c(n);u.push((function(){var e=c(n);t(e)}))},hasLocalStorage:l,findSimilarCookies:function(e,t){function n(t){if(t&&t.valid){var n=[];if(i.hasDeviceAccess())for(var r=document.cookie.split(";");r.length;){var a=r.pop(),o=(o=a.indexOf("="))<0?a.length:o;0<=decodeURIComponent(a.slice(0,o).replace(/^\s+/,"")).indexOf(e)&&n.push(decodeURIComponent(a.slice(o+1)))}return n}}if(!t||"function"!=typeof t)return c(n);u.push((function(){var e=c(n);t(e)}))}}}var d=Object(r.b)("async",(function(e,t,n,r){r(n)}),"validateStorageEnforcement")},71:function(e,t,n){var r=n(232);e.exports=r},72:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adUnitSetupChecks",(function(){return H})),n.d(t,"checkAdUnitSetup",(function(){return K})),t.executeCallbacks=J;var r=n(16),i=n(0),a=n(240),o=n(43),s=n(3),u=n(23),c=n(42),d=n(11),l=n(241),f=n(13),p=n.n(f),h=n(67),m=n(12),g=n(35),v=n(7);function y(e){return (function(e){if(Array.isArray(e))return b(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||(function(e,t){if(e){if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(e,t):void 0}})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function E(){return(E=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var _=Object(r.a)(),S=n(5),A=n(0),w=n(8).default,O=n(9),I=o.a.triggerUserSyncs,C=S.EVENTS,T=C.ADD_AD_UNITS,P=C.BID_WON,x=C.REQUEST_BIDS,k=C.SET_TARGETING,N=C.AD_RENDER_FAILED,D=C.STALE_RENDER,R=S.AD_RENDER_FAILED_REASON,j=R.PREVENT_WRITING_ON_MAIN_DOCUMENT,M=R.NO_AD,B=R.EXCEPTION,U=R.CANNOT_FIND_AD,L=R.MISSING_DOC_OR_ADID,V={bidWon:function(e){var t=u.a.getBidsRequested().map((function(e){return e.bids.map((function(e){return e.adUnitCode}))})).reduce(i.flatten).filter(i.uniques);return!!A.contains(t,e)||void A.logError('The "'+e+'" placement is not defined.')}};function F(e,t,n){e.defaultView&&e.defaultView.frameElement&&(e.defaultView.frameElement.width=t,e.defaultView.frameElement.height=n)}function G(e,t){var n=[];return A.isArray(e)&&(t?e.length===t:0<e.length)&&(e.every((function(e){return Object(i.isArrayOfNums)(e,2)}))?n=e:Object(i.isArrayOfNums)(e,2)&&n.push(e)),n}function q(e){var t=A.deepClone(e),n=t.mediaTypes.banner,r=G(n.sizes);return 0<r.length?(n.sizes=r,t.sizes=r):(A.logError("Detected a mediaTypes.banner object without a proper sizes field.  Please ensure the sizes are listed like: [[300, 250], ...].  Removing invalid mediaTypes.banner object from request."),delete t.mediaTypes.banner),t}function z(e){var t,n,r=A.deepClone(e),i=r.mediaTypes.video;return i.playerSize&&(t="number"==typeof i.playerSize[0]?2:1,0<(n=G(i.playerSize,t)).length?(2==t&&A.logInfo("Transforming video.playerSize from [640,480] to [[640,480]] so it's in the proper format."),i.playerSize=n,r.sizes=n):(A.logError("Detected incorrect configuration of mediaTypes.video.playerSize.  Please specify only one set of dimensions in a format like: [[640, 480]]. Removing invalid mediaTypes.video.playerSize property from request."),delete r.mediaTypes.video.playerSize)),r}function W(e){var t=A.deepClone(e),n=t.mediaTypes.native;return n.image&&n.image.sizes&&!Array.isArray(n.image.sizes)&&(A.logError("Please use an array of sizes for native.image.sizes field.  Removing invalid mediaTypes.native.image.sizes property from request."),delete t.mediaTypes.native.image.sizes),n.image&&n.image.aspect_ratios&&!Array.isArray(n.image.aspect_ratios)&&(A.logError("Please use an array of sizes for native.image.aspect_ratios field.  Removing invalid mediaTypes.native.image.aspect_ratios property from request."),delete t.mediaTypes.native.image.aspect_ratios),n.icon&&n.icon.sizes&&!Array.isArray(n.icon.sizes)&&(A.logError("Please use an array of sizes for native.icon.sizes field.  Removing invalid mediaTypes.native.icon.sizes property from request."),delete t.mediaTypes.native.icon.sizes),t}Object(l.a)(),_.bidderSettings=_.bidderSettings||{},_.libLoaded=!0,_.version="v4.43.4",A.logInfo("Prebid.js v4.43.4 loaded"),_.installedModules=["adpod","aolBidAdapter","appnexusBidAdapter","beachfrontBidAdapter","criteoBidAdapter","ixBidAdapter","justpremiumBidAdapter","openxBidAdapter","pubmaticBidAdapter","rubiconBidAdapter","sharethroughBidAdapter","sonobiBidAdapter","tripleliftBidAdapter","consentManagement","userId","gumgumBidAdapter","undertoneBidAdapter","dfpAdServerVideo","oneVideoBidAdapter","spotxBidAdapter","pubCommonIdSystem","identityLinkIdSystem","unifiedIdSystem","telariaBidAdapter","consentManagementUsp","gridBidAdapter","atsAnalyticsAdapter","nativoBidAdapter","id5IdSystem","verizonMediaIdSystem","smartadserverBidAdapter"],_.adUnits=_.adUnits||[],_.triggerUserSyncs=I;var H={validateBannerMediaType:q,validateVideoMediaType:z,validateNativeMediaType:W,validateSizes:G},K=Object(d.b)("sync",(function(e){var t=[];return e.forEach((function(e){var n,r,i,a,o=e.mediaTypes,s=e.bids;s&&A.isArray(s)?o&&0!==Object.keys(o).length?(o.banner&&(n=q(e)),o.video&&(r=z(n||e)),o.native&&(i=W(r||n||e)),a=E({},n,r,i),t.push(a)):A.logError("Detected adUnit.code '".concat(e.code,"' did not have a 'mediaTypes' object defined.  This is a required field for the auction, so this adUnit has been removed.")):A.logError("Detected adUnit.code '".concat(e.code,"' did not have 'adUnit.bids' defined or 'adUnit.bids' is not an array. Removing adUnit from auction."))})),t}),"checkAdUnitSetup");function Y(e){var t=u.a[e]().filter(A.bind.call(i.adUnitsFilter,this,u.a.getAdUnitCodes())),n=u.a.getLastAuctionId();return t.map((function(e){return e.adUnitCode})).filter(i.uniques).map((function(e){return t.filter((function(t){return t.auctionId===n&&t.adUnitCode===e}))})).filter((function(e){return e&&e[0]&&e[0].adUnitCode})).map((function(e){return t={},r={bids:e},(n=e[0].adUnitCode)in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t;var t,n,r})).reduce((function(e,t){return E(e,t)}),{})}function $(e){var t=e.reason,n=e.message,r=e.bid,i=e.id,a={reason:t,message:n};r&&(a.bid=r),i&&(a.adId=i),A.logError(n),O.emit(N,a)}function J(e,t){function n(e){for(var t;t=e.shift();)t()}n(v.c),n(X),e.call(this,t)}_.getAdserverTargetingForAdUnitCodeStr=function(e){if(A.logInfo("Invoking pbjs.getAdserverTargetingForAdUnitCodeStr",arguments),e){var t=_.getAdserverTargetingForAdUnitCode(e);return A.transformAdServerTargetingObj(t)}A.logMessage("Need to call getAdserverTargetingForAdUnitCodeStr with adunitCode")},_.getHighestUnusedBidResponseForAdUnitCode=function(e){if(e){var t=u.a.getAllBidsForAdUnitCode(e).filter(c.a.isUnusedBid).filter(c.a.isBidNotExpired);return t.length?t.reduce(i.getHighestCpm):{}}A.logMessage("Need to call getHighestUnusedBidResponseForAdUnitCode with adunitCode")},_.getAdserverTargetingForAdUnitCode=function(e){return _.getAdserverTargeting(e)[e]},_.getAdserverTargeting=function(e){return A.logInfo("Invoking pbjs.getAdserverTargeting",arguments),c.d.getAllTargeting(e)},_.getNoBids=function(){return A.logInfo("Invoking pbjs.getNoBids",arguments),Y("getNoBids")},_.getNoBidsForAdUnitCode=function(e){return{bids:u.a.getNoBids().filter((function(t){return t.adUnitCode===e}))}},_.getBidResponses=function(){return A.logInfo("Invoking pbjs.getBidResponses",arguments),Y("getBidsReceived")},_.getBidResponsesForAdUnitCode=function(e){return{bids:u.a.getBidsReceived().filter((function(t){return t.adUnitCode===e}))}},_.setTargetingForGPTAsync=function(e,t){var n;A.logInfo("Invoking pbjs.setTargetingForGPTAsync",arguments),Object(i.isGptPubadsDefined)()?(n=c.d.getAllTargeting(e),c.d.resetPresetTargeting(e,t),c.d.setTargetingForGPT(n,t),Object.keys(n).forEach((function(e){Object.keys(n[e]).forEach((function(t){"hb_adid"===t&&u.a.setStatusForBids(n[e][t],S.BID_STATUS.BID_TARGETING_SET)}))})),O.emit(k,n)):A.logError("window.googletag is not defined on the page")},_.setTargetingForAst=function(e){A.logInfo("Invoking pbjs.setTargetingForAn",arguments),c.d.isApntagDefined()?(c.d.setTargetingForAst(e),O.emit(k,c.d.getAllTargeting())):A.logError("window.apntag is not defined on the page")},_.renderAd=function(e,t,n){if(A.logInfo("Invoking pbjs.renderAd",arguments),A.logMessage("Calling renderAd with adId :"+t),e&&t)try{var r,i,a,o,c,d,l,f,p,h,g,v,y,b,E=u.a.findBidByAdId(t);E?(r=!0,E&&E.status===S.BID_STATUS.RENDERED&&(A.logWarn("Ad id ".concat(E.adId," has been rendered before")),O.emit(D,E),A.deepAccess(s.b.getConfig("auctionOptions"),"suppressStaleRender")&&(r=!1)),r&&(E.ad=A.replaceAuctionPrice(E.ad,E.cpm),E.adUrl=A.replaceAuctionPrice(E.adUrl,E.cpm),n&&n.clickThrough&&(i=n.clickThrough,E.ad=A.replaceClickThrough(E.ad,i),E.adUrl=A.replaceClickThrough(E.adUrl,i)),u.a.addWinningBid(E),O.emit(P,E),a=E.height,o=E.width,c=E.ad,d=E.mediaType,l=E.adUrl,f=E.renderer,p=document.createComment("Creative ".concat(E.creativeId," served by ").concat(E.bidder," Prebid.js Header Bidding")),A.insertElement(p,e,"body"),Object(m.c)(f)?Object(m.b)(f,E):e===document&&!A.inIframe()||"video"===d?(h="Error trying to write ad. Ad render call ad id ".concat(t," was prevented from writing to the main document."),$({reason:j,message:h,bid:E,id:t})):c?(navigator.userAgent&&-1<navigator.userAgent.toLowerCase().indexOf("firefox/")&&(g=navigator.userAgent.toLowerCase().match(/firefox\/([\d\.]+)/)[1])&&parseInt(g,10)<67&&e.open("text/html","replace"),e.write(c),e.close(),F(e,o,a),A.callBurl(E)):l?((v=A.createInvisibleIframe()).height=a,v.width=o,v.style.display="inline",v.style.overflow="hidden",v.src=l,A.insertElement(v,e,"body"),F(e,o,a),A.callBurl(E)):(y="Error trying to write ad. No ad for bid response id: ".concat(t),$({reason:M,message:y,bid:E,id:t})))):(b="Error trying to write ad. Cannot find ad by given id : ".concat(t),$({reason:U,message:b,id:t}))}catch(e){var _="Error trying to write ad Id :".concat(t," to the page:").concat(e.message);$({reason:B,message:_,id:t})}else{var w="Error trying to write ad Id :".concat(t," to the page. Missing document or adId");$({reason:L,message:w,id:t})}},_.removeAdUnit=function(e){A.logInfo("Invoking pbjs.removeAdUnit",arguments),e?(A.isArray(e)?e:[e]).forEach((function(e){for(var t=_.adUnits.length-1;0<=t;t--)_.adUnits[t].code===e&&_.adUnits.splice(t,1)})):_.adUnits=[]},_.requestBids=Object(d.b)("async",(function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.bidsBackHandler,n=e.timeout,r=e.adUnits,i=e.adUnitCodes,a=e.labels,o=e.auctionId;O.emit(x);var d=n||s.b.getConfig("bidderTimeout");r=r&&s.b.convertAdUnitFpd(A.isArray(r)?r:[r])||_.adUnits;A.logInfo("Invoking pbjs.requestBids",arguments);var l=[],f=[];if(s.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(l=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])})),l.forEach((function(e){f.push.apply(f,y(e.bidders))})),r=K(r),i&&i.length?r=r.filter((function(e){return p()(i,e.code)})):i=r&&r.map((function(e){return e.code})),r.forEach((function(e){var t=Object.keys(e.mediaTypes||{banner:"banner"}),n=e.bids.map((function(e){return e.bidder})),r=w.bidderRegistry,i=f?n.filter((function(e){return!p()(f,e)})):n;e.transactionId=A.generateUUID(),i.forEach((function(n){var i=r[n],a=i&&i.getSpec&&i.getSpec(),o=a&&a.supportedMediaTypes||["banner"];t.some((function(e){return p()(o,e)}))?h.a.incrementBidderRequestsCounter(e.code,n):(A.logWarn(A.unsupportedBidderMessage(e,n)),e.bids=e.bids.filter((function(e){return e.bidder!==n})))})),h.a.incrementRequestsCounter(e.code)})),r&&0!==r.length){var m=u.a.createAuction({adUnits:r,adUnitCodes:i,callback:t,cbTimeout:d,labels:a,auctionId:o}),g=r.length;15<g&&A.logInfo("Current auction ".concat(m.getAuctionId()," contains ").concat(g," adUnits."),r),i.forEach((function(e){return c.d.setLatestAuctionForAdUnit(e,m.getAuctionId())})),m.callBids()}else if(A.logMessage("No adUnits configured. No bids requested."),"function"==typeof t)try{t()}catch(e){A.logError("Error executing bidsBackHandler",null,e)}})),_.requestBids.before(J,49),_.addAdUnits=function(e){A.logInfo("Invoking pbjs.addAdUnits",arguments),_.adUnits.push.apply(_.adUnits,s.b.convertAdUnitFpd(A.isArray(e)?e:[e])),O.emit(T)},_.onEvent=function(e,t,n){A.logInfo("Invoking pbjs.onEvent",arguments),A.isFn(t)?!n||V[e].call(null,n)?O.on(e,t,n):A.logError('The id provided is not valid for event "'+e+'" and no handler was set.'):A.logError('The event handler provided is not a function and was not set on event "'+e+'".')},_.offEvent=function(e,t,n){A.logInfo("Invoking pbjs.offEvent",arguments),n&&!V[e].call(null,n)||O.off(e,t,n)},_.getEvents=function(){return A.logInfo("Invoking pbjs.getEvents"),O.getEvents()},_.registerBidAdapter=function(e,t){A.logInfo("Invoking pbjs.registerBidAdapter",arguments);try{w.registerBidAdapter(e(),t)}catch(e){A.logError("Error registering bidder adapter : "+e.message)}},_.registerAnalyticsAdapter=function(e){A.logInfo("Invoking pbjs.registerAnalyticsAdapter",arguments);try{w.registerAnalyticsAdapter(e)}catch(e){A.logError("Error registering analytics adapter : "+e.message)}},_.createBid=function(e){return A.logInfo("Invoking pbjs.createBid",arguments),Object(g.a)(e)};var X=[],Q=Object(d.b)("async",(function(e){e&&!A.isEmpty(e)?(A.logInfo("Invoking pbjs.enableAnalytics for: ",e),w.enableAnalytics(e)):A.logError("pbjs.enableAnalytics should be called with option {}")}),"enableAnalyticsCb");function Z(e){e.forEach((function(e){if(void 0===e.called)try{e.call(),e.called=!0}catch(e){A.logError("Error processing command :","prebid.js",e)}}))}_.enableAnalytics=function(e){X.push(Q.bind(this,e))},_.aliasBidder=function(e,t,n){A.logInfo("Invoking pbjs.aliasBidder",arguments),e&&t?w.aliasBidAdapter(e,t,n):A.logError("bidderCode and alias must be passed as arguments","pbjs.aliasBidder")},_.getAllWinningBids=function(){return u.a.getAllWinningBids()},_.getAllPrebidWinningBids=function(){return u.a.getBidsReceived().filter((function(e){return e.status===S.BID_STATUS.BID_TARGETING_SET}))},_.getHighestCpmBids=function(e){return c.d.getWinningBids(e)},_.markWinningBidAsUsed=function(e){var t=[];e.adUnitCode&&e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId&&t.adUnitCode===e.adUnitCode})):e.adUnitCode?t=c.d.getWinningBids(e.adUnitCode):e.adId?t=u.a.getBidsReceived().filter((function(t){return t.adId===e.adId})):A.logWarn("Improper use of markWinningBidAsUsed. It needs an adUnitCode or an adId to function."),0<t.length&&(t[0].status=S.BID_STATUS.RENDERED)},_.getConfig=s.b.getConfig,_.setConfig=s.b.setConfig,_.setBidderConfig=s.b.setBidderConfig,_.que.push((function(){return Object(a.a)()})),_.cmd.push=function(e){if("function"==typeof e)try{e.call()}catch(e){A.logError("Error processing command :",e.message,e.stack)}else A.logError("Commands written into pbjs.cmd.push must be wrapped in a function")},_.que.push=_.cmd.push,_.processQueue=function(){d.b.ready(),Z(_.que),Z(_.cmd)},t.default=_},73:function(e,t,n){var r=n(378);e.exports=r},74:function(e,t,n){t.a=function(e,t){a.adServers=a.adServers||{},a.adServers[e]=a.adServers[e]||{},Object.keys(t).forEach((function(n){a.adServers[e][n]?Object(i.logWarn)("Attempting to add an already registered function property ".concat(n," for AdServer ").concat(e,".")):a.adServers[e][n]=t[n]}))};var r=n(16),i=n(0),a=Object(r.a)()},75:function(e,t,n){var r=n(30),i=n(47),a="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},76:function(e,t,n){var r=n(29),i=n(30),a=n(77);e.exports=!r&&!i((function(){return 7!=Object.defineProperty(a("div"),"a",{get:function(){return 7}}).a}))},77:function(e,t,n){var r=n(26),i=n(31),a=r.document,o=i(a)&&i(a.createElement);e.exports=function(e){return o?a.createElement(e):{}}},78:function(e,t,n){var r=n(17),i=n(79);(e.exports=function(e,t){return i[e]||(i[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.6.4",mode:r?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},79:function(e,t,n){var r=n(26),i=n(107),a="__core-js_shared__",o=r[a]||i(a,{});e.exports=o},8:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"gdprDataHandler",(function(){return x})),n.d(t,"uspDataHandler",(function(){return k})),n.d(t,"coppaDataHandler",(function(){return N})),n.d(t,"clientTestAdapters",(function(){return D})),n.d(t,"allS2SBidders",(function(){return R})),t.getAllS2SBidders=j,t.setS2STestingModule=function(e){E=e};var r=n(0),i=n(96),a=n(38),o=n(1),s=n(4),u=n(3),c=n(11),d=n(13),l=n.n(d),f=n(10),p=n.n(f),h=n(67),m=n(19);function g(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||v(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function v(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E,_=n(0),S=n(5),A=n(9),w={},O=w.bidderRegistry={},I=w.aliasRegistry={},C=[];u.b.getConfig("s2sConfig",(function(e){e&&e.s2sConfig&&(C=Array.isArray(e.s2sConfig)?e.s2sConfig:[e.s2sConfig])}));var T={},P=Object(c.b)("sync",(function(e){var t=e.bidderCode,n=e.auctionId,o=e.bidderRequestId,s=e.adUnits,u=e.labels,c=e.src;return s.reduce((function(e,s){var d=Object(i.b)(Object(i.a)(s,u),s.mediaTypes,s.sizes),l=d.active,f=d.mediaTypes,p=d.filterResults;return l?p&&_.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" banner sizes from '),p.before,"to ",p.after):_.logInfo('Size mapping disabled adUnit "'.concat(s.code,'"')),l&&e.push(s.bids.filter((function(e){return e.bidder===t})).reduce((function(e,t){var d=s.nativeParams||_.deepAccess(s,"mediaTypes.native");d&&(t=b({},t,{nativeParams:Object(a.h)(d)})),t=b({},t,Object(r.getDefinedParams)(s,["ortb2Imp","mediaType","renderer","storedAuctionResponse"]));var l=Object(i.b)(Object(i.a)(t,u),f),p=l.active,m=l.mediaTypes,g=l.filterResults;return p?g&&_.logInfo('Size mapping filtered adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'" banner sizes from '),g.before,"to ",g.after):_.logInfo('Size mapping deactivated adUnit "'.concat(s.code,'" bidder "').concat(t.bidder,'"')),_.isValidMediaTypes(m)?t=b({},t,{mediaTypes:m}):_.logError("mediaTypes is not correctly configured for adunit ".concat(s.code)),p&&e.push(b({},t,{adUnitCode:s.code,transactionId:s.transactionId,sizes:_.deepAccess(m,"banner.sizes")||_.deepAccess(m,"video.playerSize")||[],bidId:t.bid_id||_.getUniqueIdentifierStr(),bidderRequestId:o,auctionId:n,src:c,bidRequestsCount:h.a.getRequestsCounter(s.code),bidderRequestsCount:h.a.getBidderRequestsCounter(s.code,t.bidder),bidderWinsCount:h.a.getBidderWinsCounter(s.code,t.bidder)})),e}),[])),e}),[]).reduce(r.flatten,[]).filter((function(e){return""!==e}))}),"getBids"),x={consentData:null,setConsentData:function(e){x.consentData=e},getConsentData:function(){return x.consentData}},k={consentData:null,setConsentData:function(e){k.consentData=e},getConsentData:function(){return k.consentData}},N={getCoppa:function(){return!!u.b.getConfig("coppa")}},D=[],R=[];function j(){w.s2STestingEnabled=!1,C.forEach((function(e){e&&e.enabled&&e.bidders&&e.bidders.length&&R.push.apply(R,(function(e){return (function(e){if(Array.isArray(e))return y(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||v(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()})(e.bidders))}))}function M(e){return e&&e.enabled&&e.testing&&E}function B(e,t,n){try{var i=O[e].getSpec();i&&i[t]&&"function"==typeof i[t]&&(_.logInfo("Invoking ".concat(e,".").concat(t)),u.b.runWithBidder(e,r.bind.call(i[t],i,n)))}catch(n){_.logWarn("Error calling ".concat(t," of ").concat(e))}}w.makeBidRequests=Object(c.b)("sync",(function(e,t,n,i,a){A.emit(S.EVENTS.BEFORE_REQUEST_BIDS,e);var o=Object(r.getBidderCodes)(e);u.b.getConfig("bidderSequence")===u.a&&(o=Object(r.shuffle)(o));var s=Object(m.a)(),c=o,d=[];0===R.length&&j(),C.forEach((function(t){t&&t.enabled&&M(t)&&(E.calculateBidSources(t),E.getSourceBidderMap(e,R)[E.CLIENT].forEach((function(e){l()(D,e)||D.push(e)})))})),c=o.filter((function(e){return!l()(R,e)||l()(D,e)}));var f=R;C.forEach((function(r){var i,o,u,h,m,g,v,y,b;r&&r.enabled&&(b=r,Boolean(M(b)&&b.testServerOnly)&&(v=e,y=r,Boolean(p()(v,(function(e){return p()(e.bids,(function(e){return(e.bidSource||y.bidderControl&&y.bidderControl[e.bidder])&&e.finalSource===E.SERVER}))}))))&&(_.logWarn("testServerOnly: True.  All client requests will be suppressed."),c.length=0),u=e,m=(h=r).bidders,(g=_.deepClone(u)).forEach((function(e){e.bids=e.bids.filter((function(e){return l()(m,e.bidder)&&(!M(h)||e.finalSource!==E.CLIENT)})).map((function(e){return e.bid_id=_.getUniqueIdentifierStr(),e}))})),i=g=g.filter((function(e){return 0!==e.bids.length})),o=_.generateUUID(),f.forEach((function(e){var u=_.getUniqueIdentifierStr(),c={bidderCode:e,auctionId:n,bidderRequestId:u,tid:o,bids:P({bidderCode:e,auctionId:n,bidderRequestId:u,adUnits:_.deepClone(i),labels:a,src:S.S2S.SRC}),auctionStart:t,timeout:r.timeout,src:S.S2S.SRC,refererInfo:s};0!==c.bids.length&&d.push(c)})),i.forEach((function(e){var t=e.bids.filter((function(e){return p()(d,(function(t){return p()(t.bids,(function(t){return t.bidId===e.bid_id}))}))}));e.bids=t})),d.forEach((function(e){void 0===e.adUnitsS2SCopy&&(e.adUnitsS2SCopy=i.filter((function(e){return 0<e.bids.length})))})))}));var h,g,v=(h=e,(g=_.deepClone(h)).forEach((function(e){e.bids=e.bids.filter((function(e){return!D.length||e.finalSource!==E.SERVER}))})),g=g.filter((function(e){return 0!==e.bids.length})));return c.forEach((function(e){var r=_.getUniqueIdentifierStr(),o={bidderCode:e,auctionId:n,bidderRequestId:r,bids:P({bidderCode:e,auctionId:n,bidderRequestId:r,adUnits:_.deepClone(v),labels:a,src:"client"}),auctionStart:t,timeout:i,refererInfo:s},u=O[e];u||_.logError("Trying to make a request for bidder that does not exist: ".concat(e)),u&&o.bids&&0!==o.bids.length&&d.push(o)})),x.getConsentData()&&d.forEach((function(e){e.gdprConsent=x.getConsentData()})),k.getConsentData()&&d.forEach((function(e){e.uspConsent=k.getConsentData()})),d}),"makeBidRequests"),w.callBids=function(e,t,n,i,a,o,c){var d,f,p,h,m;t.length?(f=(d=g(t.reduce((function(e,t){return e[Number(void 0!==t.src&&t.src===S.S2S.SRC)].push(t),e}),[[],[]]),2))[0],p=d[1],h=[],p.forEach((function(e){for(var t=-1,n=0;n<h.length;++n)if(e.tid===h[n].tid){t=n;break}t<=-1&&h.push(e)})),m=0,C.forEach((function(e){var t,u,c,d,f,g,v,y,b;e&&h[m]&&l()(e.bidders,h[m].bidderCode)&&(t=Object(s.b)(o,a?{request:a.request.bind(null,"s2s"),done:a.done}:void 0),u=e.bidders,c=O[e.adapter],d=h[m].tid,f=h[m].adUnitsS2SCopy,g=p.filter((function(e){return e.tid===d})),c?(v={tid:d,ad_units:f,s2sConfig:e}).ad_units.length&&(y=g.map((function(e){return e.start=Object(r.timestamp)(),i.bind(e)})),b=v.ad_units.reduce((function(e,t){return e.concat((t.bids||[]).reduce((function(e,t){return e.concat(t.bidder)}),[]))}),[]),_.logMessage("CALLING S2S HEADER BIDDERS ==== ".concat(u.filter((function(e){return l()(b,e)})).join(","))),g.forEach((function(e){A.emit(S.EVENTS.BID_REQUESTED,e)})),c.callBids(v,p,(function(e,t){var i=Object(r.getBidderRequest)(p,t.bidderCode,e);i&&n.call(i,e,t)}),(function(){return y.forEach((function(e){return e()}))}),t)):_.logError("missing "+e.adapter),m++)})),f.forEach((function(e){e.start=Object(r.timestamp)();var t=O[e.bidderCode];u.b.runWithBidder(e.bidderCode,(function(){_.logMessage("CALLING BIDDER"),A.emit(S.EVENTS.BID_REQUESTED,e)}));var d=Object(s.b)(o,a?{request:a.request.bind(null,e.bidderCode),done:a.done}:void 0),l=i.bind(e);try{u.b.runWithBidder(e.bidderCode,r.bind.call(t.callBids,t,e,n.bind(e),l,d,c,u.b.callbackWithBidder(e.bidderCode)))}catch(t){_.logError("".concat(e.bidderCode," Bid Adapter emitted an uncaught error when parsing their bidRequest"),{e:t,bidRequest:e}),l()}}))):_.logWarn("callBids executed with no bidRequests.  Were they filtered by labels or sizing?")},w.videoAdapters=[],w.registerBidAdapter=function(e,t){var n=(2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).supportedMediaTypes,r=void 0===n?[]:n;e&&t?"function"==typeof e.callBids?(O[t]=e,l()(r,"video")&&w.videoAdapters.push(t),l()(r,"native")&&a.f.push(t)):_.logError("Bidder adaptor error for bidder code: "+t+"bidder must implement a callBids() function"):_.logError("bidAdapter or bidderCode not specified")},w.aliasBidAdapter=function(e,t,n){var r,i;if(void 0===O[t]){var s=O[e];if(void 0===s){var u=[];C.forEach((function(n){var r;n.bidders&&n.bidders.length&&(r=n&&n.bidders,n&&l()(r,t)?I[t]=e:u.push(e))})),u.forEach((function(e){_.logError('bidderCode "'+e+'" is not an existing bidder.',"adapterManager.aliasBidAdapter")}))}else try{var c,d,f,p,h=(r=e,i=[],l()(w.videoAdapters,r)&&i.push("video"),l()(a.f,r)&&i.push("native"),i);s.constructor.prototype!=Object.prototype?(p=new s.constructor).setBidderCode(t):(c=s.getSpec(),d=n&&n.gvlid,f=n&&n.skipPbsAliasing,p=Object(o.newBidder)(b({},c,{code:t,gvlid:d,skipPbsAliasing:f})),I[t]=e),w.registerBidAdapter(p,t,{supportedMediaTypes:h})}catch(n){_.logError(e+" bidder does not currently support aliasing.","adapterManager.aliasBidAdapter")}}else _.logMessage('alias name "'+t+'" has been already specified.')},w.registerAnalyticsAdapter=function(e){var t=e.adapter,n=e.code,r=e.gvlid;t&&n?"function"==typeof t.enableAnalytics?(t.code=n,T[n]={adapter:t,gvlid:r}):_.logError('Prebid Error: Analytics adaptor error for analytics "'.concat(n,'"\n        analytics adapter must implement an enableAnalytics() function')):_.logError("Prebid Error: analyticsAdapter or analyticsCode not specified")},w.enableAnalytics=function(e){_.isArray(e)||(e=[e]),_._each(e,(function(e){var t=T[e.provider].adapter;t?t.enableAnalytics(e):_.logError("Prebid Error: no analytics adapter found in registry for\n        ".concat(e.provider,"."))}))},w.getBidAdapter=function(e){return O[e]},w.getAnalyticsAdapter=function(e){return T[e]},w.callTimedOutBidders=function(e,t,n){t=t.map((function(t){return t.params=_.getUserConfiguredParams(e,t.adUnitCode,t.bidder),t.timeout=n,t})),t=_.groupBy(t,"bidder"),Object.keys(t).forEach((function(e){B(e,"onTimeout",t[e])}))},w.callBidWonBidder=function(e,t,n){t.params=_.getUserConfiguredParams(n,t.adUnitCode,t.bidder),h.a.incrementBidderWinsCounter(t.adUnitCode,t.bidder),B(e,"onBidWon",t)},w.callSetTargetingBidder=function(e,t){B(e,"onSetTargeting",t)},w.callBidViewableBidder=function(e,t){B(e,"onBidViewable",t)},t.default=w},80:function(e,t,n){var r=n(30);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){return!String(Symbol())}))},81:function(e,t,n){function r(e){return function(t,n,r){var s,u=i(t),c=a(u.length),d=o(r,c);if(e&&n!=n){for(;d<c;)if((s=u[d++])!=s)return!0}else for(;d<c;d++)if((e||d in u)&&u[d]===n)return e||d||0;return!e&&-1}}var i=n(46),a=n(50),o=n(111);e.exports={includes:r(!0),indexOf:r(!1)}},82:function(e,t,n){var r=n(112);n(135),n(137),n(139),n(141),n(143),n(144),n(145),n(146),n(147),n(148),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),e.exports=r},83:function(e,t,n){function r(e){s(e,d,{value:{objectID:"O"+ ++l,weakData:{}}})}var i=n(53),a=n(31),o=n(27),s=n(34).f,u=n(59),c=n(115),d=u("meta"),l=0,f=Object.isExtensible||function(){return!0},p=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==(void 0===e?"undefined":_typeof(e))?e:("string"==typeof e?"S":"P")+e;if(!o(e,d)){if(!f(e))return"F";if(!t)return"E";r(e)}return e[d].objectID},getWeakData:function(e,t){if(!o(e,d)){if(!f(e))return!0;if(!t)return!1;r(e)}return e[d].weakData},onFreeze:function(e){return c&&p.REQUIRED&&f(e)&&!o(e,d)&&r(e),e}};i[d]=!0},84:function(e,t,n){var r=n(22),i=n(40),a=r("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(i.Array===e||o[a]===e)}},85:function(e,t,n){var r=n(15);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},86:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},87:function(e,t,n){function r(){}function i(e){return"<script>"+e+"</"+h+">"}var a,o=n(15),s=n(120),u=n(88),c=n(53),d=n(123),l=n(77),f=n(65),p="prototype",h="script",m=f("IE_PROTO"),g=function(){try{a=document.domain&&new ActiveXObject("htmlfile")}catch(e){}var e,t;g=a?(function(e){e.write(i("")),e.close();var t=e.parentWindow.Object;return e=null,t})(a):((t=l("iframe")).style.display="none",d.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(i("document.F=Object")),e.close(),e.F);for(var n=u.length;n--;)delete g[p][u[n]];return g()};c[m]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(r[p]=o(e),n=new r,r[p]=null,n[m]=e):n=g(),void 0===t?n:s(n,t)}},88:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},89:function(e,t,n){var r=n(32);e.exports=function(e,t,n,i){i&&i.enumerable?e[t]=n:r(e,t,n)}},9:function(e,t,n){function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var i,a,o=n(0),s=n(5),u=Array.prototype.slice,c=Array.prototype.push,d=o._map(s.EVENTS,(function(e){return e})),l=s.EVENT_ID_PATHS,f=[];e.exports=(i={},(a={}).on=function(e,t,n){var r,a;a=e,o.contains(d,a)?(r=i[e]||{que:[]},n?(r[n]=r[n]||{que:[]},r[n].que.push(t)):r.que.push(t),i[e]=r):o.logError("Wrong event name : "+e+" Valid event names :"+d)},a.emit=function(e){!(function(e,t){o.logMessage("Emitting event for: "+e);var n=t[0]||{},r=n[l[e]],a=i[e]||{que:[]},s=o._map(a,(function(e,t){return t})),u=[];f.push({eventType:e,args:n,id:r,elapsedTime:o.getPerformanceNow()}),r&&o.contains(s,r)&&c.apply(u,a[r].que),c.apply(u,a.que),o._each(u,(function(e){if(e)try{e.apply(null,t)}catch(e){o.logError("Error executing handler:","events.js",e)}}))})(e,u.call(arguments,1))},a.off=function(e,t,n){var r=i[e];o.isEmpty(r)||o.isEmpty(r.que)&&o.isEmpty(r[n])||n&&(o.isEmpty(r[n])||o.isEmpty(r[n].que))||(n?o._each(r[n].que,(function(e){var i=r[n].que;e===t&&i.splice(i.indexOf(e),1)})):o._each(r.que,(function(e){var n=r.que;e===t&&n.splice(n.indexOf(e),1)})),i[e]=r)},a.get=function(){return i},a.getEvents=function(){var e=[];return o._each(f,(function(t){var n=r({},t);e.push(n)})),e},a)},90:function(e,t,n){var r,i,a,o=n(91),s=n(32),u=n(27),c=n(22),d=n(17),l=c("iterator"),f=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):f=!0),null==r&&(r={}),d||u(r,l)||s(r,l,(function(){return this})),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},91:function(e,t,n){var r=n(27),i=n(57),a=n(65),o=n(126),s=a("IE_PROTO"),u=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?u:null}},92:function(e,t,n){var r=n(131).charAt,i=n(54),a=n(66),o="String Iterator",s=i.set,u=i.getterFor(o);a(String,"String",(function(e){s(this,{type:o,string:String(e),index:0})}),(function(){var e,t=u(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i),t.index+=e.length,{value:e,done:!1})}))},93:function(e,t,n){var r=n(15),i=n(61);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},94:function(e,t,n){var r=n(157);e.exports=r},95:function(e,t,n){t.a=function(e){var t=e;return{callBids:function(){},setBidderCode:function(e){t=e},getBidderCode:function(){return t}}}},96:function(e,t,n){t.a=function(e,t){return e.labelAll?{labelAll:!0,labels:e.labelAll,activeLabels:t}:{labelAll:!1,labels:e.labelAny,activeLabels:t}},t.c=function(e){var t=c(1<arguments.length&&void 0!==arguments[1]?arguments[1]:u);return!t.shouldFilter||!!t.sizesSupported[e]},t.b=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.labels,n=void 0===t?[]:t,r=e.labelAll,a=void 0!==r&&r,s=e.activeLabels,d=void 0===s?[]:s,l=1<arguments.length?arguments[1]:void 0,f=2<arguments.length?arguments[2]:void 0,p=c(3<arguments.length&&void 0!==arguments[3]?arguments[3]:u);l=Object(i.isPlainObject)(l)?Object(i.deepClone)(l):f?{banner:{sizes:f}}:{};var h=Object(i.deepAccess)(l,"banner.sizes");p.shouldFilter&&h&&(l.banner.sizes=h.filter((function(e){return p.sizesSupported[e]})));var m=Object.keys(l),g={active:m.every((function(e){return"banner"!==e}))||m.some((function(e){return"banner"===e}))&&0<Object(i.deepAccess)(l,"banner.sizes.length")&&(0===n.length||!a&&(n.some((function(e){return p.labels[e]}))||n.some((function(e){return o()(d,e)})))||a&&n.reduce((function(e,t){return e?p.labels[t]||o()(d,t):e}),!0)),mediaTypes:l};return h&&h.length!==l.banner.sizes.length&&(g.filterResults={before:h,after:l.banner.sizes}),g};var r=n(3),i=n(0),a=n(13),o=n.n(a);function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var u=[];function c(e){return e.reduce((function(e,t){if("object"===s(t)&&"string"==typeof t.mediaQuery){var n=!1;if(""===t.mediaQuery)n=!0;else try{n=Object(i.getWindowTop)().matchMedia(t.mediaQuery).matches}catch(e){Object(i.logWarn)("Unfriendly iFrame blocks sizeConfig from being correctly evaluated"),n=matchMedia(t.mediaQuery).matches}n&&(Array.isArray(t.sizesSupported)&&(e.shouldFilter=!0),["labels","sizesSupported"].forEach((function(n){return(t[n]||[]).forEach((function(t){return e[n][t]=!0}))})))}else Object(i.logWarn)('sizeConfig rule missing required property "mediaQuery"');return e}),{labels:{},sizesSupported:{},shouldFilter:!1})}r.b.getConfig("sizeConfig",(function(e){return t=e.sizeConfig,void(u=t);var t}))},97:function(e,t,n){t.b=function(e,t,n){var a={puts:e.map(o,n)};Object(r.a)(i.b.getConfig("cache.url"),(function(e){return{success:function(t){var n;try{n=JSON.parse(t).responses}catch(t){return void e(t,[])}n?e(null,n):e(new Error("The cache server didn't respond with a responses property."),[])},error:function(t,n){e(new Error("Error storing video ad in the cache: ".concat(t,": ").concat(JSON.stringify(n))),[])}}})(t),JSON.stringify(a),{contentType:"text/plain",withCredentials:!0})},t.a=function(e){return"".concat(i.b.getConfig("cache.url"),"?uuid=").concat(e)};var r=n(4),i=n(3),a=n(0);function o(e){var t,n,r,o={type:"xml",value:e.vastXml?e.vastXml:(t=e.vastUrl,n=e.vastImpUrl,r=n?"<![CDATA[".concat(n,"]]>"):"",'<VAST version="3.0">\n    <Ad>\n      <Wrapper>\n        <AdSystem>prebid.org wrapper</AdSystem>\n        <VASTAdTagURI><![CDATA['.concat(t,"]]></VASTAdTagURI>\n        <Impression>").concat(r,"</Impression>\n        <Creatives></Creatives>\n      </Wrapper>\n    </Ad>\n  </VAST>")),ttlseconds:Number(e.ttl)};return i.b.getConfig("cache.vasttrack")&&(o.bidder=e.bidder,o.bidid=e.requestId,o.aid=e.auctionId,a.isPlainObject(this)&&this.hasOwnProperty("auctionStart")&&(o.timestamp=this.auctionStart)),"string"==typeof e.customCacheKey&&""!==e.customCacheKey&&(o.key=e.customCacheKey),o}}}),pbjsChunk([392],{238:function(e,t,n){e.exports=n(239)},239:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.callPrebidCacheHook=k,t.checkAdUnitSetupHook=N,t.checkVideoBidSetupHook=D,t.adpodSetConfig=R,t.callPrebidCacheAfterAuction=j,t.sortByPricePerSecond=M,t.getTargeting=B;var r=n(0),i=n(33),a=n(72),o=n(24),s=n(11),u=n(97),c=n(3),d=n(2),l=n(82),f=n.n(l),p=n(10),h=n.n(p),m=n(23),g=n(5),v=n.n(g);function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||_(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function _(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A,w=n(94),O="hb_pb_cat_dur",I="hb_cache_id",C=50,T=5,P=(A={},{addBid:function(e){A[e.auctionId]||(function(e){var t,n,a;A[e]={},A[e].bidStorage=new f.a,A[e].queueDispatcher=(t=C,a=1,function(e,o,s,c){function d(){(function(e,t,n){(function(e){for(var t=0;t<e.length;t++)P.removeBid(e[t])})(t),Object(u.b)(t,(function(a,o){if(a){r.logWarn("Failed to save to the video cache: ".concat(a,". Video bid(s) must be discarded."));for(var s=0;s<t.length;s++)Object(i.g)(e,t[s])}else for(var u=0;u<o.length;u++)""!==o[u].uuid?Object(i.d)(e,t[u]):r.logInfo("Detected a bid was not cached because the custom key was already registered.  Attempted to use key: ".concat(t[u].customCacheKey,". Bid was: "),t[u]),n()}))}).call(l,e,o,s)}var l=this;clearTimeout(n),c?a=1:a===T?(a=1,d()):(a++,n=setTimeout(d,t))}),A[e].initialCacheKey=r.generateUUID()})(e.auctionId),A[e.auctionId].bidStorage.add(e)},removeBid:function(e){A[e.auctionId].bidStorage.delete(e)},getBids:function(e){return A[e.auctionId]&&A[e.auctionId].bidStorage.values()},getQueueDispatcher:function(e){return A[e.auctionId]&&A[e.auctionId].queueDispatcher},setupInitialCacheKey:function(e){A[e.auctionId]||(A[e.auctionId]={},A[e.auctionId].initialCacheKey=r.generateUUID())},getInitialCacheKey:function(e){return A[e.auctionId]&&A[e.auctionId].initialCacheKey}});function x(e,t){var n,a,o,s,u,d=P.getInitialCacheKey(e),l=r.deepAccess(e,"video.durationBucket"),f=(n=e,c.b.getConfig("adpod.prioritizeDeals")&&r.deepAccess(n,"video.dealTier")?(a=c.b.getConfig("adpod.dealTier.".concat(n.bidderCode,".prefix")))?a+r.deepAccess(n,"video.dealTier"):r.deepAccess(n,"video.dealTier"):(o=Object(i.i)(n.mediaType),Object(i.h)(o)(n)));u=t?(s=r.deepAccess(e,"meta.adServerCatId"),"".concat(f,"_").concat(s,"_").concat(l,"s")):"".concat(f,"_").concat(l,"s"),e.adserverTargeting||(e.adserverTargeting={}),e.adserverTargeting[O]=u,e.adserverTargeting[I]=d,e.videoCacheKey=d,e.customCacheKey="".concat(u,"_").concat(d)}function k(e,t,n,a,o){var s,u,l,f,p,h,m,g,v=r.deepAccess(o,"mediaTypes.video");v&&v.context===d.a?(s=c.b.getConfig("adpod.brandCategoryExclusion"),!r.deepAccess(n,"meta.adServerCatId")&&s?(r.logWarn("Detected a bid without meta.adServerCatId while setConfig({adpod.brandCategoryExclusion}) was enabled.  This bid has been rejected:",n),a()):!1===c.b.getConfig("adpod.deferCaching")?(P.addBid(n),x(n,s),u=t,l=n,f=a,(g=P.getBids(l))?(p=w(g),h=P.getQueueDispatcher(l),m=!(u.getAuctionStatus()===i.b),h(u,p,f,m)):r.logWarn("Attempted to cache a bid from an unknown auction. Bid:",l)):(P.setupInitialCacheKey(n),x(n,s),Object(i.d)(t,n),a())):e.call(this,t,n,a,o)}function N(e,t){t=t.filter((function(e){var t=r.deepAccess(e,"mediaTypes"),n=r.deepAccess(t,"video");if(n&&n.context===d.a){if(1<Object.keys(t).length)return r.logWarn("Detected more than one mediaType in adUnitCode: ".concat(e.code," while attempting to define an 'adpod' video adUnit.  'adpod' adUnits cannot be mixed with other mediaTypes.  This adUnit will be removed from the auction.")),!1;var i="Detected missing or incorrectly setup fields for an adpod adUnit.  Please review the following fields of adUnitCode: ".concat(e.code,".  This adUnit will be removed from the auction."),a=!!(n.playerSize&&(r.isArrayOfNums(n.playerSize,2)||r.isArray(n.playerSize)&&n.playerSize.every((function(e){return r.isArrayOfNums(e,2)})))||n.sizeConfig),o=!!(n.adPodDurationSec&&r.isNumber(n.adPodDurationSec)&&0<n.adPodDurationSec),s=!!(n.durationRangeSec&&r.isArrayOfNums(n.durationRangeSec)&&n.durationRangeSec.every((function(e){return 0<e})));if(!a||!o||!s)return i+=a?"":"\nmediaTypes.video.playerSize",i+=o?"":"\nmediaTypes.video.adPodDurationSec",i+=s?"":"\nmediaTypes.video.durationRangeSec",r.logWarn(i),!1}return!0})),e.call(this,t)}function D(e,t,n,i,a){var o;a===d.a?(o=!0,c.b.getConfig("adpod.brandCategoryExclusion")&&!r.deepAccess(t,"meta.primaryCatId")&&(o=!1),r.deepAccess(t,"video")&&(r.deepAccess(t,"video.context")&&t.video.context===d.a||(o=!1),r.deepAccess(t,"video.durationSeconds")&&!(t.video.durationSeconds<=0)&&(function(e,t){var n=r.deepAccess(t,"video.durationSeconds"),i=r.deepAccess(e,"mediaTypes.video"),a=i.durationRangeSec;if(a.sort((function(e,t){return e-t})),i.requireExactDuration){if(!h()(a,(function(e){return e===n})))return r.logWarn("Detected a bid with a duration value not part of the list of accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Exact match durations must be used for this adUnit. Rejecting bid: ",t),!1;t.video.durationBucket=n}else{var o=Math.max.apply(Math,(function(e){return (function(e){if(Array.isArray(e))return S(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||_(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()})(a));if(!(n<=o+2))return r.logWarn("Detected a bid with a duration value outside the accepted ranges specified in adUnit.mediaTypes.video.durationRangeSec.  Rejecting bid: ",t),!1;var s=h()(a,(function(e){return n<=e+2}));t.video.durationBucket=s}return!0})(n,t)||(o=!1)),c.b.getConfig("cache.url")||!t.vastXml||t.vastUrl||(r.logError('\n        This bid contains only vastXml and will not work when a prebid cache url is not specified.\n        Try enabling prebid cache with pbjs.setConfig({ cache: {url: "..."} });\n      '),o=!1),e.bail(o)):e.call(this,t,n,i,a)}function R(e){void 0!==e.bidQueueTimeDelay&&("number"==typeof e.bidQueueTimeDelay&&0<e.bidQueueTimeDelay?C=e.bidQueueTimeDelay:r.logWarn("Detected invalid value for adpod.bidQueueTimeDelay in setConfig; must be a positive number.  Using default: ".concat(C))),void 0!==e.bidQueueSizeLimit&&("number"==typeof e.bidQueueSizeLimit&&0<e.bidQueueSizeLimit?T=e.bidQueueSizeLimit:r.logWarn("Detected invalid value for adpod.bidQueueSizeLimit in setConfig; must be a positive number.  Using default: ".concat(T)))}function j(e,t){Object(u.b)(e,(function(n,r){if(n)t(n,null);else{for(var i=[],a=0;a<r.length;a++)""!==r[a]&&i.push(e[a]);t(null,i)}}))}function M(e,t){return e.adserverTargeting[v.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket<t.adserverTargeting[v.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?1:e.adserverTargeting[v.a.TARGETING_KEYS.PRICE_BUCKET]/e.video.durationBucket>t.adserverTargeting[v.a.TARGETING_KEYS.PRICE_BUCKET]/t.video.durationBucket?-1:0}function B(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},t=e.codes,n=e.callback;if(n){var i,a,o,s,u,l,f=(i=t||[],m.a.getAdUnits().filter((function(e){return r.deepAccess(e,"mediaTypes.video.context")===d.a})).filter((function(e){return!(0<i.length)||-1!=i.indexOf(e.code)}))),p=m.a.getBidsReceived(),h=c.b.getConfig("adpod.brandCategoryExclusion"),g=c.b.getConfig("adpod.deferCaching"),v="boolean"!=typeof g||g,_=(a=p,o=f.map((function(e){return e.code})),a.filter((function(e){return-1!=o.indexOf(e.adUnitCode)&&e.video&&e.video.context===d.a})));_=h||v?(function(e){var t=e.map((function(e){return y({},e,b({},O,e.adserverTargeting[O]))}));t=r.groupBy(t,O);var n=[];return Object.keys(t).forEach((function(e){t[e].sort(r.compareOn("responseTimestamp")),n.push(t[e][0])})),n})(_):_;c.b.getConfig("adpod.prioritizeDeals")?(u=(s=E(_.reduce((function(e,t){var n=r.deepAccess(t,"video.dealTier"),i=c.b.getConfig("adpod.dealTier.".concat(t.bidderCode,".minDealTier"));return i&&n?i<=n?e[1].push(t):e[0].push(t):n?e[1].push(t):e[0].push(t),e}),[[],[]]),2))[0],(l=s[1]).sort(M),u.sort(M),_=l.concat(u)):_.sort(M);var S,A={};return!1===v?(f.forEach((function(e){var t=[],n=r.deepAccess(e,"mediaTypes.video.adPodDurationSec");_.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e,r,i){e.video.durationBucket<=n&&(t.push(b({},O,e.adserverTargeting[O])),n-=e.video.durationBucket),r===i.length-1&&0<t.length&&t.push(b({},I,e.adserverTargeting[I]))})),A[e.code]=t})),n(null,A)):(S=[],f.forEach((function(e){var t=r.deepAccess(e,"mediaTypes.video.adPodDurationSec");_.filter((function(t){return t.adUnitCode===e.code})).forEach((function(e){e.video.durationBucket<=t&&(S.push(e),t-=e.video.durationBucket)}))})),j(S,(function(e,t){var i;e?n(e,null):(i=r.groupBy(t,"adUnitCode"),Object.keys(i).forEach((function(e){var t=[];i[e].forEach((function(e,n,r){t.push(b({},O,e.adserverTargeting[O])),n===r.length-1&&0<t.length&&t.push(b({},I,e.adserverTargeting[I]))})),A[e]=t})),n(null,A))}))),A}r.logError("No callback function was defined in the getTargeting call.  Aborting getTargeting().")}c.b.getConfig("adpod",(function(e){return R(e.adpod)})),Object(s.d)(i.f,k),Object(s.d)(a.checkAdUnitSetup,N),Object(s.d)(o.c,D);var U={TARGETING_KEY_PB_CAT_DUR:O,TARGETING_KEY_CACHE_ID:I,getTargeting:B};Object.freeze(U),Object(s.c)("adpod",(function(e){r.isPlainObject(arguments.length<=0?void 0:e)?(function(e,t){for(var n in t)e[n]=t[n]})(arguments.length<=0?void 0:e,U):r.logError("Adpod module needs plain object to share methods with submodule")}))}},[238]),pbjsChunk([374],{280:function(e,t,n){e.exports=n(281)},281:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return R}));var r=n(0),i=n(1),a=n(2);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function u(){var e=l(["dcn=","&pos=","&cmd=bid",""]);return u=function(){return e},e}function c(){var e=l(["","/bidRequest?"]);return c=function(){return e},e}function d(){var e=l(["","/pubapi/3.0/","/","/","/","/ADTECH;v=2;cmd=bid;cors=yes;alias=",";misc=",";",""]);return d=function(){return e},e}function l(e,t){return t=t||e.slice(0),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var f="aol",p="verizon",h="onemobile",m="onedisplay",g="display-get",v="mobile-get",y="mobile-post",b="iframe",E="img",_="image",S=["adserver.org","criteo.com","id5-sync.com","intentiq.com","liveintent.com","quantcast.com","verizonmedia.com","liveramp.com"],A=T(d(),"host","network","placement","pageid","sizeid","alias","misc","dynamicParams"),w=T(c(),"host"),O=T(u(),"dcn","pos","dynamicParams"),I={us:"adserver-us.adtech.advertising.com",eu:"adserver-eu.adtech.advertising.com",as:"adserver-as.adtech.advertising.com"},C="https";function T(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(){for(var t=arguments.length,i=new Array(t),a=0;a<t;a++)i[a]=arguments[a];var o=i[i.length-1]||{},s=[e[0]];return n.forEach((function(t,n){var a=r.isInteger(t)?i[t]:o[t];s.push(a,e[n+1])})),s.join("")}}function P(e){return e===f||e===p||e===h}function x(e){if(P(e.bidder)&&e.params.id&&e.params.imp&&e.params.imp[0]){var t=e.params.imp[0];return t.id&&t.tagid&&(t.banner&&t.banner.w&&t.banner.h||t.video&&t.video.mimes&&t.video.minduration&&t.video.maxduration)}}function k(e){return P(e.bidder)&&e.params.dcn&&e.params.pos}function N(e){return((t=e.bidder)===f||t===p||t===m)&&e.params.placement&&e.params.network;var t}function D(e){return e.userIdAsEids.filter((function(e){return-1!==S.indexOf(e.source)}))}var R={code:f,gvlid:25,aliases:[h,m,p],supportedMediaTypes:[a.b],isBidRequestValid:function(e){return N(e)||k(t=e)||x(t);var t},buildRequests:function(e,t){var n=this,r={};return t&&(r.gdpr=t.gdprConsent,r.uspConsent=t.uspConsent),e.map((function(e){var t,i=k(t=e)?v:x(t)?y:N(t)?g:void 0;if(i)return n.formatBidRequest(i,e,r)}))},interpretResponse:function(e,t){var n=e.body;if(n){var i=this._parseBidResponse(n,t);if(i)return i}else r.logError("Empty bid response",t.bidderCode,n)},getUserSyncs:function(e,t){var n=!r.isEmpty(t)&&t[0].body;return n&&n.ext&&n.ext.pixels?this.parsePixelItems(n.ext.pixels):[]},formatBidRequest:function(e,t,n){var r;switch(e){case g:r={url:this.buildMarketplaceUrl(t,n),method:"GET",ttl:60};break;case v:r={url:this.buildOneMobileGetUrl(t,n),method:"GET",ttl:3600};break;case y:r={url:this.buildOneMobileBaseUrl(t),method:"POST",ttl:3600,data:this.buildOpenRtbRequestData(t,n),options:{contentType:"application/json",customHeaders:{"x-openrtb-version":"2.2"}}}}return r.bidderCode=t.bidder,r.bidId=t.bidId,r.userSyncOn=t.params.userSyncOn,r},buildMarketplaceUrl:function(e,t){var n,i=e.params,a=i.server,o=i.region||"us";return I.hasOwnProperty(o)||(r.logWarn("Unknown region '".concat(o,"' for AOL bidder.")),o="us"),n=a||I[o],i.region=o,this.applyProtocol(A({host:n,network:i.network,placement:parseInt(i.placement),pageid:i.pageId||0,sizeid:i.sizeId||0,alias:i.alias||r.getUniqueIdentifierStr(),misc:(new Date).getTime(),dynamicParams:this.formatMarketplaceDynamicParams(i,t)}))},buildOneMobileGetUrl:function(e,t){var n=e.params,r=n.dcn,i=n.pos,a=n.ext;"object"===s(e.userId)&&(a=a||{},D(e).forEach((function(e){a["eid"+e.source]=e.uids[0].id})));var o,u=this.buildOneMobileBaseUrl(e);return r&&i&&(o=this.formatOneMobileDynamicParams(a,t),u+=O({dcn:r,pos:i,dynamicParams:o})),u},buildOneMobileBaseUrl:function(e){return this.applyProtocol(w({host:e.params.host||"c2shb.ssp.yahoo.com"}))},applyProtocol:function(e){return/^https?:\/\//i.test(e)?e:0===e.indexOf("//")?"".concat(C,":").concat(e):"".concat(C,"://").concat(e)},formatMarketplaceDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{},a={};o(a,this.formatKeyValues(n.keyValues)),o(a,this.formatConsentData(i));var s="";return r._each(a,(function(e,t){s+="".concat(t,"=").concat(encodeURIComponent(e),";")})),s},formatOneMobileDynamicParams:function(e,t){var n=0<arguments.length&&void 0!==e?e:{},i=1<arguments.length&&void 0!==t?t:{};this.isSecureProtocol()&&(n.secure=1),o(n,this.formatConsentData(i));var a="";return r._each(n,(function(e,t){a+="&".concat(t,"=").concat(encodeURIComponent(e))})),a},buildOpenRtbRequestData:function(e,t){var n,i=1<arguments.length&&void 0!==t?t:{},a={id:e.params.id,imp:e.params.imp};return this.isEUConsentRequired(i)&&(r.deepSetValue(a,"regs.ext.gdpr",1),i.gdpr.consentString&&r.deepSetValue(a,"user.ext.consent",i.gdpr.consentString)),i.uspConsent&&r.deepSetValue(a,"regs.ext.us_privacy",i.uspConsent),"object"===s(e.userId)&&(a.user=a.user||{},a.user.ext=a.user.ext||{},0<(n=D(e)).length&&(a.user.ext.eids=n)),a},isEUConsentRequired:function(e){return!!(e&&e.gdpr&&e.gdpr.gdprApplies)},formatKeyValues:function(e){var t={};return r._each(e,(function(e,n){t["kv".concat(n)]=e})),t},formatConsentData:function(e){var t={};return this.isEUConsentRequired(e)&&(t.gdpr=1,e.gdpr.consentString&&(t.euconsent=e.gdpr.consentString)),e.uspConsent&&(t.us_privacy=e.uspConsent),t},parsePixelItems:function(e){var t,n=/\w*(?=\s)/,r=/src=("|')(.*?)\1/,i=[];return!e||(t=e.match(/(img|iframe)[\s\S]*?src\s*=\s*("|')(.*?)\2/gi))&&t.forEach((function(e){var t=e.match(n)[0],a=e.match(r)[2];t&&a&&i.push({type:t===E?_:b,url:a})})),i},_parseBidResponse:function(e,t){var n,i;try{n=e.seatbid[0].bid[0]}catch(e){return}if(n.ext&&n.ext.encp)i=n.ext.encp;else if(null===(i=n.price)||isNaN(i))return void r.logError("Invalid price in bid response",f,n);return{bidderCode:t.bidderCode,requestId:t.bidId,ad:n.adm,cpm:i,width:n.w,height:n.h,creativeId:n.crid||0,pubapiId:e.id,currency:e.cur||"USD",dealId:n.dealid,netRevenue:!0,meta:{advertiserDomains:n&&n.adomain?n.adomain:[]},ttl:t.ttl}},isOneMobileBidder:P,isSecureProtocol:function(){return"https:"===document.location.protocol}};Object(i.registerBidder)(R)}},[280]),pbjsChunk([371],{290:function(e,t,n){e.exports=n(291)},291:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return T}));var r=n(12),i=n(0),a=n(3),o=n(1),s=n(2),u=n(23),c=n(10),d=n.n(c),l=n(13),f=n.n(l),p=n(24),h=n(7);function m(e){return(m="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function v(e){return (function(e){if(Array.isArray(e))return y(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||(function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b="appnexus",E=["id","minduration","maxduration","skippable","playback_method","frameworks","context","skipoffset"],_=["age","externalUid","segments","gender","dnt","language"],S=["geo","device_id"],A=["enabled","dongle","member_id","debug_timeout"],w={playback_method:{unknown:0,auto_play_sound_on:1,auto_play_sound_off:2,click_to_play:3,mouse_over:4,auto_play_sound_unknown:5},context:{unknown:0,pre_roll:1,mid_roll:2,post_roll:3,outstream:4,"in-banner":5}},O={body:"description",body2:"desc2",cta:"ctatext",image:{serverName:"main_image",requiredParams:{required:!0}},icon:{serverName:"icon",requiredParams:{required:!0}},sponsoredBy:"sponsored_by",privacyLink:"privacy_link",salePrice:"saleprice",displayUrl:"displayurl"},I=/\/\/cdn\.adnxs\.com\/v|\/\/cdn\.adnxs\-simple\.com\/v/,C=Object(h.b)(32,b),T={code:b,gvlid:32,aliases:[{code:"appnexusAst",gvlid:32},{code:"brealtime"},{code:"emxdigital",gvlid:183},{code:"pagescience"},{code:"defymedia"},{code:"gourmetads"},{code:"matomy"},{code:"featureforward"},{code:"oftmedia"},{code:"districtm",gvlid:144},{code:"adasta"},{code:"beintoo",gvlid:618}],supportedMediaTypes:[s.b,s.d,s.c],isBidRequestValid:function(e){return!!(e.params.placementId||e.params.member&&e.params.invCode)},buildRequests:function(e,t){var n=e.map(D),r=d()(e,j),o={};!0===a.b.getConfig("coppa")&&(o={coppa:!0}),r&&Object.keys(r.params.user).filter((function(e){return f()(_,e)})).forEach((function(e){var t,n=i.convertCamelToUnderscore(e);"segments"===e&&i.isArray(r.params.user[e])?(t=[],r.params.user[e].forEach((function(e){i.isNumber(e)?t.push({id:e}):i.isPlainObject(e)&&t.push(e)})),o[n]=t):"segments"!==e&&(o[n]=r.params.user[e])}));var s,u=d()(e,B);u&&u.params&&u.params.app&&(s={},Object.keys(u.params.app).filter((function(e){return f()(S,e)})).forEach((function(e){return s[e]=u.params.app[e]})));var c,l=d()(e,U);l&&l.params&&u.params.app&&u.params.app.id&&(c={appid:l.params.app.id});var p={},h={},m=C.getCookie("apn_prebid_debug")||null;if(m)try{p=JSON.parse(m)}catch(e){i.logError("AppNexus Debug Auction Cookie Error:\n\n"+e)}else{var g=d()(e,L);g&&g.debug&&(p=g.debug)}p&&p.enabled&&Object.keys(p).filter((function(e){return f()(A,e)})).forEach((function(e){h[e]=p[e]}));var y,b,E,w,O=d()(e,M),I=O?parseInt(O.params.member,10):0,T=e[0].schain,P=d()(e,F),x={tags:v(n),user:o,sdk:{source:"pbjs",version:"4.43.4"},schain:T};return P&&(x.iab_support={omidpn:"Appnexus",omidpv:"4.43.4"}),0<I&&(x.member_id=I),u&&(x.device=s),l&&(x.app=c),a.b.getConfig("adpod.brandCategoryExclusion")&&(x.brand_category_uniqueness=!0),h.enabled&&(x.debug=h,i.logInfo("AppNexus Debug Auction Settings:\n\n"+JSON.stringify(h,null,4))),t&&t.gdprConsent&&(x.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:t.gdprConsent.gdprApplies},t.gdprConsent.addtlConsent&&-1!==t.gdprConsent.addtlConsent.indexOf("~")&&(b=(y=t.gdprConsent.addtlConsent).substring(y.indexOf("~")+1),x.gdpr_consent.addtl_consent=b.split(".").map((function(e){return parseInt(e,10)})))),t&&t.uspConsent&&(x.us_privacy=t.uspConsent),t&&t.refererInfo&&(E={rd_ref:encodeURIComponent(t.refererInfo.referer),rd_top:t.refererInfo.reachedTop,rd_ifs:t.refererInfo.numIframes,rd_stk:t.refererInfo.stack.map((function(e){return encodeURIComponent(e)})).join(",")},x.referrer_detection=E),d()(e,V)&&e.filter(V).forEach((function(e){var t=(function(e,t){var n,r,a=t.mediaTypes.video,o=a.durationRangeSec,s=a.requireExactDuration,u=(function(e){var t=e.adPodDurationSec,n=e.durationRangeSec,r=e.requireExactDuration,a=i.getMinValueFromArray(n),o=Math.floor(t/a);return r?Math.max(o,n.length):o})(t.mediaTypes.video),c=i.getMaxValueFromArray(o),d=e.filter((function(e){return e.uuid===t.bidId})),l=i.fill.apply(i,v(d).concat([u]));return s?(n=Math.ceil(u/o.length),r=i.chunk(l,n),o.forEach((function(e,t){r[t].map((function(t){G(t,"minduration",e),G(t,"maxduration",e)}))}))):l.map((function(e){return G(e,"maxduration",c)})),l})(n,e),r=x.tags.filter((function(t){return t.uuid!==e.bidId}));x.tags=[].concat(v(r),v(t))})),e[0].userId&&(z(w=[],i.deepAccess(e[0],"userId.flocId.id"),"chrome.com",null),z(w,i.deepAccess(e[0],"userId.criteoId"),"criteo.com",null),z(w,i.deepAccess(e[0],"userId.netId"),"netid.de",null),z(w,i.deepAccess(e[0],"userId.idl_env"),"liveramp.com",null),z(w,i.deepAccess(e[0],"userId.tdid"),"adserver.org","TDID"),z(w,i.deepAccess(e[0],"userId.uid2.id"),"uidapi.com","UID2"),w.length&&(x.eids=w)),n[0].publisher_id&&(x.publisher_id=n[0].publisher_id),(function(e,t){var n,r,o=[],s={withCredentials:!0},u="https://ib.adnxs.com/ut/v3/prebid";return N(t)||(u="https://ib.adnxs-simple.com/ut/v3/prebid"),"TRUE"!==i.getParameterByName("apn_test").toUpperCase()&&!0!==a.b.getConfig("apn_test")||(s.customHeaders={"X-Is-Test":1}),15<e.tags.length?(n=i.deepClone(e),i.chunk(e.tags,15).forEach((function(e){n.tags=e;var r=JSON.stringify(n);o.push({method:"POST",url:u,data:r,bidderRequest:t,options:s})}))):(r=JSON.stringify(e),o={method:"POST",url:u,data:r,bidderRequest:t,options:s}),o})(x,t)},interpretResponse:function(e,t){var n=this,a=t.bidderRequest;e=e.body;var u,c=[];if(e&&!e.error)return e.tags&&e.tags.forEach((function(e){var t,u,l,h=(t=e)&&t.ads&&t.ads.length&&d()(t.ads,(function(e){return e.rtb}));h&&0!==h.cpm&&f()(n.supportedMediaTypes,h.ad_type)&&((u=(function(e,t,n){var a,u,c=i.getBidRequest(e.uuid,[n]),l={requestId:e.uuid,cpm:t.cpm,creativeId:t.creative_id,dealId:t.deal_id,currency:"USD",netRevenue:!0,ttl:300,adUnitCode:c.adUnitCode,appnexus:{buyerMemberId:t.buyer_member_id,dealPriority:t.deal_priority,dealCode:t.deal_code}};if(t.adomain&&(l.meta=g({},l.meta,{advertiserDomains:[]})),t.advertiser_id&&(l.meta=g({},l.meta,{advertiserId:t.advertiser_id})),t.rtb.video)switch(g(l,{width:t.rtb.video.player_width,height:t.rtb.video.player_height,vastImpUrl:t.notify_url,ttl:3600}),i.deepAccess(c,"mediaTypes.video.context")){case s.a:var f=Object(o.getIabSubCategory)(c.bidder,t.brand_category_id);l.meta=g({},l.meta,{primaryCatId:f});var h=t.deal_priority;l.video={context:s.a,durationSeconds:Math.floor(t.rtb.video.duration_ms/1e3),dealTier:h},l.vastUrl=t.rtb.video.asset_url;break;case p.b:l.adResponse=e,l.adResponse.ad=l.adResponse.ads[0],l.adResponse.ad.video=l.adResponse.ad.rtb.video,l.vastXml=t.rtb.video.content,t.renderer_url&&(a=d()(n.bids,(function(t){return t.bidId===e.uuid})),u=i.deepAccess(a,"renderer.options"),l.renderer=(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},a=r.a.install({id:t.renderer_id,url:t.renderer_url,config:n,loaded:!1,adUnitCode:e});try{a.setRender(q)}catch(e){i.logWarn("Prebid Error calling setRender on renderer",e)}return a.setEventHandlers({impression:function(){return i.logMessage("AppNexus outstream video impression event")},loaded:function(){return i.logMessage("AppNexus outstream video loaded event")},ended:function(){i.logMessage("AppNexus outstream renderer video event"),document.querySelector("#".concat(e)).style.display="none"}}),a})(l.adUnitCode,t,u));break;case p.a:l.vastUrl=t.notify_url+"&redir="+encodeURIComponent(t.rtb.video.asset_url)}else if(t.rtb[s.c]){var m=t.rtb[s.c],v=t.viewability.config.replace("src=","data-src="),y=m.javascript_trackers;null==y?y=v:i.isStr(y)?y=[y,v]:y.push(v),l[s.c]={title:m.title,body:m.desc,body2:m.desc2,cta:m.ctatext,rating:m.rating,sponsoredBy:m.sponsored,privacyLink:m.privacy_link,address:m.address,downloads:m.downloads,likes:m.likes,phone:m.phone,price:m.price,salePrice:m.saleprice,clickUrl:m.link.url,displayUrl:m.displayurl,clickTrackers:m.link.click_trackers,impressionTrackers:m.impression_trackers,javascriptTrackers:y},m.main_img&&(l.native.image={url:m.main_img.url,height:m.main_img.height,width:m.main_img.width}),m.icon&&(l.native.icon={url:m.icon.url,height:m.icon.height,width:m.icon.width})}else{g(l,{width:t.rtb.banner.width,height:t.rtb.banner.height,ad:t.rtb.banner.content});try{var b,E;t.rtb.trackers&&(b=t.rtb.trackers[0].impression_urls[0],E=i.createTrackPixelHtml(b),l.ad+=E)}catch(t){i.logError("Error appending tracking pixel",t)}}return l})(e,h,a)).mediaType=(l=h.ad_type)===s.d?s.d:l===s.c?s.c:s.b,c.push(u))})),e.debug&&e.debug.debug_info&&(u=(u="AppNexus Debug Auction for Prebid\n\n"+e.debug.debug_info).replace(/(<td>|<th>)/gm,"\t").replace(/(<\/td>|<\/th>)/gm,"\n").replace(/^<br>/gm,"").replace(/(<br>\n|<br>)/gm,"\n").replace(/<h1>(.*)<\/h1>/gm,"\n\n===== $1 =====\n\n").replace(/<h[2-6]>(.*)<\/h[2-6]>/gm,"\n\n*** $1 ***\n\n").replace(/(<([^>]+)>)/gim,""),i.logMessage("https://console.appnexus.com/docs/understanding-the-debug-auction"),i.logMessage(u)),c;var l="in response for ".concat(a.bidderCode," adapter");return e&&e.error&&(l+=": ".concat(e.error)),i.logError(l),c},getMappingFileInfo:function(){return{url:"https://acdn.adnxs-simple.com/prebid/appnexus-mapping/mappings.json",refreshInDays:2}},getUserSyncs:function(e,t,n){if(e.iframeEnabled&&N({gdprConsent:n}))return[{type:"iframe",url:"https://acdn.adnxs.com/dmp/async_usersync.html"}]},transformBidParams:function(e,t){return e=i.convertTypes({member:"string",invCode:"string",placementId:"number",keywords:i.transformBidderParamKeywords,publisherId:"number"},e),t&&(e.use_pmt_rule="boolean"==typeof e.usePaymentRule&&e.usePaymentRule,e.usePaymentRule&&delete e.usePaymentRule,P(e.keywords)&&e.keywords.forEach(x),Object.keys(e).forEach((function(t){var n=i.convertCamelToUnderscore(t);n!==t&&(e[n]=e[t],delete e[t])}))),e},onBidWon:function(e){e.native&&(function(e){var t=(function(e){var t;if(i.isStr(e)&&k(e))t=e;else if(i.isArray(e))for(var n=0;n<e.length;n++){var r=e[n];k(r)&&(t=r)}return t})(e.native.javascriptTrackers);if(t)for(var n="pbjs_adid="+e.adId+";pbjs_auc="+e.adUnitCode,r=(function(e){var t=e.indexOf('src="')+5,n=e.indexOf('"',t);return e.substring(t,n)})(t),a=r.replace("dom_id=%native_dom_id%",n),o=document.getElementsByTagName("iframe"),s=!1,u=0;u<o.length&&!s;u++){var c=o[u];try{var d=c.contentDocument||c.contentWindow.document;if(d)for(var l=d.getElementsByTagName("script"),f=0;f<l.length&&!s;f++){var p=l[f];p.getAttribute("data-src")==r&&(p.setAttribute("src",a),p.setAttribute("data-src",""),p.removeAttribute&&p.removeAttribute("data-src"),s=!0)}}catch(e){if(!(e instanceof DOMException&&"SecurityError"===e.name))throw e}}})(e)}};function P(e){return i.isArray(e)&&0<e.length}function x(e){P(e.value)&&""===e.value[0]&&delete e.value}function k(e){var t=e.match(I),n=null!=t&&1<=t.length,r=e.match("trk.js"),i=null!=r&&1<=r.length;return e.startsWith("<script")&&i&&n}function N(e){var t=!0;return e&&e.gdprConsent&&e.gdprConsent.gdprApplies&&2===e.gdprConsent.apiVersion&&(t=!(!0!==i.deepAccess(e.gdprConsent,"vendorData.purpose.consents.1"))),t}function D(e){var t={};t.sizes=R(e.sizes),t.primary_size=t.sizes[0],t.ad_types=[],t.uuid=e.bidId,e.params.placementId?t.id=parseInt(e.params.placementId,10):t.code=e.params.invCode,t.allow_smaller_sizes=e.params.allowSmallerSizes||!1,t.use_pmt_rule=e.params.usePaymentRule||!1,t.prebid=!0,t.disable_psa=!0;var n,r=(function(e){if(!i.isFn(e.getFloor))return e.params.reserve?e.params.reserve:null;var t=e.getFloor({currency:"USD",mediaType:"*",size:"*"});return!i.isPlainObject(t)||isNaN(t.floor)||"USD"!==t.currency?null:t.floor})(e);r&&(t.reserve=r),e.params.position&&(t.position={above:1,below:2}[e.params.position]||0),e.params.trafficSourceCode&&(t.traffic_source_code=e.params.trafficSourceCode),e.params.privateSizes&&(t.private_sizes=R(e.params.privateSizes)),e.params.supplyType&&(t.supply_type=e.params.supplyType),e.params.pubClick&&(t.pubclick=e.params.pubClick),e.params.extInvCode&&(t.ext_inv_code=e.params.extInvCode),e.params.publisherId&&(t.publisher_id=parseInt(e.params.publisherId,10)),e.params.externalImpId&&(t.external_imp_id=e.params.externalImpId),i.isEmpty(e.params.keywords)||(0<(n=i.transformBidderParamKeywords(e.params.keywords)).length&&n.forEach(x),t.keywords=n);var a,o,c,l=i.deepAccess(e,"ortb2Imp.ext.data.pbadslot");l&&(t.gpid=l),e.mediaType!==s.c&&!i.deepAccess(e,"mediaTypes.".concat(s.c))||(t.ad_types.push(s.c),0===t.sizes.length&&(t.sizes=R([1,1])),e.nativeParams&&(o=e.nativeParams,c={},Object.keys(o).forEach((function(e){var t,n=O[e]&&O[e].serverName||O[e]||e,r=O[e]&&O[e].requiredParams;c[n]=g({},r,o[e]),n!==O.image.serverName&&n!==O.icon.serverName||!c[n].sizes||(t=c[n].sizes,(i.isArrayOfNums(t)||i.isArray(t)&&0<t.length&&t.every((function(e){return i.isArrayOfNums(e)})))&&(c[n].sizes=R(c[n].sizes))),n===O.privacyLink&&(c.privacy_supported=!0)})),a=c,t[s.c]={layouts:[a]}));var p=i.deepAccess(e,"mediaTypes.".concat(s.d)),h=i.deepAccess(e,"mediaTypes.video.context");t.hb_source=p&&"adpod"===h?7:1,e.mediaType!==s.d&&!p||t.ad_types.push(s.d),(e.mediaType===s.d||p&&"outstream"!==h)&&(t.require_asset_url=!0),e.params.video&&(t.video={},Object.keys(e.params.video).filter((function(e){return f()(E,e)})).forEach((function(n){switch(n){case"context":case"playback_method":var r=e.params.video[n];r=i.isArray(r)?r[0]:r;t.video[n]=w[n][r];break;case"frameworks":break;default:t.video[n]=e.params.video[n]}})),e.params.video.frameworks&&i.isArray(e.params.video.frameworks)&&(t.video_frameworks=e.params.video.frameworks)),e.renderer&&(t.video=g({},t.video,{custom_renderer_present:!0})),e.params.frameworks&&i.isArray(e.params.frameworks)&&(t.banner_frameworks=e.params.frameworks);var m=d()(u.a.getAdUnits(),(function(t){return e.transactionId===t.transactionId}));return m&&m.mediaTypes&&m.mediaTypes.banner&&t.ad_types.push(s.b),0===t.ad_types.length&&delete t.ad_types,t}function R(e){var t=[],n={};if(i.isArray(e)&&2===e.length&&!i.isArray(e[0]))n.width=parseInt(e[0],10),n.height=parseInt(e[1],10),t.push(n);else if("object"===m(e))for(var r=0;r<e.length;r++){var a=e[r];(n={}).width=parseInt(a[0],10),n.height=parseInt(a[1],10),t.push(n)}return t}function j(e){return!!e.params.user}function M(e){return!!parseInt(e.params.member,10)}function B(e){if(e.params)return!!e.params.app}function U(e){return e.params&&e.params.app?!!e.params.app.id:!!e.params.app}function L(e){return!!e.debug}function V(e){return e.mediaTypes&&e.mediaTypes.video&&e.mediaTypes.video.context===s.a}function F(e){var t=!1,n=e.params,r=e.params.video;return n.frameworks&&i.isArray(n.frameworks)&&(t=f()(e.params.frameworks,6)),!t&&r&&r.frameworks&&i.isArray(r.frameworks)&&(t=f()(e.params.video.frameworks,6)),t}function G(e,t,n){i.isEmpty(e.video)&&(e.video={}),e.video[t]=n}function q(e){var t,n;t=e.adUnitCode,(n=document.getElementById(t).querySelectorAll("div[id^='google_ads']"))[0]&&n[0].style.setProperty("display","none"),(function(e){try{var t=document.getElementById(e).querySelectorAll("script[id^='sas_script']");t[0].nextSibling&&"iframe"===t[0].nextSibling.localName&&t[0].nextSibling.style.setProperty("display","none")}catch(e){}})(e.adUnitCode),e.renderer.push((function(){window.ANOutstreamVideo.renderAd({tagId:e.adResponse.tag_id,sizes:[e.getSize().split("x")],targetId:e.adUnitCode,uuid:e.adResponse.uuid,adResponse:e.adResponse,rendererOptions:e.renderer.getConfig()},function(e,t,n){e.renderer.handleVideoEvent({id:t,eventName:n})}.bind(null,e))}))}function z(e,t,n,r){return t&&(r?e.push({source:n,id:t,rti_partner:r}):e.push({source:n,id:t})),e}Object(o.registerBidder)(T)}},[290]),pbjsChunk([52],{298:function(e,t,n){e.exports=n(299)},299:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return l})),n.d(t,"analyticsUrl",(function(){return f})),t.parseBrowser=v;var r=n(6),i=n(5),a=n.n(i),o=n(8),s=n(0),u=n(4),c=n(7);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=Object(c.b)(),f="https://analytics.rlcdn.com",p=[],h=[],m=[{test:/googlebot/i,name:"Googlebot"},{test:/opera/i,name:"Opera"},{test:/opr\/|opios/i,name:"Opera"},{test:/SamsungBrowser/i,name:"Samsung Internet for Android"},{test:/Whale/i,name:"NAVER Whale Browser"},{test:/MZBrowser/i,name:"MZ Browser"},{test:/focus/i,name:"Focus"},{test:/swing/i,name:"Swing"},{test:/coast/i,name:"Opera Coast"},{test:/opt\/\d+(?:.?_?\d+)+/i,name:"Opera Touch"},{test:/yabrowser/i,name:"Yandex Browser"},{test:/ucbrowser/i,name:"UC Browser"},{test:/Maxthon|mxios/i,name:"Maxthon"},{test:/epiphany/i,name:"Epiphany"},{test:/puffin/i,name:"Puffin"},{test:/sleipnir/i,name:"Sleipnir"},{test:/k-meleon/i,name:"K-Meleon"},{test:/micromessenger/i,name:"WeChat"},{test:/qqbrowser/i,name:/qqbrowserlite/i.test(window.navigator.userAgent)?"QQ Browser Lite":"QQ Browser"},{test:/msie|trident/i,name:"Internet Explorer"},{test:/\sedg\//i,name:"Microsoft Edge"},{test:/edg([ea]|ios)/i,name:"Microsoft Edge"},{test:/vivaldi/i,name:"Vivaldi"},{test:/seamonkey/i,name:"SeaMonkey"},{test:/sailfish/i,name:"Sailfish"},{test:/silk/i,name:"Amazon Silk"},{test:/phantom/i,name:"PhantomJS"},{test:/slimerjs/i,name:"SlimerJS"},{test:/blackberry|\bbb\d+/i,name:"BlackBerry"},{test:/(web|hpw)[o0]s/i,name:"WebOS Browser"},{test:/bada/i,name:"Bada"},{test:/tizen/i,name:"Tizen"},{test:/qupzilla/i,name:"QupZilla"},{test:/firefox|iceweasel|fxios/i,name:"Firefox"},{test:/electron/i,name:"Electron"},{test:/MiuiBrowser/i,name:"Miui"},{test:/chromium/i,name:"Chromium"},{test:/chrome|crios|crmo/i,name:"Chrome"},{test:/GSA/i,name:"Google Search"},{test:/android/i,name:"Android Browser"},{test:/playstation 4/i,name:"PlayStation 4"},{test:/safari|applewebkit/i,name:"Safari"}],g=["Safari","Chrome","Firefox","Microsoft Edge"];function v(){var e=b.getUserAgent();try{var t=m.filter((function(t){return t.test.test(e)})),n=t&&t.length?t[0].name:"";return 0<=g.indexOf(n)?n:"Unknown"}catch(t){s.logError("ATS Analytics - Error while checking user browser!",t)}}function y(){try{var e={Data:b.context.events},t=JSON.stringify(e);s.logInfo("ATS Analytics - tried to send analytics data!"),Object(u.a)(f,(function(){}),t,{method:"POST",contentType:"application/json"})}catch(e){s.logError("ATS Analytics - request encounter an error: ",e)}}var b=d(Object(r.a)({analyticsType:"endpoint"}),{track:function(e){var t=e.eventType,n=e.args;if(void 0!==n&&(function(e,t){var n,r,i,o;e===a.a.EVENTS.BID_REQUESTED?p=p.concat((r=t,i="true"===l.getCookie("_lr_env_src_ats"),r.bids.map((function(e){return{envelope_source:i,has_envelope:!!e.userId&&!!e.userId.idl_env,bidder:e.bidder,bid_id:e.bidId,auction_id:r.auctionId,user_browser:v(),user_platform:navigator.platform,auction_start:new Date(r.auctionStart).toJSON(),domain:window.location.hostname,pid:b.context.pid,adapter_version:1}})))):e===a.a.EVENTS.BID_RESPONSE&&h.push({bid_id:(n=t).requestId,response_time_stamp:new Date(n.responseTimestamp).toJSON(),currency:n.currency,cpm:n.cpm,net_revenue:n.netRevenue}),e===a.a.EVENTS.AUCTION_END&&p.length&&([],o=h.length?p.filter((function(e){return h.filter((function(t){e.bid_id===t.bid_id&&d(e,t)}))})):p,b.context.events=o)})(t,n),t===a.a.EVENTS.AUCTION_END){var r=l.getCookie("_lr_env_src_ats");try{var i=l.getCookie("_lr_sampling_rate");i?b.shouldFireRequest(parseInt(i))&&null!=r&&y():(function(e){s.logInfo("ATS Analytics - preflight request!"),Object(u.a)("https://check.analytics.rlcdn.com/check/"+b.context.pid,(function(t){var n=JSON.parse(t);s.logInfo("ATS Analytics - Sampling Rate: ",n);var r,i,a=n.samplingRate;r=a,(i=new Date).setTime(i.getTime()+36e5),l.setCookie("_lr_sampling_rate",r,i.toUTCString());var o=Number(a);t&&a&&b.shouldFireRequest(o)&&null!=e&&y()}),void 0,{method:"GET",crossOrigin:!0})})(r)}catch(e){s.logError("ATS Analytics - preflight request encounter an error: ",e)}}}});b.originEnableAnalytics=b.enableAnalytics,b.shouldFireRequest=function(e){if(0===e)return s.logInfo("ATS Analytics - Should Fire Request: ",!1),!1;var t=100===Math.floor(100*Math.random()+1);return s.logInfo("ATS Analytics - Should Fire Request: ",t),t},b.getUserAgent=function(){return window.navigator.userAgent},b.enableAnalytics=function(e){var t;e.options.pid?(b.context={events:[],pid:e.options.pid},t=e.options,s.logInfo("ATS Analytics - adapter enabled! "),b.originEnableAnalytics(t)):s.logError("ATS Analytics - Publisher ID (pid) option is not defined. Analytics won't work")},o.default.registerAnalyticsAdapter({adapter:b,code:"atsAnalytics",gvlid:97}),t.default=b},6:function(e,t,n){t.a=function(e){var t,n=e.url,r=e.analyticsType,i=e.global,d=e.handler,C=[],T=0,P=!0;return r!==O&&!I||(function(){if(P){for(var e=0;e<C.length;e++)C[e]();C.push=function(e){e()},P=!1}c.logMessage("event count sent to ".concat(i,": ").concat(T))})(),{track:function(e){var t=e.eventType,r=e.args;this.getAdapterType()===I&&window[i](d,t,r),this.getAdapterType()===O&&function(e){var t=e.eventType,r=e.args,i=e.callback;Object(a.a)(n,i,JSON.stringify({eventType:t,args:r}))}.apply(void 0,arguments)},enqueue:x,enableAnalytics:k,disableAnalytics:function(){c._each(t,(function(e,t){u.off(t,e)})),this.enableAnalytics=this._oldEnable?this._oldEnable:k},getAdapterType:function(){return r},getGlobal:function(){return i},getHandler:function(){return d},getUrl:function(){return n}};function x(e){var t=e.eventType,n=e.args,r=this;i&&window[i]&&t&&n?this.track({eventType:t,args:n}):C.push((function(){T++,r.track({eventType:t,args:n})}))}function k(e){var n,r=this,a=this;"object"!==s(e)||"object"!==s(e.options)||void 0===e.options.sampling||Math.random()<parseFloat(e.options.sampling)?(u.getEvents().forEach((function(e){var t,n;e&&(t=e.eventType,n=e.args,t!==m&&x.call(a,{eventType:t,args:n}))})),o(n={},p,(function(e){return r.enqueue({eventType:p,args:e})})),o(n,h,(function(e){return r.enqueue({eventType:h,args:e})})),o(n,g,(function(e){return r.enqueue({eventType:g,args:e})})),o(n,v,(function(e){return r.enqueue({eventType:v,args:e})})),o(n,m,(function(e){return r.enqueue({eventType:m,args:e})})),o(n,y,(function(e){return r.enqueue({eventType:y,args:e})})),o(n,b,(function(e){return r.enqueue({eventType:b,args:e})})),o(n,E,(function(e){return r.enqueue({eventType:E,args:e})})),o(n,_,(function(e){return r.enqueue({eventType:_,args:e})})),o(n,f,(function(e){return r.enqueue({eventType:f,args:e})})),o(n,S,(function(e){return r.enqueue({eventType:S,args:e})})),o(n,A,(function(e){return r.enqueue({eventType:A,args:e})})),o(n,w,(function(e){return r.enqueue({eventType:w,args:e})})),o(n,l,(function(t){t.config="object"===s(e)&&e.options||{},r.enqueue({eventType:l,args:t})})),t=n,c._each(t,(function(e,t){u.on(t,e)}))):c.logMessage('Analytics adapter for "'.concat(i,'" disabled by sampling')),this._oldEnable=this.enableAnalytics,this.enableAnalytics=function(){return c.logMessage('Analytics adapter for "'.concat(i,'" already enabled, unnecessary call to `enableAnalytics`.'))}}};var r=n(5),i=n.n(r),a=n(4);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var u=n(9),c=n(0),d=i.a.EVENTS,l=d.AUCTION_INIT,f=d.AUCTION_END,p=d.REQUEST_BIDS,h=d.BID_REQUESTED,m=d.BID_TIMEOUT,g=d.BID_RESPONSE,v=d.NO_BID,y=d.BID_WON,b=d.BID_ADJUSTMENT,E=d.BIDDER_DONE,_=d.SET_TARGETING,S=d.AD_RENDER_FAILED,A=d.AUCTION_DEBUG,w=d.ADD_AD_UNITS,O="endpoint",I="bundle"}},[298]),pbjsChunk([363],{308:function(e,t,n){e.exports=n(309)},309:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"VIDEO_ENDPOINT",(function(){return v})),n.d(t,"BANNER_ENDPOINT",(function(){return y})),n.d(t,"OUTSTREAM_SRC",(function(){return b})),n.d(t,"VIDEO_TARGETING",(function(){return E})),n.d(t,"DEFAULT_MIMES",(function(){return _})),n.d(t,"SUPPORTED_USER_IDS",(function(){return S})),n.d(t,"spec",(function(){return w}));var r=n(0),i=n(3),a=n(1),o=n(12),s=n(2),u=n(10),c=n.n(u),d=n(13),l=n.n(d);function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var h="1.16",m="BFIO_PREBID",g="USD",v="https://reachms.bfmio.com/bid.json?exchange_id=",y="https://display.bfmio.com/prebid_display",b="https://player-cdn.beachfrontmedia.com/playerapi/loader/outstream.js",E=["mimes","playbackmethod","maxduration","placement","skip","skipmin","skipafter"],_=["video/mp4","application/javascript"],S=[{key:"tdid",source:"adserver.org",rtiPartner:"TDID",queryParam:"tdid"},{key:"idl_env",source:"liveramp.com",rtiPartner:"idl",queryParam:"idl"},{key:"uid2.id",source:"uidapi.com",rtiPartner:"UID2",queryParam:"uid2"}],A="",w={code:"beachfront",supportedMediaTypes:[s.d,s.b],isBidRequestValid:function(e){return!(!R(e)&&!j(e))},buildRequests:function(e,t){var n=[],i=e.filter(R),a=e.filter(j);return i.forEach((function(e){A=k(e,"appId"),n.push({method:"POST",url:v+A,data:(function(e,t){var n,i,a,o=O(C(e)),s=(function(e){var t={},n=["playerSize","context","w","h"];return Object.keys(Object(e.mediaTypes.video)).filter((function(e){return!l()(n,e)})).forEach((function(n){t[n]=e.mediaTypes.video[n]})),Object.keys(Object(e.params.video)).filter((function(e){return l()(E,e)})).forEach((function(n){t[n]=e.params.video[n]})),t})(e),u=k(e,"appId"),c=(function(e){return(r.isFn(e.getFloor)?e.getFloor({currency:g,mediaType:"video",size:"*"}):{}).floor||k(e,"bidfloor")})(e),d=k(e,"tagid"),f=M(t),v=(function(e){return S.map(function(e){return function(t){var n=t.key,i=t.source,a=t.rtiPartner,o=r.deepAccess(e,"userId.".concat(n));return o?{source:i,uids:[{id:o,ext:{rtiPartner:a}}]}:null}}(e)).filter((function(e){return e}))})(e),y={isPrebid:!0,appId:u,domain:document.location.hostname,id:r.getUniqueIdentifierStr(),imp:[{video:p({w:o.w,h:o.h,mimes:_},s),bidfloor:c,tagid:d,secure:0===f.protocol.indexOf("https")?1:0,displaymanager:m,displaymanagerver:h}],site:{page:f.href,domain:f.hostname},device:{ua:navigator.userAgent,language:navigator.language,devicetype:T()?1:/(smart[-]?tv|hbbtv|appletv|googletv|hdmi|netcast\.tv|viera|nettv|roku|\bdtv\b|sonydtv|inettvbrowser|\btv\b)/i.test(navigator.userAgent)?3:2,dnt:P()?1:0,js:1,geo:{}},regs:{ext:{}},source:{ext:{}},user:{ext:{}},cur:[g]};t&&t.uspConsent&&(y.regs.ext.us_privacy=t.uspConsent),t&&t.gdprConsent&&(i=(n=t.gdprConsent).gdprApplies,a=n.consentString,y.regs.ext.gdpr=i?1:0,y.user.ext.consent=a),e.schain&&(y.source.ext.schain=e.schain),0<v.length&&(y.user.ext.eids=v);var b=navigator.connection||navigator.webkitConnection;return b&&b.effectiveType&&(y.device.connectiontype=b.effectiveType),y})(e,t),bidRequest:e})})),a.length&&(A=N(a[0],"appId"),n.push({method:"POST",url:y,data:(function(e,t){var n,i,a,o=M(t),s=(function(){try{return window.top.document.referrer}catch(e){return""}})(),u={slots:e.map((function(e){return{slot:e.adUnitCode,id:N(e,"appId"),bidfloor:(n=e,(r.isFn(n.getFloor)?n.getFloor({currency:g,mediaType:"banner",size:"*"}):{}).floor||N(n,"bidfloor")),tagid:N(e,"tagid"),sizes:(t=e,I(r.deepAccess(t,"mediaTypes.banner.sizes")||t.sizes))};var t,n})),page:o.href,domain:o.hostname,search:o.search,secure:0===o.protocol.indexOf("https")?1:0,referrer:s,ua:navigator.userAgent,deviceOs:(function(){var e=c()([{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"Linux",r:/(Linux|X11)/},{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Windows Vista",r:/Windows NT 6.0/},{s:"Windows Server 2003",r:/Windows NT 5.2/},{s:"Windows XP",r:/(Windows NT 5.1|Windows XP)/},{s:"UNIX",r:/UNIX/},{s:"Search Bot",r:/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask Jeeves\/Teoma|ia_archiver)/}],(function(e){return e.r.test(navigator.userAgent)}));return e?e.s:"unknown"})(),isMobile:T()?1:0,dnt:P()?1:0,adapterVersion:h,adapterName:m};return t&&t.uspConsent&&(u.usPrivacy=t.uspConsent),t&&t.gdprConsent&&(i=(n=t.gdprConsent).gdprApplies,a=n.consentString,u.gdpr=i?1:0,u.gdprConsent=a),e[0]&&e[0].schain&&(u.schain=e[0].schain),S.forEach((function(t){var n=t.key,i=t.queryParam,a=r.deepAccess(e,"0.userId.".concat(n));a&&(u[i]=a)})),u})(a,t),bidRequest:a})),n},interpretResponse:function(e,t){var n,i,a=t.bidRequest;if(e=e.body,x(a)){if(!e||!e.bidPrice)return r.logWarn("No valid video bids from ".concat(w.code," bidder")),[];var u=O(C(a)),d=r.deepAccess(a,"mediaTypes.video.context"),l=k(a,"responseType")||"both",f=p({mediaType:s.d,advertiserDomains:[]},e.meta),h={requestId:a.bidId,bidderCode:w.code,cpm:e.bidPrice,width:u.w,height:u.h,creativeId:e.crid||e.cmpId,meta:f,renderer:"outstream"===d?(n=a,(i=o.a.install({id:n.bidId,url:b,loaded:!1})).setRender((function(e){e.renderer.push((function(){window.Beachfront.Player(e.adUnitCode,{adTagUrl:e.vastUrl,width:e.width,height:e.height,expandInView:D(n,"expandInView",!1),collapseOnComplete:D(n,"collapseOnComplete",!0),progressColor:D(n,"progressColor"),adPosterColor:D(n,"adPosterColor")})}))})),i):null,mediaType:s.d,currency:g,netRevenue:!0,ttl:300};return"nurl"!==l&&"both"!==l||(h.vastUrl=e.url),"adm"!==l&&"both"!==l||(h.vastXml=e.vast),h}return e&&e.length?e.filter((function(e){return e.adm})).map((function(e){var t=c()(a,(function(t){return t.adUnitCode===e.slot})),n=p({mediaType:s.b,advertiserDomains:[]},e.meta);return{requestId:t.bidId,bidderCode:w.code,ad:e.adm,creativeId:e.crid,cpm:e.price,width:e.w,height:e.h,meta:n,mediaType:s.b,currency:g,netRevenue:!0,ttl:300}})):(r.logWarn("No valid banner bids from ".concat(w.code," bidder")),[])},getUserSyncs:function(e,t,n,i){var a=1<arguments.length&&void 0!==t?t:[],o=2<arguments.length&&void 0!==n?n:{},s=3<arguments.length&&void 0!==i?i:"",u=[],d=o.gdprApplies,l=o.consentString,f=void 0===l?"":l,p=c()(a,(function(e){return r.isArray(e.body)}));return p?e.iframeEnabled&&p.body.filter((function(e){return e.sync})).forEach((function(e){u.push({type:"iframe",url:e.sync})})):e.iframeEnabled?u.push({type:"iframe",url:"https://sync.bfmio.com/sync_iframe?ifg=1&id=".concat(A,"&gdpr=").concat(d?1:0,"&gc=").concat(f,"&gce=1&us_privacy=").concat(s)}):e.pixelEnabled&&u.push({type:"image",url:"https://sync.bfmio.com/syncb?pid=144&id=".concat(A,"&gdpr=").concat(d?1:0,"&gc=").concat(f,"&gce=1&us_privacy=").concat(s)}),u}};function O(e){return e&&e.length?e[0]:{w:void 0,h:void 0}}function I(e){return r.parseSizesInput(e).map((function(e){var t=(function(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()})(e.split("x"),2),n=t[0],r=t[1];return{w:parseInt(n,10)||void 0,h:parseInt(r,10)||void 0}}))}function C(e){return I(r.deepAccess(e,"mediaTypes.video.playerSize")||e.sizes)}function T(){return/(ios|ipod|ipad|iphone|android)/i.test(navigator.userAgent)}function P(){return"1"===navigator.doNotTrack||"1"===window.doNotTrack||"1"===navigator.msDoNoTrack||"yes"===navigator.doNotTrack}function x(e){return r.deepAccess(e,"mediaTypes.video")}function k(e,t){return r.deepAccess(e,"params.video."+t)||r.deepAccess(e,"params."+t)}function N(e,t){return r.deepAccess(e,"params.banner."+t)||r.deepAccess(e,"params."+t)}function D(e,t,n){var i=r.deepAccess(e,"params.player."+t);return void 0===i?n:i}function R(e){return x(e)&&k(e,"appId")&&k(e,"bidfloor")}function j(e){return t=e,(r.deepAccess(t,"mediaTypes.banner")||!x(t))&&N(e,"appId")&&N(e,"bidfloor");var t}function M(e){var t=e&&e.refererInfo&&e.refererInfo.referer;return r.parseUrl(i.b.getConfig("pageUrl")||t,{decodeSearchAsString:!0})}Object(a.registerBidder)(w)}},[308]),pbjsChunk([332],{376:function(e,t,n){e.exports=n(377)},377:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"allowAuction",(function(){return v})),n.d(t,"userCMP",(function(){return f})),n.d(t,"consentTimeout",(function(){return p})),n.d(t,"gdprScope",(function(){return h})),n.d(t,"staticConsentData",(function(){return m})),t.requestBidsHook=_,t.resetConsentData=function(){g=void 0,f=void 0,y=0,a.gdprDataHandler.setConsentData(null)},t.setConsentConfig=I;var r=n(0),i=n(3),a=n(8),o=n(13),s=n.n(o),u=n(73),c=n.n(u);function d(e){return(d="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f,p,h,m,g,v={value:!0,definedInConfig:!1},y=0,b=!1,E={iab:function(e,t,n){function i(i,a){r.logInfo("Received a response from CMP",i),a?!1!==i.gdprApplies&&"tcloaded"!==i.eventStatus&&"useractioncomplete"!==i.eventStatus||e(i,n):t("CMP unable to register callback function.  Please check CMP setup.",n)}var a=(function(){var t={};function i(){t.getConsentData&&t.getVendorConsents&&(r.logInfo("Received all requested responses from CMP",t),e(t,n))}return{consentDataCallback:function(e){t.getConsentData=e,i()},vendorConsentsCallback:function(e){t.getVendorConsents=e,i()}}})(),o={},s=(function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__tcfapi||"function"==typeof n.__cmp){t="function"==typeof n.__tcfapi?(y=2,n.__tcfapi):(y=1,n.__cmp),e=n;break}}catch(e){}try{if(n.frames.__tcfapiLocator){y=2,e=n;break}}catch(e){}try{if(n.frames.__cmpLocator){y=1,e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{cmpFrame:e,cmpFunction:t}})(),u=s.cmpFrame,d=s.cmpFunction;if(!u)return t("CMP not found.",n);function f(e,t){var i,a=n.adUnits,o=1,s=1;Array.isArray(a)&&0<a.length&&(o=(i=r.getAdUnitSizes(a[0]))[0][0],s=i[0][1]),window.$sf.ext.register(o,s,(function(n,r){var i;"cmpReturn"===n&&(i="getConsentData"===e?r.vendorConsentData:r.vendorConsents,t(i))})),window.$sf.ext.cmp(e)}function p(e,t,n){var r=2===y?"__tcfapi":"__cmp",i="".concat(r,"Call");function a(e){var t,n="".concat(r,"Return"),i="string"==typeof e.data&&c()(e.data,n)?JSON.parse(e.data):e.data;i[n]&&i[n].callId&&(t=i[n],void 0!==o[t.callId]&&o[t.callId](t.returnValue,t.success))}2===y?(window[r]=function(e,n,r,a){var s=Math.random()+"",u=l({},i,{command:e,version:n,parameter:a,callId:s});o[s]=r,t.postMessage(u,"*")},window.addEventListener("message",a,!1),window[r](e,y,n)):(window[r]=function(e,n,r){var a=Math.random()+"",s=l({},i,{command:e,parameter:n,callId:a});o[a]=r,t.postMessage(s,"*")},window.addEventListener("message",a,!1),window[r](e,void 0,n))}r.isFn(d)?(r.logInfo("Detected CMP API is directly accessible, calling it now..."),1===y?(d("getConsentData",null,a.consentDataCallback),d("getVendorConsents",null,a.vendorConsentsCallback)):2===y&&d("addEventListener",y,i)):1===y&&window.$sf&&window.$sf.ext&&"function"==typeof window.$sf.ext.cmp?(r.logInfo("Detected Prebid.js is encased in a SafeFrame and CMP is registered, calling it now..."),f("getConsentData",a.consentDataCallback),f("getVendorConsents",a.vendorConsentsCallback)):(r.logInfo("Detected CMP is outside the current iframe where Prebid.js is located, calling it now..."),1===y?(p("getConsentData",u,a.consentDataCallback),p("getVendorConsents",u,a.vendorConsentsCallback)):2===y&&p("addEventListener",u,i))},static:function(e,t,n){e(m,n)}};function _(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};return g?(r.logInfo("User consent information already known.  Pulling internally stored information..."),O(null,n)):s()(Object.keys(E),f)?(E[f].call(this,S,A,n),void(n.haveExited||(0===p?S(void 0,n):n.timer=setTimeout(function(e){A("CMP workflow exceeded timeout threshold.",e)}.bind(null,n),p)))):(r.logWarn("CMP framework (".concat(f,") is not a supported framework.  Aborting consentManagement module and resuming auction.")),n.nextFn.apply(n.context,n.args))}function S(e,t){"static"===f&&2==(y=e.getConsentData?1:e.getTCData?2:0)&&(e=e.getTCData);var n=1===y?function(e){var t=e&&e.getConsentData&&e.getConsentData.gdprApplies;return!("boolean"==typeof t&&(!0!==t||r.isStr(e.getConsentData.consentData)&&r.isPlainObject(e.getVendorConsents)&&1<Object.keys(e.getVendorConsents).length))}:2===y?function(){var t=e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:h,n=e&&e.tcString;return!("boolean"==typeof t&&(!0!==t||r.isStr(n)))}:null;v.definedInConfig&&2===y?r.logWarn("'allowAuctionWithoutConsent' ignored for TCF 2"):v.definedInConfig||1!==y||r.logInfo("'allowAuctionWithoutConsent' using system default: (".concat(!0,").")),r.isFn(n)?n(e)?A("CMP returned unexpected value during lookup process.",t,e):(clearTimeout(t.timer),w(e),O(null,t)):A("Unable to derive CMP version to process data.  Consent object does not conform to TCF v1 or v2 specs.",t,e)}function A(e,t,n){clearTimeout(t.timer),v.value&&1===y&&w(void 0),O(e,t,n)}function w(e){1===y?g={consentString:e?e.getConsentData.consentData:void 0,vendorData:e?e.getVendorConsents:void 0,gdprApplies:e?e.getConsentData.gdprApplies:h}:(g={consentString:e?e.tcString:void 0,vendorData:e||void 0,gdprApplies:e&&"boolean"==typeof e.gdprApplies?e.gdprApplies:h},e&&e.addtlConsent&&r.isStr(e.addtlConsent)&&(g.addtlConsent=e.addtlConsent)),g.apiVersion=y,a.gdprDataHandler.setConsentData(g)}function O(e,t,n){var i,a,o;!1===t.haveExited&&(t.haveExited=!0,i=t.context,a=t.args,o=t.nextFn,e?v.value&&1===y?(r.logWarn(e+" 'allowAuctionWithoutConsent' activated.",n),o.apply(i,a)):(r.logError(e+" Canceling auction as per consentManagement config.",n),"function"==typeof t.bidsBackHandler?t.bidsBackHandler():r.logError("Error executing bidsBackHandler")):o.apply(i,a))}function I(e){(e=e&&(e.gdpr||e.usp?e.gdpr:e))&&"object"===d(e)?(r.isStr(e.cmpApi)?f=e.cmpApi:(f="iab",r.logInfo("consentManagement config did not specify cmp.  Using system default setting (".concat("iab",")."))),r.isNumber(e.timeout)?p=e.timeout:(p=1e4,r.logInfo("consentManagement config did not specify timeout.  Using system default setting (".concat(1e4,")."))),"boolean"==typeof e.allowAuctionWithoutConsent&&(v.value=e.allowAuctionWithoutConsent,v.definedInConfig=!0),h=!0===e.defaultGdprScope,r.logInfo("consentManagement module has been activated..."),"static"===f&&(r.isPlainObject(e.consentData)?(m=e.consentData,p=0):r.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),b||pbjs.requestBids.before(_,50),b=!0):r.logWarn("consentManagement config not defined, exiting consent manager")}i.b.getConfig("consentManagement",(function(e){return I(e.consentManagement)}))}},[376]),pbjsChunk([331],{383:function(e,t,n){e.exports=n(384)},384:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"consentAPI",(function(){return s})),n.d(t,"consentTimeout",(function(){return u})),n.d(t,"staticConsentData",(function(){return c})),t.requestBidsHook=p,t.resetConsentData=function(){d=void 0,s=void 0,a.uspDataHandler.setConsentData(null)},t.setConsentConfig=v;var r=n(0),i=n(3),a=n(8);function o(e){return(o="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var s,u,c,d,l=!1,f={iab:function(e,t,n){var i=(function(){var r={};return{consentDataCallback:function(i,a){a&&i.uspString&&(r.usPrivacy=i.uspString),r.usPrivacy?e(r,n):t("Unable to get USP consent string.",n)}}})(),a={},o=(function(){for(var e,t,n=window;!e;){try{if("function"==typeof n.__uspapi){t=n.__uspapi,e=n;break}}catch(e){}try{if(n.frames.__uspapiLocator){e=n;break}}catch(e){}if(n===window.top)break;n=n.parent}return{uspapiFrame:e,uspapiFunction:t}})(),s=o.uspapiFrame,u=o.uspapiFunction;if(!s)return t("USP CMP not found.",n);r.isFn(u)?(r.logInfo("Detected USP CMP is directly accessible, calling it now..."),u("getUSPData",1,i.consentDataCallback)):(r.logInfo("Detected USP CMP is outside the current iframe where Prebid.js is located, calling it now..."),(function(e,t,n){window.__uspapi=function(e,n,r){var i=Math.random()+"",o={__uspapiCall:{command:e,version:n,callId:i}};a[i]=r,t.postMessage(o,"*")},window.addEventListener("message",(function(e){var t=e&&e.data&&e.data.__uspapiReturn;t&&t.callId&&void 0!==a[t.callId]&&(a[t.callId](t.returnValue,t.success),delete a[t.callId])}),!1),window.__uspapi("getUSPData",1,n)})(0,s,i.consentDataCallback))},static:function(e,t,n){e(c,n)}};function p(e,t){var n={context:this,args:[t],nextFn:e,adUnits:t.adUnits||pbjs.adUnits,bidsBackHandler:t.bidsBackHandler,haveExited:!1,timer:null};if(!f[s])return r.logWarn("USP framework (".concat(s,") is not a supported framework. Aborting consentManagement module and resuming auction.")),n.nextFn.apply(n.context,n.args);f[s].call(this,h,m,n),n.haveExited||(0===u?h(void 0,n):n.timer=setTimeout(function(e){m("USPAPI workflow exceeded timeout threshold.",e)}.bind(null,n),u))}function h(e,t){var n;e&&e.usPrivacy?(clearTimeout(t.timer),(n=e)&&n.usPrivacy&&(d=n.usPrivacy,a.uspDataHandler.setConsentData(d)),g(null,t)):m("USPAPI returned unexpected value during lookup process.",t,e)}function m(e,t,n){clearTimeout(t.timer),g(e,t,n)}function g(e,t,n){var i,a,o;!1===t.haveExited&&(t.haveExited=!0,i=t.context,a=t.args,o=t.nextFn,e&&r.logWarn(e+" Resuming auction without consent data as per consentManagement config.",n),o.apply(i,a))}function v(e){(e=e&&e.usp)&&"object"===o(e)?(r.isStr(e.cmpApi)?s=e.cmpApi:(s="iab",r.logInfo("consentManagement.usp config did not specify cmpApi. Using system default setting (".concat("iab",")."))),r.isNumber(e.timeout)?u=e.timeout:(u=50,r.logInfo("consentManagement.usp config did not specify timeout. Using system default setting (".concat(50,")."))),r.logInfo("USPAPI consentManagement module has been activated..."),"static"===s&&(r.isPlainObject(e.consentData)&&r.isPlainObject(e.consentData.getUSPData)?(e.consentData.getUSPData.uspString&&(c={usPrivacy:e.consentData.getUSPData.uspString}),u=0):r.logError("consentManagement config with cmpApi: 'static' did not specify consentData. No consents will be available to adapters.")),l||pbjs.requestBids.before(p,50),l=!0):r.logWarn("consentManagement.usp config not defined, exiting usp consent manager")}i.b.getConfig("consentManagement",(function(e){return v(e.consentManagement)}))}},[383]),pbjsChunk([1],{397:function(e,t,n){e.exports=n(398)},398:function _(module,__webpack_exports__,__webpack_require__){Object.defineProperty(__webpack_exports__,"__esModule",{value:!0}),__webpack_require__.d(__webpack_exports__,"ADAPTER_VERSION",(function(){return ADAPTER_VERSION})),__webpack_require__.d(__webpack_exports__,"PROFILE_ID_PUBLISHERTAG",(function(){return PROFILE_ID_PUBLISHERTAG})),__webpack_require__.d(__webpack_exports__,"spec",(function(){return spec})),__webpack_exports__.tryGetCriteoFastBid=tryGetCriteoFastBid;var __WEBPACK_IMPORTED_MODULE_0__src_adloader_js__=__webpack_require__(39),__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__=__webpack_require__(1),__WEBPACK_IMPORTED_MODULE_2__src_config_js__=__webpack_require__(3),__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__=__webpack_require__(2),__WEBPACK_IMPORTED_MODULE_4__src_utils_js__=__webpack_require__(0),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__=__webpack_require__(10),__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js__),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__=__webpack_require__(68),__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js___default=__webpack_require__.n(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__),__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__=__webpack_require__(7);function _extends(){return(_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var GVLID=91,ADAPTER_VERSION=33,BIDDER_CODE="criteo",CDB_ENDPOINT="https://bidder.criteo.com/cdb",PROFILE_ID_INLINE=207,PROFILE_ID_PUBLISHERTAG=185,storage=Object(__WEBPACK_IMPORTED_MODULE_7__src_storageManager_js__.b)(GVLID),LOG_PREFIX="Criteo: ",PUBLISHER_TAG_URL="https://static.criteo.net/js/ld/publishertag.prebid.js",FAST_BID_PUBKEY_E=65537,FAST_BID_PUBKEY_N="ztQYwCE5BU7T9CDM5he6rKoabstXRmkzx54zFPZkWbK530dwtLBDeaWBMxHBUT55CYyboR/EZ4efghPi3CoNGfGWezpjko9P6p2EwGArtHEeS4slhu/SpSIFMjG6fdrpRoNuIAMhq1Z+Pr/+HOd1pThFKeGFr2/NhtAg+TXAzaU=",spec={code:BIDDER_CODE,gvlid:GVLID,supportedMediaTypes:[__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.b,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d,__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c],isBidRequestValid:function(e){return!(!e||!e.params||!e.params.zoneId&&!e.params.networkId||hasVideoMediaType(e)&&!hasValidVideoMediaType(e))},buildRequests:function(e,t){var n,r,i,a,o=__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getLegacyFpd(__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("ortb2"))||{};if(_extends(t,{publisherExt:o.context,userExt:o.user,ceh:__WEBPACK_IMPORTED_MODULE_2__src_config_js__.b.getConfig("criteo.ceh")}),publisherTagAvailable()||(window.Criteo=window.Criteo||{},window.Criteo.usePrebidEvents=!1,tryGetCriteoFastBid(),setTimeout((function(){Object(__WEBPACK_IMPORTED_MODULE_0__src_adloader_js__.a)(PUBLISHER_TAG_URL,BIDDER_CODE)}),t.timeout)),i=publisherTagAvailable()?(r=(n=new Criteo.PubTag.Adapters.Prebid(PROFILE_ID_PUBLISHERTAG,ADAPTER_VERSION,e,t,"4.43.4")).buildCdbUrl(),n.buildCdbRequest()):(r=buildCdbUrl(a=buildContext(e,t)),buildCdbRequest(a,e,t)))return{method:"POST",url:r,data:i,bidRequests:e}},interpretResponse:function(e,t){var n=e.body||e;if(publisherTagAvailable()){var r=Criteo.PubTag.Adapters.Prebid.GetAdapter(t);if(r)return r.interpretResponse(n,t)}var i=[];return n&&n.slots&&__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.isArray(n.slots)&&n.slots.forEach((function(e){var n=__WEBPACK_IMPORTED_MODULE_5_core_js_pure_features_array_find_js___default()(t.bidRequests,(function(t){return t.adUnitCode===e.impid&&(!t.params.zoneId||parseInt(t.params.zoneId)===e.zoneid)})),r=n.bidId,a={requestId:r,adId:e.bidId||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.getUniqueIdentifierStr(),cpm:e.cpm,currency:e.currency,netRevenue:!0,ttl:e.ttl||60,creativeId:r,width:e.width,height:e.height,dealId:e.dealCode};e.native?n.params.nativeCallback?a.ad=createNativeAd(r,e.native,n.params.nativeCallback):(a.native=createPrebidNativeAd(e.native),a.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c):e.video?(a.vastUrl=e.displayurl,a.mediaType=__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.d):a.ad=e.creative,i.push(a)})),i},onTimeout:function(e){var t;publisherTagAvailable()&&Array.isArray(e)&&(t=[],e.forEach((function(e){-1===t.indexOf(e.auctionId)&&(t.push(e.auctionId),Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidTimeout())})))},onBidWon:function(e){publisherTagAvailable()&&e&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleBidWon(e)},onSetTargeting:function(e){publisherTagAvailable()&&Criteo.PubTag.Adapters.Prebid.GetAdapter(e.auctionId).handleSetTargeting(e)}};function publisherTagAvailable(){return"undefined"!=typeof Criteo&&Criteo.PubTag&&Criteo.PubTag.Adapters&&Criteo.PubTag.Adapters.Prebid}function buildContext(e,t){var n="";t&&t.refererInfo&&(n=t.refererInfo.referer);var r=__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.parseUrl(n).search,i={url:n,debug:"1"===r.pbt_debug,noLog:"1"===r.pbt_nolog,amp:!1};return e.forEach((function(e){"amp"===e.params.integrationMode&&(i.amp=!0)})),i}function buildCdbUrl(e){var t=CDB_ENDPOINT;return t+="?profileId="+PROFILE_ID_INLINE,t+="&av="+String(ADAPTER_VERSION),t+="&wv="+encodeURIComponent("4.43.4"),t+="&cb="+String(Math.floor(99999999999*Math.random())),e.amp&&(t+="&im=1"),e.debug&&(t+="&debug=1"),e.noLog&&(t+="&nolog=1"),t}function checkNativeSendId(e){return!e.nativeParams||!(e.nativeParams.image&&(!0!==e.nativeParams.image.sendId||!0===e.nativeParams.image.sendTargetingKeys)||e.nativeParams.icon&&(!0!==e.nativeParams.icon.sendId||!0===e.nativeParams.icon.sendTargetingKeys)||e.nativeParams.clickUrl&&(!0!==e.nativeParams.clickUrl.sendId||!0===e.nativeParams.clickUrl.sendTargetingKeys)||e.nativeParams.displayUrl&&(!0!==e.nativeParams.displayUrl.sendId||!0===e.nativeParams.displayUrl.sendTargetingKeys)||e.nativeParams.privacyLink&&(!0!==e.nativeParams.privacyLink.sendId||!0===e.nativeParams.privacyLink.sendTargetingKeys)||e.nativeParams.privacyIcon&&(!0!==e.nativeParams.privacyIcon.sendId||!0===e.nativeParams.privacyIcon.sendTargetingKeys))}function buildCdbRequest(e,t,n){var r,i={publisher:{url:e.url,ext:n.publisherExt},slots:t.map((function(e){r=e.params.networkId||r;var t,n={impid:e.adUnitCode,transactionid:e.transactionId,auctionId:e.auctionId};return e.params.zoneId&&(n.zoneid=e.params.zoneId),__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"ortb2Imp.ext")&&(n.ext=e.ortb2Imp.ext),e.params.ext&&(n.ext=_extends({},n.ext,e.params.ext)),e.params.publisherSubId&&(n.publishersubid=e.params.publisherSubId),e.params.nativeCallback||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.".concat(__WEBPACK_IMPORTED_MODULE_3__src_mediaTypes_js__.c))?(n.native=!0,checkNativeSendId(e)||__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn(LOG_PREFIX+"all native assets containing URL should be sent as placeholders with sendId(icon, image, clickUrl, displayUrl, privacyLink, privacyIcon)"),n.sizes=parseSizes(retrieveBannerSizes(e),parseNativeSize)):n.sizes=parseSizes(retrieveBannerSizes(e),parseSize),hasVideoMediaType(e)&&((t={playersizes:parseSizes(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video.playerSize"),parseSize),mimes:e.mediaTypes.video.mimes,protocols:e.mediaTypes.video.protocols,maxduration:e.mediaTypes.video.maxduration,api:e.mediaTypes.video.api}).skip=e.params.video.skip,t.placement=e.params.video.placement,t.minduration=e.params.video.minduration,t.playbackmethod=e.params.video.playbackmethod,t.startdelay=e.params.video.startdelay,n.video=t),n}))};return r&&(i.publisher.networkid=r),i.user={ext:n.userExt},n&&n.ceh&&(i.user.ceh=n.ceh),n&&n.gdprConsent&&(i.gdprConsent={},void 0!==n.gdprConsent.gdprApplies&&(i.gdprConsent.gdprApplies=!!n.gdprConsent.gdprApplies),i.gdprConsent.version=n.gdprConsent.apiVersion,void 0!==n.gdprConsent.consentString&&(i.gdprConsent.consentData=n.gdprConsent.consentString)),n&&n.uspConsent&&(i.user.uspIab=n.uspConsent),i}function retrieveBannerSizes(e){return __WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.banner.sizes")||e.sizes}function parseSizes(e,t){return Array.isArray(e[0])?e.map((function(e){return t(e)})):[t(e)]}function parseSize(e){return e[0]+"x"+e[1]}function parseNativeSize(e){return void 0===e[0]&&void 0===e[1]?"2x2":e[0]+"x"+e[1]}function hasVideoMediaType(e){return void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"params.video")&&void 0!==__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video")}function hasValidVideoMediaType(e){var t=!0;if(["mimes","playerSize","maxduration","protocols","api"].forEach((function(n){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"mediaTypes.video."+n)&&(t=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: mediaTypes.video."+n+" is required"))})),["skip","placement","playbackmethod"].forEach((function(n){void 0===__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.deepAccess(e,"params.video."+n)&&(t=!1,__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logError("Criteo Bid Adapter: params.video."+n+" is required"))})),t){if("instream"==e.mediaTypes.video.context&&1===e.params.video.placement)return 1;if("outstream"==e.mediaTypes.video.context&&1!==e.params.video.placement)return 1}}function createPrebidNativeAd(e){return{sendTargetingKeys:!1,title:e.products[0].title,body:e.products[0].description,sponsoredBy:e.advertiser.description,icon:e.advertiser.logo,image:e.products[0].image,clickUrl:e.products[0].click_url,privacyLink:e.privacy.optout_click_url,privacyIcon:e.privacy.optout_image_url,cta:e.products[0].call_to_action,price:e.products[0].price,impressionTrackers:e.impression_pixels.map((function(e){return e.url}))}}function createNativeAd(e,t,n){var r="criteo_prebid_native_slots";return window[r]=window[r]||{},window[r][e]={callback:n,payload:t},'\n<script type="text/javascript">\nfor (var i = 0; i < 10; ++i) {\n var slots = window.parent.'.concat(r,';\n  if(!slots){continue;}\n  var responseSlot = slots["').concat(e,'"];\n  responseSlot.callback(responseSlot.payload);\n  break;\n}\n<\/script>')}function tryGetCriteoFastBid(){try{var fastBidStorageKey="criteo_fast_bid",hashPrefix="// Hash: ",fastBidFromStorage=storage.getDataFromLocalStorage(fastBidStorageKey),firstLineEndPosition,firstLine,publisherTagHash,publisherTag;null!==fastBidFromStorage&&(firstLineEndPosition=fastBidFromStorage.indexOf("\n"),firstLine=fastBidFromStorage.substr(0,firstLineEndPosition).trim(),firstLine.substr(0,hashPrefix.length)!==hashPrefix?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("No hash found in FastBid"),storage.removeDataFromLocalStorage(fastBidStorageKey)):(publisherTagHash=firstLine.substr(hashPrefix.length),publisherTag=fastBidFromStorage.substr(firstLineEndPosition+1),Object(__WEBPACK_IMPORTED_MODULE_6_criteo_direct_rsa_validate_build_verify_js__.verify)(publisherTag,publisherTagHash,FAST_BID_PUBKEY_N,FAST_BID_PUBKEY_E)?(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logInfo("Using Criteo FastBid"),eval(publisherTag)):(__WEBPACK_IMPORTED_MODULE_4__src_utils_js__.logWarn("Invalid Criteo FastBid found"),storage.removeDataFromLocalStorage(fastBidStorageKey))))}catch(e){}}Object(__WEBPACK_IMPORTED_MODULE_1__src_adapters_bidderFactory_js__.registerBidder)(spec)},68:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(69),i=n(70);t.verify=function(e,t,n,a){var o=new r.BigInteger(r.b64toHex(t)),s=new r.BigInteger(r.b64toHex(n)),u=o.modPowInt(a,s);return r.removeExtraSymbols(u.toHexString())===i.Sha256.hash(e)}},69:function(e,t,n){var r;Object.defineProperty(t,"__esModule",{value:!0});var i=(a.prototype.toHexString=function(){if(this.s<0)return"-"+this.negate().toHexString();var e,t=!1,n="",r=this.t,i=this.DB-r*this.DB%4;if(0<r--)for(i<this.DB&&0<(e=this[r]>>i)&&(t=!0,n=f(e));0<=r;)i<4?(e=(this[r]&(1<<i)-1)<<4-i,e|=this[--r]>>(i+=this.DB-4)):(e=this[r]>>(i-=4)&15,i<=0&&(i+=this.DB,--r)),0<e&&(t=!0),t&&(n+=f(e));return t?n:"0"},a.prototype.fromHexString=function(e){if(null!==e){this.t=0,this.s=0;for(var t=e.length,n=!1,r=0;0<=--t;){var i=l(e,t);i<0?"-"==e.charAt(t)&&(n=!0):(n=!1,0==r?this[this.t++]=i:r+4>this.DB?(this[this.t-1]|=(i&(1<<this.DB-r)-1)<<r,this[this.t++]=i>>this.DB-r):this[this.t-1]|=i<<r,(r+=4)>=this.DB&&(r-=this.DB))}this.clamp(),n&&a.ZERO.subTo(this,this)}},a.prototype.negate=function(){var e=o();return a.ZERO.subTo(this,e),e},a.prototype.abs=function(){return this.s<0?this.negate():this},a.prototype.mod=function(e){var t=o();return this.abs().divRemTo(e,null,t),this.s<0&&0<t.compareTo(a.ZERO)&&e.subTo(t,t),t},a.prototype.copyTo=function(e){for(var t=this.t-1;0<=t;--t)e[t]=this[t];e.t=this.t,e.s=this.s},a.prototype.lShiftTo=function(e,t){for(var n=e%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM,s=this.t-1;0<=s;--s)t[s+a+1]=this[s]>>r|o,o=(this[s]&i)<<n;for(s=a-1;0<=s;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()},a.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return 0<(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)?this.DV-t:-t},a.prototype.dlShiftTo=function(e,t){for(var n=this.t-1;0<=n;--n)t[n+e]=this[n];for(n=e-1;0<=n;--n)t[n]=0;t.t=this.t+e,t.s=this.s},a.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;0<=--n;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}0<e.t&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},a.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;0<=--i;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&a.ZERO.subTo(t,t)},a.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromHexString("0"),void(null!=n&&this.copyTo(n));null==n&&(n=o());var u=o(),c=this.s,d=e.s,l=this.DB-s(r[r.t-1]);0<l?(r.lShiftTo(l,u),i.lShiftTo(l,n)):(r.copyTo(u),i.copyTo(n));var f=u.t,p=u[f-1];if(0!=p){var h=p*(1<<this.F1)+(1<f?u[f-2]>>this.F2:0),m=this.FV/h,g=(1<<this.F1)/h,v=1<<this.F2,y=n.t,b=y-f,E=null==t?o():t;for(u.dlShiftTo(b,E),0<=n.compareTo(E)&&(n[n.t++]=1,n.subTo(E,n)),a.ONE.dlShiftTo(f,E),E.subTo(u,u);u.t<f;)u[u.t++]=0;for(;0<=--b;){var _=n[--y]==p?this.DM:Math.floor(n[y]*m+(n[y-1]+v)*g);if((n[y]+=u.am(0,_,n,b,0,f))<_)for(u.dlShiftTo(b,E),n.subTo(E,n);n[y]<--_;)n.subTo(E,n)}null!=t&&(n.drShiftTo(f,t),c!=d&&a.ZERO.subTo(t,t)),n.t=f,n.clamp(),0<l&&n.rShiftTo(l,n),c<0&&a.ZERO.subTo(n,n)}}},a.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(var o=n+1;o<this.t;++o)t[o-n-1]|=(this[o]&a)<<i,t[o-n]=this[o]>>r;0<r&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}},a.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},a.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:0<r&&(t[n++]=r),t.t=n,t.clamp()},a.prototype.clamp=function(){for(var e=this.s&this.DM;0<this.t&&this[this.t-1]==e;)--this.t},a.prototype.modPowInt=function(e,t){var n=new(e<256||t.isEven()?p:m)(t);return this.exp(e,n)},a.prototype.exp=function(e,t){if(4294967295<e||e<1)return a.ONE;var n,r=o(),i=o(),u=t.convert(this),c=s(e)-1;for(u.copyTo(r);0<=--c;)t.sqrTo(r,i),0<(e&1<<c)?t.mulTo(i,u,r):(n=r,r=i,i=n);return t.revert(r)},a.prototype.isEven=function(){return 0==(0<this.t?1&this[0]:this.s)},a.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;0<=--n;)if(0!=(t=this[n]-e[n]))return t;return 0},a.prototype.am1=function(e,t,n,r,i,a){for(;0<=--a;){var o=t*this[e++]+n[r]+i;i=Math.floor(o/67108864),n[r++]=67108863&o}return i},a.prototype.am2=function(e,t,n,r,i,a){for(var o=32767&t,s=t>>15;0<=--a;){var u=32767&this[e],c=this[e++]>>15,d=s*u+c*o;i=((u=o*u+((32767&d)<<15)+n[r]+(1073741823&i))>>>30)+(d>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},a.prototype.am3=function(e,t,n,r,i,a){for(var o=16383&t,s=t>>14;0<=--a;){var u=16383&this[e],c=this[e++]>>14,d=s*u+c*o;i=((u=o*u+((16383&d)<<14)+n[r]+i)>>28)+(d>>14)+s*c,n[r++]=268435455&u}return i},a);function a(e){null!==e&&this.fromHexString(e)}function o(){return new i(null)}function s(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}t.BigInteger=i,t.nbi=o,t.nbits=s;for(var u=[],c="0".charCodeAt(0),d=0;d<=9;++d)u[c++]=d;for(c="a".charCodeAt(0),d=10;d<36;++d)u[c++]=d;for(c="A".charCodeAt(0),d=10;d<36;++d)u[c++]=d;function l(e,t){var n=u[e.charCodeAt(t)];return null==n?-1:n}t.intAt=l;function f(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}t.int2char=f,t.b64toHex=function(e){for(var t="",n=0,r=0,i=0;i<e.length&&"="!=e.charAt(i);++i){var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e.charAt(i));a<0||(n=0==n?(t+=f(a>>2),r=3&a,1):1==n?(t+=f(r<<2|a>>4),r=15&a,2):2==n?(t+=f(r),t+=f(a>>2),r=3&a,3):(t+=f(r<<2|a>>4),t+=f(15&a),0))}return 1==n&&(t+=f(r<<2)),t},t.removeExtraSymbols=function(e){return e.replace(/^1f+00/,"").replace("3031300d060960864801650304020105000420","")};var p=(h.prototype.convert=function(e){return e.s<0||0<=e.compareTo(this.m)?e.mod(this.m):e},h.prototype.revert=function(e){return e},h.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},h.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},h.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},h);function h(e){this.m=e}var m=(g.prototype.convert=function(e){var t=o();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&0<t.compareTo(i.ZERO)&&this.m.subTo(t,t),t},g.prototype.revert=function(e){var t=o();return e.copyTo(t),this.reduce(t),t},g.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),0<=e.compareTo(this.m)&&e.subTo(this.m,e)},g.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},g.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},g);function g(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function v(e){var t=o();return t.fromHexString(e.toString()),t}t.nbv=v,i.ZERO=v(0),i.ONE=v(1),r="Microsoft Internet Explorer"==navigator.appName?(i.prototype.am=i.prototype.am2,30):"Netscape"!=navigator.appName?(i.prototype.am=i.prototype.am1,26):(i.prototype.am=i.prototype.am3,28),i.prototype.DB=r,i.prototype.DM=(1<<r)-1,i.prototype.DV=1<<r,i.prototype.FV=Math.pow(2,52),i.prototype.F1=52-r,i.prototype.F2=2*r-52},70:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=(i.hash=function(e){e=i.utf8Encode(e||"");for(var t=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],n=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],r=(e+=String.fromCharCode(128)).length/4+2,a=Math.ceil(r/16),o=new Array(a),s=0;s<a;s++){o[s]=new Array(16);for(var u=0;u<16;u++)o[s][u]=e.charCodeAt(64*s+4*u)<<24|e.charCodeAt(64*s+4*u+1)<<16|e.charCodeAt(64*s+4*u+2)<<8|e.charCodeAt(64*s+4*u+3)<<0}var c=8*(e.length-1)/Math.pow(2,32),d=8*(e.length-1)>>>0;for(o[a-1][14]=Math.floor(c),o[a-1][15]=d,s=0;s<a;s++){for(var l=new Array(64),f=0;f<16;f++)l[f]=o[s][f];for(f=16;f<64;f++)l[f]=i.q1(l[f-2])+l[f-7]+i.q0(l[f-15])+l[f-16]>>>0;var p=n[0],h=n[1],m=n[2],g=n[3],v=n[4],y=n[5],b=n[6],E=n[7];for(f=0;f<64;f++){var _=E+i.z1(v)+i.Ch(v,y,b)+t[f]+l[f],S=i.z0(p)+i.Maj(p,h,m);E=b,b=y,y=v,v=g+_>>>0,g=m,m=h,h=p,p=_+S>>>0}n[0]=n[0]+p>>>0,n[1]=n[1]+h>>>0,n[2]=n[2]+m>>>0,n[3]=n[3]+g>>>0,n[4]=n[4]+v>>>0,n[5]=n[5]+y>>>0,n[6]=n[6]+b>>>0,n[7]=n[7]+E>>>0}var A=new Array(n.length);for(E=0;E<n.length;E++)A[E]=("00000000"+n[E].toString(16)).slice(-8);return A.join("")},i.utf8Encode=function(e){try{return(new TextEncoder).encode(e).reduce((function(e,t){return e+String.fromCharCode(t)}),"")}catch(t){return unescape(encodeURIComponent(e))}},i.ROTR=function(e,t){return t>>>e|t<<32-e},i.z0=function(e){return i.ROTR(2,e)^i.ROTR(13,e)^i.ROTR(22,e)},i.z1=function(e){return i.ROTR(6,e)^i.ROTR(11,e)^i.ROTR(25,e)},i.q0=function(e){return i.ROTR(7,e)^i.ROTR(18,e)^e>>>3},i.q1=function(e){return i.ROTR(17,e)^i.ROTR(19,e)^e>>>10},i.Ch=function(e,t,n){return e&t^~e&n},i.Maj=function(e,t,n){return e&t^e&n^t&n},i);function i(){}t.Sha256=r}},[397]),pbjsChunk([317],{415:function(e,t,n){e.exports=n(416)},416:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"adpodUtils",(function(){return v})),t.buildDfpVideoUrl=y,t.notifyTranslationModule=b,t.buildAdpodVideoUrl=E;var r=n(74),i=n(42),a=n(0),o=n(3),s=n(11),u=n(23),c=n(8),d=n(9),l=n.n(d),f=n(5),p=n.n(f);function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var g={env:"vp",gdfp_req:1,output:"vast",unviewed_position_start:1},v={};function y(e){if(e.params||e.url){var t=e.adUnit,n=e.bid||i.d.getWinningBids(t.code)[0],r={};if(e.url&&(r=Object(a.parseUrl)(e.url,{noDecodeWholeURL:!0}),Object(a.isEmpty)(e.params)))return (function(e,t,n){var r=_(t,e,"search");r&&(e.search.description_url=r);var i=S(t,n);return e.search.cust_params=e.search.cust_params?e.search.cust_params+"%26"+i:i,Object(a.buildUrl)(e)})(r,n,e);var o={correlator:Date.now(),sz:Object(a.parseSizesInput)(Object(a.deepAccess)(t,"mediaTypes.video.playerSize")).join("|"),url:encodeURIComponent(location.href)},s=S(n,e),u=m({},g,r.search,o,e.params,{cust_params:s}),d=_(n,e,"params");d&&(u.description_url=d);var l=c.gdprDataHandler.getConsentData();l&&("boolean"==typeof l.gdprApplies&&(u.gdpr=Number(l.gdprApplies)),l.consentString&&(u.gdpr_consent=l.consentString),l.addtlConsent&&(u.addtl_consent=l.addtlConsent));var f=c.uspDataHandler.getConsentData();return f&&(u.us_privacy=f),Object(a.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:u})}Object(a.logError)("A params object or a url is required to use pbjs.adServers.dfp.buildVideoUrl")}function b(e){e.call(this,"dfp")}function E(){var e,t,n,r,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=i.code,s=i.params,d=i.callback;s&&d?(e={correlator:Date.now(),sz:(t=o,n=u.a.getAdUnits().filter((function(e){return e.code===t})),r=Object(a.deepAccess)(n[0],"mediaTypes.video.playerSize"),Object(a.parseSizesInput)(r).join("|")),url:encodeURIComponent(location.href)},v.getTargeting({codes:[o],callback:function(t,n){var r;if(t)d(t,null);else{var i=(h(r={},v.TARGETING_KEY_PB_CAT_DUR,void 0),h(r,v.TARGETING_KEY_CACHE_ID,void 0),r),u={};n[o]&&(u=n[o].reduce((function(e,t){return Object.keys(t)[0]===v.TARGETING_KEY_PB_CAT_DUR?e[v.TARGETING_KEY_PB_CAT_DUR]=void 0!==e[v.TARGETING_KEY_PB_CAT_DUR]?e[v.TARGETING_KEY_PB_CAT_DUR]+","+t[v.TARGETING_KEY_PB_CAT_DUR]:t[v.TARGETING_KEY_PB_CAT_DUR]:Object.keys(t)[0]===v.TARGETING_KEY_CACHE_ID&&(e[v.TARGETING_KEY_CACHE_ID]=t[v.TARGETING_KEY_CACHE_ID]),e}),i));var l=encodeURIComponent(Object(a.formatQS)(u)),f=m({},g,e,s,{cust_params:l}),p=c.gdprDataHandler.getConsentData();p&&("boolean"==typeof p.gdprApplies&&(f.gdpr=Number(p.gdprApplies)),p.consentString&&(f.gdpr_consent=p.consentString),p.addtlConsent&&(f.addtl_consent=p.addtlConsent));var y=c.uspDataHandler.getConsentData();y&&(f.us_privacy=y);var b=Object(a.buildUrl)({protocol:"https",host:"securepubads.g.doubleclick.net",pathname:"/gampad/ads",search:f});d(null,b)}}})):Object(a.logError)("A params object and a callback is required to use pbjs.adServers.dfp.buildAdpodVideoUrl")}function _(e,t,n){if(!o.b.getConfig("cache.url"))if(Object(a.deepAccess)(t,"".concat(n,".description_url")))Object(a.logError)("input cannnot contain description_url");else{var r=e&&e.vastUrl;if(r)return encodeURIComponent(r)}}function S(e,t){var n,r=e&&e.adserverTargeting||{},o={},s=t&&t.adUnit;s&&(o=(n=i.d.getAllTargeting(s.code))?n[s.code]:{});var u=m({},{hb_uuid:e&&e.videoCacheKey},{hb_cache_id:e&&e.videoCacheKey},o,r);l.a.emit(p.a.EVENTS.SET_TARGETING,h({},s.code,u));var c=m({},u,Object(a.deepAccess)(t,"params.cust_params"));return encodeURIComponent(Object(a.formatQS)(c))}Object(s.a)("registerAdserver").before(b),Object(r.a)("dfp",{buildVideoUrl:y,buildAdpodVideoUrl:E,getAdpodTargeting:function(e){return v.getTargeting(e)}}),Object(s.e)("adpod",v)}},[415]),pbjsChunk([278],{497:function(e,t,n){e.exports=n(498)},498:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return m})),t.resetUserSync=function(){h=!1},t.getSyncUrl=function(){return p};var r=n(0),i=n(1),a=n(12),o=n(2),s=n(3);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function c(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||l(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(e){return (function(e){if(Array.isArray(e))return f(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||l(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function l(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p="https://x.bidswitch.net/sync?ssp=themediagrid",h=!1,m={code:"grid",supportedMediaTypes:[o.b,o.d],isBidRequestValid:function(e){return!!e.params.uid},buildRequests:function(e,t){if(!e.length)return null;var n=null,i=null,a=null,l=null,f=null,p=null,h=null,m=null,g=t||{},v=g.bidderRequestId,y=g.auctionId,b=g.gdprConsent,E=g.uspConsent,_=g.timeout,S=g.refererInfo,A=S?encodeURIComponent(S.referer):"",w=[],O={};e.forEach((function(e){v=v||e.bidderRequestId,y=y||e.auctionId,l=l||e.schain,f=f||e.userId,p=p||e.userIdAsEids;var t=e.params,s=t.uid,d=t.keywords,h=e.mediaTypes,m=e.bidId,g=e.adUnitCode,b=e.rtd,E=e.ortb2Imp,_=(function(e,t){var n,r=e.video?"video":"banner",i=t.params.bidFloor||0;return"function"==typeof t.getFloor&&("object"!==u(n=t.getFloor({currency:"USD",mediaType:r,size:t.sizes.map((function(e){var t=c(e,2);return{w:t[0],h:t[1]}}))}))||"USD"!==n.currency||isNaN(parseFloat(n.floor))||(i=Math.max(i,parseFloat(n.floor)))),i})(h||{},O[m]=e),S=b&&b.jwplayer&&b.jwplayer.targeting;S&&(!i&&S.segments&&(i=S.segments),!a&&S.content&&(a=S.content));var A,I,C={id:m,tagid:s.toString(),ext:{divid:g}};E&&E.ext&&E.ext.data&&(C.ext.data=E.ext.data,C.ext.data.adserver&&C.ext.data.adserver.adslot&&(C.ext.gpid=C.ext.data.adserver.adslot)),r.isEmpty(d)||(n=n||d,C.ext.bidder={keywords:d}),_&&(C.bidfloor=_),h&&!h[o.b]||(A=(function(e,t){var n=t.sizes||e.sizes;if(n&&n.length){var i=n.map((function(e){return r.parseGPTSingleSizeArrayToRtbSize(e)})),a=r.parseGPTSingleSizeArrayToRtbSize(n[0]);return i.length&&(a.format=i),a}})(e,h?h[o.b]:{}))&&(C.banner=A),h&&h[o.d]&&(I=(function(e,t){var n=t.playerSize,i=t.mimes,a=t.durationRangeSec,o=t.protocols,s=(n||e.sizes||[])[0];if(s){var u=r.parseGPTSingleSizeArrayToRtbSize(s);return i&&(u.mimes=i),a&&2===a.length&&(u.minduration=a[0],u.maxduration=a[1]),o&&o.length&&(u.protocols=o),u}})(e,h[o.d]))&&(C.video=I),(C.banner||C.video)&&w.push(C)}));var I={tid:y,ext:{wrapper:"Prebid_js",wrapper_version:"4.43.4"}};l&&(I.ext.schain=l);var C=s.b.getConfig("bidderTimeout")||_,T=_?Math.min(C,_):C,P={id:v,site:{page:A},tmax:T,source:I,imp:w};a&&(P.site.content=a),i&&i.length&&(h={data:[{name:"iow_labs_pub_data",segment:i.map((function(e){return{name:"jwpseg",value:e}}))}]}),b&&b.consentString&&(m={consent:b.consentString}),p&&p.length&&((m=m||{}).eids=d(p)),m&&Object.keys(m).length&&((h=h||{}).ext=m),h&&(P.user=h);var x,k,N=r.deepAccess(s.b.getConfig("ortb2.user"),"keywords")||null,D=r.deepAccess(s.b.getConfig("ortb2.site"),"keywords")||null;return N&&((n=n||{}).user=n.user||{},n.user.ortb2=[{name:"keywords",keywords:N.split(",")}]),D&&((n=n||{}).site=n.site||{},n.site.ortb2=[{name:"keywords",keywords:D.split(",")}]),n&&(x=n,k={},Object.keys(x).forEach((function(e){var t,n=x[e];n&&("site"===e||"user"===e?(t={},Object.keys(n).forEach((function(e){var r;Array.isArray(n[e])&&(r=[],n[e].forEach((function(e){var t;"object"===u(e)&&e.name&&(t={name:e.name,segments:[]},Object.keys(e).forEach((function(n){Array.isArray(e[n])&&e[n].forEach((function(e){e&&("string"==typeof e?t.segments.push({name:n,value:e}):"segments"===n&&"string"==typeof e.name&&"string"==typeof e.value&&t.segments.push(e))}))})),t.segments.length&&r.push(t))})),r.length&&(t[e]=r))})),k[e]=t):k[e]=n)})),(n=Object.keys(k).length&&k)&&(P.ext={keywords:n})),b&&b.gdprApplies&&(P.regs={ext:{gdpr:b.gdprApplies?1:0}}),E&&(P.regs||(P.regs={ext:{}}),P.regs.ext.us_privacy=E),!0===s.b.getConfig("coppa")&&(P.regs||(P.regs={}),P.regs.coppa=1),{method:"POST",url:"https://grid.bidswitch.net/hbjson",data:JSON.stringify(P),newFormat:!0,bidsMap:O}},interpretResponse:function(e,t){e=e&&e.body;var n,i=[];return e?e.seatbid&&!e.seatbid.length&&(n="Response has empty seatbid array"):n="Response is empty",!n&&e.seatbid&&e.seatbid.forEach((function(e){!(function(e,t,n){var i,s,u;e&&(e.auid||(i="Bid from response has no auid parameter - "+JSON.stringify(e)),e.adm?(s=t.bidsMap[e.impid])&&(u={requestId:s.bidId,cpm:e.price,width:e.w,height:e.h,creativeId:e.auid,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:e.adomain?e.adomain:[]},dealId:e.dealid},"video"===e.content_type?(u.vastXml=e.adm,u.mediaType=o.d,u.adResponse={content:u.vastXml},s.renderer||s.mediaTypes&&s.mediaTypes.video&&"outstream"!==s.mediaTypes.video.context||(u.renderer=(function(e){var t=a.a.install({id:e.id,url:e.url,loaded:!1});try{t.setRender(g)}catch(e){r.logWarn("Prebid Error calling setRender on renderer",e)}return t})({id:s.bidId,url:"https://acdn.adnxs.com/video/outstream/ANOutstreamVideo.js"}))):(u.ad=e.adm,u.mediaType=o.b),n.push(u)):i="Bid from response has no adm parameter - "+JSON.stringify(e),i&&r.logError(i))})(function(e){return e?e.bid?e.bid[0]||r.logError("Array of bid objects is empty"):r.logError("Seatbid from response has no array of bid objects - "+JSON.stringify(e)):r.logError("Seatbid array from response has empty item"),e&&e.bid&&e.bid[0]}(e),t,i)})),n&&r.logError(n),i},getUserSyncs:function(e,t,n,r){if(!h&&e.pixelEnabled){var i="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?i+="&gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):i+="&gdpr_consent=".concat(n.consentString)),r&&(i+="&us_privacy=".concat(r)),h=!0,{type:"image",url:p+i}}}};function g(e){e.renderer.push((function(){window.ANOutstreamVideo.renderAd({targetId:e.adUnitCode,adResponse:e.adResponse})}))}Object(i.registerBidder)(m)}},[497]),pbjsChunk([276],{501:function(e,t,n){e.exports=n(502)},502:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"spec",(function(){return _}));var r=n(0),i=n(2),a=n(3),o=n(7),s=n(13),u=n.n(s),c=n(1);function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){var r,i,a;r=e,a=n[i=t],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=Object(o.b)(),g={t:0,rq:8,pbv:"4.43.4"},v=[i.b,i.d],y={},b={},E=null,_={code:"gumgum",aliases:["gg"],isBidRequestValid:function(e){var t=e.params,n=e.adUnitCode,i=t.inScreen||t.inScreenPubID||t.inSlot||t.ICV||t.video||t.inVideo||t.slot||t.native||t.zone||t.pubID;if(y[i])return r.logWarn("[GumGum] Please check the implementation for ".concat(i," for the placement ").concat(n)),!1;switch(!0){case!!t.zone:case!!t.pubId:case!!t.inScreen:case!!t.inScreenPubID:case!!t.inSlot:case!!t.ICV:case!!t.video:case!!t.inVideo:case!!t.videoPubID:break;default:return r.logWarn("[GumGum] No product selected for the placement ".concat(n,", please check your implementation.")),!1}return!(t.bidfloor&&("number"!=typeof t.bidfloor||!isFinite(t.bidfloor))&&(r.logWarn("[GumGum] bidfloor must be a Number"),1))},buildRequests:function(t,n){var i=[],o=n&&n.gdprConsent,s=n&&n.uspConsent,u=a.b.getConfig("bidderTimeout"),c=n&&n.refererInfo&&n.refererInfo.referer;return r._each(t,(function(t){var n,a,l,h,v,y,_,S,A,w,O,I,C,T,P,x,k,N,D,R,j,M,B,U,L,V,F,G,q,z=t.bidId,W=t.mediaTypes,H=void 0===W?{}:W,K=t.params,Y=void 0===K?{}:K,$=t.schain,J=t.transactionId,X=t.userId,Q=void 0===X?{}:X,Z=t.ortb2Imp,ee=(n=H,a=Y.bidfloor,l=t,_=Object.keys(n)[0]||"banner",S={floor:0,currency:"USD"},"function"==typeof l.getFloor?(v=(h=l.getFloor({mediaType:_,size:"*"})).currency,(y=h.floor)&&(S.floor=y),v&&(S.currency=v),a&&y&&"USD"===v&&(S.floor=Math.max(a,parseFloat(y)))):a&&(S.floor=a),S),te=ee.currency,ne=ee.floor,re=[1,1],ie={},ae="";r.deepAccess(Z,"ext.data.adserver.name")&&(ae=Z.ext.data.adserver.adslot),H.banner?re=H.banner.sizes:H.video&&(re=H.video.playerSize,w=(A=H.video).minduration,O=A.maxduration,I=A.linearity,C=A.startdelay,T=A.placement,x=void 0===(P=A.protocols)?[]:P,N=void 0===(k=A.playerSize)?[]:k,j=(R=p((D=r.parseSizesInput(N))[0]&&D[0].split("x"),2))[0],M=R[1],B="",x.length&&(B=x.join(",")),ie={mind:w,maxd:O,li:I,sd:C,pt:T,pr:B,viw:j,vih:M}),E&&(ie.pv=E),ne&&(ie.fp=ne,ie.fpc=te),Y.iriscat&&"string"==typeof Y.iriscat&&(ie.iriscat=Y.iriscat),Y.irisid&&"string"==typeof Y.irisid&&(ie.irisid=Y.irisid),Y.zone||Y.pubId?(Y.zone?ie.t=Y.zone:ie.pubId=Y.pubId,ie.pi=2,Y.slot?(ie.si=parseInt(Y.slot,10),ie.pi=3,ie.bf=re.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")):Y.native?(ie.ni=parseInt(Y.native,10),ie.pi=5):H.video&&(ie.pi=2===H.video.linearity?6:7)):ie=f(f({},ie),(function(e,t){var n={};return e.inScreenPubID&&(n.pubId=e.inScreenPubID,n.pi=2),e.inScreen&&(n.t=e.inScreen,n.pi=2),e.inSlot&&(n.si=parseInt(e.inSlot,10),n.pi=3,n.bf=t.reduce((function(e,t){return"".concat(e).concat(e&&",").concat(t[0],"x").concat(t[1])}),"")),e.ICV&&(n.ni=parseInt(e.ICV,10),n.pi=5),e.videoPubID&&(n.pubId=e.videoPubID,n.pi=7),e.video&&(n.t=e.video,n.pi=7),e.inVideo&&(n.t=e.inVideo,n.pi=6),n})(Y,re)),o&&(ie.gdprApplies=o.gdprApplies?1:0),ie.gdprApplies&&(ie.gdprConsent=o.consentString),s&&(ie.uspConsent=s),$&&$.nodes&&(ie.schain=(L="".concat((U=$).ver,",").concat(U.complete),U.nodes.map((function(e){L+="!".concat(encodeURIComponent(e.asi||""),","),L+="".concat(encodeURIComponent(e.sid||""),","),L+="".concat(encodeURIComponent(e.hp||""),","),L+="".concat(encodeURIComponent(e.rid||""),","),L+="".concat(encodeURIComponent(e.name||""),","),L+="".concat(encodeURIComponent(e.domain||""))})),L)),i.push({id:z,tmax:u,tId:J,pi:ie.pi,selector:Y.selector,sizes:re,url:"https://g2.gumgum.com/hbid/imp",method:"GET",gpid:ae,data:d(ie,(function(t){var n,i,a,o,s,u,c,d;if(b.vw)return b;try{i=(n=e.top).screen,a=t||""}catch(t){return r.logError(t),b}return b={vw:n.innerWidth,vh:n.innerHeight,sw:i.width,sh:i.height,pu:a,ce:m.cookiesAreEnabled(),dpr:n.devicePixelRatio||1,jcsi:JSON.stringify(g),ogu:(u=(document&&document.getElementsByTagName("head")[0]).querySelector("meta[property='og:url']"))?u.content:null},(s=(d=(c=window.navigator&&(window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection))&&(c.downlink||c.bandwidth))?Math.round(1024*d):null)&&(b.ns=s),(o=(a.match(/#ggad=(\w+)$/)||[0,0])[1])&&(b[isNaN(o)?"eAdBuyId":"adBuyId"]=o),b})(c),!(q=(G=Q).digitrustid&&G.digitrustid.data)||q.privacy&&q.privacy.optout?{}:{dt:q.id},(F={},(V=Q).tdid&&(F.tdid=V.tdid),F))})})),i},interpretResponse:function(e,t){var n,a,o,s=[],c=e.body;c&&!c.err||(n=t.data||{},a=n.si||n.ni||n.t||n.pubId,o=c?c.err.drt:18e5,y[a]={productId:n.pi,timestamp:(new Date).getTime()},setTimeout((function(){y[a]&&delete y[a]}),o),r.logWarn("[GumGum] Please check the implementation for ".concat(a)));var l,h,m=d({ad:{price:0,id:0,markup:"",width:0,height:0},pag:{pvid:0},meta:{adomain:[],mediaType:""}},c),v=m.ad,b=v.price,_=v.id,S=v.markup,A=v.cur,w=v.width,O=v.height,I=m.cw,C=m.pag.pvid,T=m.jcsi,P=m.meta,x=P.adomain,k=P.mediaType,N=t.data||{},D=N.pi,R=6===D||7===D?i.d:i.b,j=3===D&&9===N.si,M=w&&O?["".concat(w,"x").concat(O)]:r.parseSizesInput(t.sizes),B=p(M[0].split("x"),2),U=B[0],L=B[1],V={advertiserDomains:x||[],mediaType:k||R};return 2!==D&&5!==D||!u()(M,"1x1")||(L=U="1"),T&&(c.jcsi=g),E=C,_&&s.push(f(f({ad:I?(l=I,h=d({},c,{bidRequest:t}),l.replace("AD_JSON",window.btoa(JSON.stringify(h)))):S},R===i.d&&{ad:S,vastXml:S}),{},{mediaType:R,cpm:j?.1:b,creativeId:_,currency:A||"USD",height:L,netRevenue:!0,requestId:t.id,ttl:60,width:U,meta:V})),s},getUserSyncs:function(e,t){return t.map((function(e){return e.body&&e.body.pxs&&e.body.pxs.scr||[]})).reduce((function(e,t){return e.concat(t)}),[]).map((function(e){return{type:"f"===e.t?"iframe":"image",url:e.u}}))},supportedMediaTypes:v};Object(c.registerBidder)(_)}.call(t,n(36))}},[501]),pbjsChunk([267],{521:function(e,t,n){e.exports=n(522)},522:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ID5_STORAGE_NAME",(function(){return c})),n.d(t,"ID5_PRIVACY_STORAGE_NAME",(function(){return d})),n.d(t,"id5IdSubmodule",(function(){return g})),t.expDaysStr=y,t.nbCacheName=b,t.storeNbInCache=E,t.getNbFromCache=_,t.getFromLocalStorage=A,t.storeInLocalStorage=w,t.isInControlGroup=I;var r=n(0),i=n(4),a=n(11),o=n(19),s=n(7),u=n(8),c="id5id",d="".concat(c,"_privacy"),l="html5",f=1e4,p="User ID - ID5 submodule: ",h=["pbjs-id5id","id5id.1st","id5id"],m=Object(s.b)(131,"id5Id"),g={name:"id5Id",gvlid:131,decode:function(e,t){var n,i=0;if(e&&"string"==typeof e.universal_uid){n=e.universal_uid,i=e.link_type||i;var a=O(t),o=I(n,a.controlGroupPct);!0===a.enabled&&void 0===o?r.logError(p+"A/B Testing controlGroupPct must be a number >= 0 and <= 1! Skipping A/B Testing"):!0===a.enabled&&!0===o?(r.logInfo(p+"A/B Testing Enabled - user is in the Control Group, so the ID5 ID is NOT exposed"),n="",i=0):!0===a.enabled&&r.logInfo(p+"A/B Testing Enabled - user is NOT in the Control Group, so the ID5 ID is exposed");var s={id5id:{uid:n,ext:{linkType:i}}};return!0===a.enabled&&r.deepSetValue(s,"id5id.ext.abTestingControlGroup",void 0!==o&&o),r.logInfo(p+"Decoded ID",s),s}},getId:function(e,t,n){if(v(e)){var a,s="https://id5-sync.com/g/v2/".concat(e.params.partner,".json"),c=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,f=u.uspDataHandler.getConsentData(),g=Object(o.a)(),b=n&&n.signature?n.signature:(h.forEach((function(e){m.getCookie(e)&&(a=JSON.parse(m.getCookie(e))||a)})),a&&a.signature||""),_={partner:e.params.partner,gdpr:c,nbPage:S(e.params.partner),o:"pbjs",rf:g.referer,top:g.reachedTop?1:0,u:g.stack[0]||window.location.href,v:"4.43.4"};return!c||void 0===t.consentString||r.isEmpty(t.consentString)||r.isEmptyStr(t.consentString)||(_.gdpr_consent=t.consentString),void 0===f||r.isEmpty(f)||r.isEmptyStr(f)||(_.us_privacy=f),void 0===b||r.isEmptyStr(b)||(_.s=b),void 0===e.params.pd||r.isEmptyStr(e.params.pd)||(_.pd=e.params.pd),void 0===e.params.provider||r.isEmptyStr(e.params.provider)||(_.provider=e.params.provider),!0===O(e).enabled&&r.deepSetValue(_,"features.ab",1),{callback:function(t){var n={success:function(n){var i,a;if(n)try{i=JSON.parse(n),r.logInfo(p+"response received from the server",i),E(e.params.partner,0),i.privacy&&w(d,JSON.stringify(i.privacy),30),e.storage.type===l&&(a=e.params.partner,r.logInfo(p+"removing legacy cookies"),h.forEach((function(e){m.setCookie("".concat(e)," ",y(-1)),m.setCookie("".concat(e,"_nb")," ",y(-1)),m.setCookie("".concat(e,"_").concat(a,"_nb")," ",y(-1)),m.setCookie("".concat(e,"_last")," ",y(-1))})))}catch(n){r.logError(p+n)}t(i)},error:function(e){r.logError(p+"getId fetch encountered an error",e),t()}};r.logInfo(p+"requesting an ID from the server",_),Object(i.a)(s,n,JSON.stringify(_),{method:"POST",withCredentials:!0})}}}},extendId:function(e,t,n){return v(e),S(e&&e.params&&e.params.partner||0),r.logInfo(p+"using cached ID",n),n}};function v(e){if(e&&e.params&&e.params.partner&&"number"==typeof e.params.partner){if(e.storage&&e.storage.type&&e.storage.name)return e.storage.type!==l&&r.logWarn(p+"storage type recommended to be '".concat(l,"'. In a future release this may become a strict requirement")),e.storage.name!==c&&r.logWarn(p+"storage name recommended to be '".concat(c,"'. In a future release this may become a strict requirement")),1;r.logError(p+"storage required to be set")}else r.logError(p+"partner required to be defined as a number")}function y(e){return new Date(Date.now()+864e5*e).toUTCString()}function b(e){return"".concat(c,"_").concat(e,"_nb")}function E(e,t){w(b(e),t,30)}function _(e){var t=A(b(e));return t?parseInt(t):0}function S(e){var t=_(e)+1;return E(e,t),t}function A(e){var t=m.getDataFromLocalStorage("".concat(e,"_exp"));return""===t||t&&0<new Date(t).getTime()-Date.now()?m.getDataFromLocalStorage(e):(m.removeDataFromLocalStorage(e),null)}function w(e,t,n){m.setDataInLocalStorage("".concat(e,"_exp"),y(n)),m.setDataInLocalStorage("".concat(e),t)}function O(e){return e&&e.params&&e.params.abTesting||{enabled:!1}}function I(e,t){var n;if(!(!r.isNumber(t)||t<0||1<t))return((n=e)?(r.cyrb53Hash(n)%f+f)%f:Math.floor(Math.random()*f))<t*f}Object(a.e)("userId",g)}},[521]),pbjsChunk([266],{527:function(e,t,n){e.exports=n(528)},528:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"storage",(function(){return s})),n.d(t,"identityLinkSubmodule",(function(){return u}));var r=n(0),i=n(4),a=n(11),o=n(7),s=Object(o.b)(),u={name:"identityLink",gvlid:97,decode:function(e){return{idl_env:e}},getId:function(e,t){var n=e&&e.params||{};if(n&&"string"==typeof n.pid){var i=t&&"boolean"==typeof t.gdprApplies&&t.gdprApplies?1:0,a=i?t.consentString:"",o=2===r.deepAccess(t,"vendorData.tcfPolicyVersion");if(!i||a&&""!==a){var s="https://api.rlcdn.com/api/identity/envelope?pid=".concat(n.pid).concat(i?(o?"&ct=4&cv=":"&ct=1&cv=")+a:"");return{callback:function(e){window.ats?(r.logInfo("identityLink: ATS exists!"),window.ats.retrieveEnvelope((function(t){t?(r.logInfo("identityLink: An envelope can be retrieved from ATS!"),d(!0),e(JSON.parse(t).envelope)):c(s,e,n)}))):c(s,e,n)}}}r.logInfo("identityLink: Consent string is required to call envelope API.")}else r.logError("identityLink: requires partner id to be defined")}};function c(e,t,n){var a,o={success:function(e){var n;if(e)try{n=JSON.parse(e)}catch(e){r.logInfo(e)}t(n&&n.envelope?n.envelope:"")},error:function(e){r.logInfo("identityLink: identityLink: ID fetch encountered an error",e),t()}};n.notUse3P||s.getCookie("_lr_retry_request")||((a=new Date).setTime(a.getTime()+36e5),s.setCookie("_lr_retry_request","true",a.toUTCString()),r.logInfo("identityLink: A 3P retrieval is attempted!"),d(!1),Object(i.a)(e,o,void 0,{method:"GET",withCredentials:!0}))}function d(e){var t=new Date;t.setTime(t.getTime()+2592e6),s.setCookie("_lr_env_src_ats",e,t.toUTCString())}Object(a.e)("userId",u)}},[527]),pbjsChunk([252],{559:function(e,t,n){e.exports=n(560)},560:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return D}));var r=n(0),i=n(2),a=n(3),o=n(10),s=n.n(o),u=n(1);function c(e){return (function(e){if(Array.isArray(e))return m(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||h(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){var r,i,a;r=e,a=n[i=t],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e){return(f="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function p(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=h(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function h(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var g="roundel",v=[i.b,i.d],y={JPY:1},b="p",E="x",_={"liveramp.com":"idl","netid.de":"NETID","neustar.biz":"fabrickId","zeotap.com":"zeotapIdPlus","uidapi.com":"UID2","adserver.org":"TDID"},S=["britepoolid","id5id","lipbid","haloId","criteoId","lotamePanoramaId","merkleId","parrableId","connectid","sharedid","tapadId","quantcastId","pubcid","TDID","flocId"],A=["mimes","minduration","maxduration"],w=["mimes","minduration","maxduration","protocols","protocol","startdelay","placement","linearity","skip","skipmin","skipafter","sequence","battr","maxextended","minbitrate","maxbitrate","boxingallowed","playbackmethod","playbackend","delivery","pos","companionad","api","companiontype","ext","playerSize","w","h"];function O(e){var t={};t.id=e.bidId,t.ext={},t.ext.siteID=e.params.siteId,!e.params.hasOwnProperty("id")||"string"!=typeof e.params.id&&"number"!=typeof e.params.id||(t.ext.sid=String(e.params.id));var n=r.deepAccess(e,"ortb2Imp.ext.data.adserver.adslot");return n&&(t.ext.dfp_ad_unit_code=n),t}function I(e,t,n){var i=null,a=null;if(e.params.bidFloor&&e.params.bidFloorCur&&(i={floor:e.params.bidFloor,currency:e.params.bidFloorCur}),r.isFn(e.getFloor)){var o,s="*",u="*";n&&r.contains(v,n)&&(u=[(o=t[s=n]).w,o.h]);try{a=e.getFloor({mediaType:s,size:u})}catch(e){r.logWarn("priceFloors module call getFloor failed, error : ",e)}}if(i&&a)return i.currency!==a.currency?void r.logWarn("The bid floor currency mismatch between IX params and priceFloors module config"):void(i.floor>a.floor?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=E):(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl=b));a?(t.bidfloor=a.floor,t.bidfloorcur=a.currency,t.ext.fl=b):i?(t.bidfloor=i.floor,t.bidfloorcur=i.currency,t.ext.fl=E):r.logInfo("IX Bid Adapter: No floors available, no floors applied")}function C(e){return Array.isArray(e)&&2===e.length&&r.isInteger(e[0])&&r.isInteger(e[1])}function T(e,t){var n=0<arguments.length&&void 0!==e?e:[],r=1<arguments.length?t:void 0;if(C(n))return n[0]===r[0]&&n[1]===r[1];for(var i=0;i<n.length;i++)if(n[i][0]===r[0]&&n[i][1]===r[1])return 1}function P(e,t,n){var i=!0;t||r.logWarn("IX Bid Adapter: mediaTypes.video is the preferred location for video params in ad unit");var a,o=p(A);try{for(o.s();!(a=o.n()).done;){var s=a.value,u=t&&t.hasOwnProperty(s),c=n&&n.hasOwnProperty(s);u||c||(r.logError("IX Bid Adapter: "+s+" is not included in either the adunit or params level"),i=!1)}}catch(e){o.e(e)}finally{o.f()}if(!i)return!1;var d=t&&t.hasOwnProperty("protocol"),l=t&&t.hasOwnProperty("protocols"),f=n&&n.hasOwnProperty("protocol"),h=n&&n.hasOwnProperty("protocols");return d||l||f||h}function x(e){var t=0<arguments.length&&void 0!==e?e:[];return C(t)?t:!!C(t[0])&&t[0]}function k(e,t,n,i){var o="https://htlb.casalemedia.com/cygnus",s=(function(e,t){var n,i=[],a={};if(r.isArray(e)){var o,s=p(e);try{for(s.s();!(o=s.n()).done;){var u=o.value;_[u.source]&&r.deepAccess(u,"uids.0")&&(a[u.source]=!0,u.uids[0].ext={rtiPartner:_[u.source]},delete u.uids[0].atype,i.push(u))}}catch(e){s.e(e)}finally{s.f()}}return t&&t.id&&t.version&&(n={source:"chrome.com",uids:[{id:t.id,ext:{rtiPartner:"flocId",ver:t.version}}]},i.push(n),a["chrome.com"]=!0),{toSend:i,seenSources:a}})(r.deepAccess(e,"0.userIdAsEids"),r.deepAccess(e,"0.userId.flocId")),u=s.toSend;if(window.headertag&&"function"==typeof window.headertag.getIdentityInfo){var d,h=window.headertag.getIdentityInfo();if(h&&"object"===f(h))for(var m in h)!h.hasOwnProperty(m)||!(d=h[m]).responsePending&&d.data&&"object"===f(d.data)&&Object.keys(d.data).length&&!s.seenSources[d.data.source]&&u.push(d.data)}if(t&&t.bidderCode===g&&!s.seenSources["liveramp.com"])return[];var v={};v.id=e[0].bidderRequestId.toString(),v.site={},v.ext={},v.ext.source="prebid",v.ext.ixdiag={};var y,b=(function(e){for(var t,n=e.map((function(e){return e.transactionId})).filter((function(e,t,n){return n.indexOf(e)===t})),i={mfu:0,bu:0,iu:0,nu:0,ou:0,allu:0,ren:!1,version:"4.43.4",userIds:(function(e){var t=e.userId||{};return S.filter((function(e){return t[e]}))})(e[0])},a=0;a<n.length;a++)!(function(a){var o;t=e.filter((function(e){return e.transactionId===n[a]}))[0],r.deepAccess(t,"mediaTypes")&&(1<Object.keys(t.mediaTypes).length&&i.mfu++,r.deepAccess(t,"mediaTypes.native")&&i.nu++,r.deepAccess(t,"mediaTypes.banner")&&i.bu++,"outstream"===r.deepAccess(t,"mediaTypes.video.context")&&(i.ou++,o="object"===f(r.deepAccess(t,"renderer")||r.deepAccess(t,"mediaTypes.video.renderer")),i.ren=i.ren&&o?r.deepAccess(i,"ren"):o),"instream"===r.deepAccess(t,"mediaTypes.video.context")&&i.iu++,i.allu++)})(a);return i})(e);for(var E in b)v.ext.ixdiag[E]=b[E];e[0].schain&&(v.source={ext:{schain:e[0].schain}}),0<u.length&&(v.user={},v.user.eids=u),document.referrer&&""!==document.referrer&&(v.site.ref=document.referrer),t&&(t.gdprConsent&&((y=t.gdprConsent).hasOwnProperty("gdprApplies")&&(v.regs={ext:{gdpr:y.gdprApplies?1:0}}),y.hasOwnProperty("consentString")&&(v.user=v.user||{},v.user.ext={consent:y.consentString||""},y.hasOwnProperty("addtlConsent")&&y.addtlConsent&&(v.user.ext.consented_providers_settings={consented_providers:y.addtlConsent}))),t.uspConsent&&r.deepSetValue(v,"regs.ext.us_privacy",t.uspConsent),t.refererInfo&&(v.site.page=t.refererInfo.referer)),a.b.getConfig("coppa")&&r.deepSetValue(v,"regs.coppa",1);var A={},w=t&&t.bidderCode||"ix",O=a.b.getConfig(w);if(O){if("object"===f(O.firstPartyData)){var I=O.firstPartyData,C="?";for(var T in I)I.hasOwnProperty(T)&&(C+="".concat(encodeURIComponent(T),"=").concat(encodeURIComponent(I[T]),"&"));C=C.slice(0,-1),v.site.page+=C}"number"==typeof O.timeout&&(A.t=O.timeout),"boolean"==typeof O.detectMissingSizes?v.ext.ixdiag.dms=O.detectMissingSizes:v.ext.ixdiag.dms=!0}A.s=e[0].params.siteId,A.v=i,A.ac="j",A.sd=1,8.1===i&&(A.nf=1);var P=[],x={method:"GET",url:o,data:A},k=new Blob(["".concat(x.url).concat(r.parseQueryStringParameters(l(l({},x.data),{},{r:JSON.stringify(v)})))]).size,N=k,D=0,R=0,j=0;v.ext.ixdiag.msd=0,v.ext.ixdiag.msi=0,v.imp=[];for(var M,B,U=0,L=Object.keys(n),V=[];U<L.length&&P.length<4;){var F,G,q,z=n[L[U]];j=r.deepAccess(z,"missingCount")&&r.deepAccess(z,"ixImps")?z.missingCount:0;k<8e3?(function(e,t){var n=new Blob([encodeURIComponent(JSON.stringify(e))]).size;if(!(n<t))for(;t<n;)e.hasOwnProperty("missingImps")&&0<e.missingImps.length?e.missingImps.pop():e.hasOwnProperty("ixImps")&&0<e.ixImps.length&&e.ixImps.pop(),n=new Blob([encodeURIComponent(JSON.stringify(e))]).size})(z,8e3-k):r.logError("ix bidder: Base request size has exceeded maximum request size."),R=r.deepAccess(z,"missingImps")&&r.deepAccess(z,"ixImps")?z.missingImps.length:0,(N+=new Blob([encodeURIComponent(JSON.stringify(z))]).size)<8e3?(z.ixImps&&0<z.ixImps.length&&(F=v.imp).push.apply(F,c(z.ixImps)),v.ext.ixdiag.msd+=j,v.ext.ixdiag.msi+=R,z.hasOwnProperty("missingImps")&&0<z.missingImps.length&&V.push.apply(V,c(z.missingImps)),U++):(q=r.deepClone(A),(G=v.imp).push.apply(G,c(V)),v.ext.ixdiag.sn=D,q.sn=D,D++,q.r=JSON.stringify(v),P.push({method:"GET",url:o,data:q}),V=[],N=k,v.imp=[],R=j=0,v.ext.ixdiag.msd=0,v.ext.ixdiag.msi=0)}return k<N&&N<8e3&&P.length<4&&(B=r.deepClone(A),(M=v.imp).push.apply(M,c(V)),0<P.length&&(v.ext.ixdiag.sn=D,B.sn=D),B.r=JSON.stringify(v),P.push({method:"GET",url:o,data:B})),P}function N(e,t){if(t)for(var n=0;n<e.length;n++){var r=e[n];if(t[0]===r[0]&&t[1]===r[1]){e.splice(n,1);break}}}var D={code:"ix",gvlid:10,aliases:[{code:g,gvlid:10,skipPbsAliasing:!1}],supportedMediaTypes:v,isBidRequestValid:function(e){var t,n,i=r.deepAccess(e,"params.video"),a=r.deepAccess(e,"params.size"),o=r.deepAccess(e,"mediaTypes.banner.sizes"),s=r.deepAccess(e,"mediaTypes.video"),u=r.deepAccess(e,"mediaTypes.video.playerSize"),c=e.params.hasOwnProperty("bidFloor"),d=e.params.hasOwnProperty("bidFloorCur");if(e.hasOwnProperty("mediaType")&&!r.contains(v,e.mediaType))return!1;if(r.deepAccess(e,"mediaTypes.banner")&&!o)return!1;if(a){var l=x(a);if(!l)return r.logError("ix bidder params: size has invalid format."),!1;if(!T(e.sizes,l)&&!T(u,l)&&!T(o,l))return r.logError("ix bidder params: bid size is not included in ad unit sizes or player size."),!1}return"string"!=typeof e.params.siteId&&"number"!=typeof e.params.siteId?(r.logError("ix bidder params: siteId must be string or number value."),!1):!c&&!d||c&&d&&(t=e.params.bidFloor,n=e.params.bidFloorCur,Boolean("number"==typeof t&&"string"==typeof n&&n.match(/^[A-Z]{3}$/)))?!(!o&&(s||i))||P(0,s,i):(r.logError("ix bidder params: bidFloor / bidFloorCur parameter has invalid format."),!1)},buildRequests:function(e,t){for(var n,o,s,u,d,f,p,h,m,g,v,y=[],b={},E={},_=null,S={},A=l(l({},{detectMissingSizes:!0}),a.b.getConfig("ix")),C=0;C<e.length;C++){_=e[C];var T,D,R=r.deepAccess(_,"mediaTypes.video"),j=r.deepAccess(_,"params.video");(_.mediaType===i.d||R||j)&&(E.hasOwnProperty(_.transactionId)||(T=(function(e){var t=O(e),n=r.deepAccess(e,"mediaTypes.video"),a=r.deepAccess(e,"params.video");if(!P(0,n,a))return{};for(var o in t.video=a?r.deepClone(e.params.video):{},n)-1===w.indexOf(o)||t.video.hasOwnProperty(o)||(t.video[o]=n[o]);if(t.video.minduration>t.video.maxduration)return r.logError("IX Bid Adapter: video minduration ["+t.video.minduration+"] cannot be greater than video maxduration ["+t.video.maxduration+"]"),{};var s=a&&a.context||n&&n.context;if(s&&("instream"===s?t.video.placement=1:"outstream"===s?t.video.placement=4:r.logWarn("IX Bid Adapter: video context '".concat(s,"' is not supported"))),!t.video.w||!t.video.h){var u=x(r.deepAccess(t,"video.playerSize"))||x(r.deepAccess(e,"params.size"));if(!u)return r.logWarn("IX Bid Adapter: Video size is missing in [mediaTypes.video] missing"),{};t.video.w=u[0],t.video.h=u[1],r.deepAccess(t,"ext.sid")||(t.ext.sid="".concat(u[0],"x").concat(u[1]))}return I(e,t,i.d),t})(_),0!=Object.keys(T).length&&(E[_.transactionId]={},E[_.transactionId].ixImps=[],E[_.transactionId].ixImps.push(T)))),_.mediaType!==i.b&&!r.deepAccess(_,"mediaTypes.banner.sizes")&&(_.mediaType||_.mediaTypes)||(D=(function(e){var t=O(e);t.banner={};var n=r.deepAccess(e,"params.size");return n&&(t.banner.w=n[0],t.banner.h=n[1],r.deepAccess(t,"ext.sid")||(t.ext.sid="".concat(n[0],"x").concat(n[1]))),t.banner.topframe=r.inIframe()?0:1,I(e,t,i.b),t})(_),r.deepAccess(_,"params.size")&&(b.hasOwnProperty(_.transactionId)||(b[_.transactionId]={}),b[_.transactionId].hasOwnProperty("ixImps")||(b[_.transactionId].ixImps=[]),b[_.transactionId].ixImps.push(D)),A.hasOwnProperty("detectMissingSizes")&&A.detectMissingSizes&&(o=S,s=D,f=d=u=void 0,p=(n=_).transactionId,o.hasOwnProperty(p)?(u=[],o[p].hasOwnProperty("missingSizes")&&(u=o[p].missingSizes),N(u,n.params.size),o[p].missingSizes=u):r.deepAccess(n,"mediaTypes.banner.sizes")&&(N(d=r.deepClone(n.mediaTypes.banner.sizes),n.params.size),f={missingSizes:d,impression:s},o[p]=f)))}for(var M in S)if(S.hasOwnProperty(M)){var B=S[M].missingSizes;b.hasOwnProperty(M)||(b[M]={}),b[M].hasOwnProperty("missingImps")||(b[M].missingImps=[],b[M].missingCount=0);for(var U=S[M].impression,L=0;L<B.length;L++){var V=(h=_,m=U,g=B[L],v=void 0,(v=r.deepClone(m)).ext.sid="".concat(g[0],"x").concat(g[1]),v.banner.w=g[0],v.banner.h=g[1],I(h,v,i.b),v);b[M].missingImps.push(V),b[M].missingCount++}}return 0<Object.keys(b).length&&y.push.apply(y,c(k(e,t,b,7.2))),0<Object.keys(E).length&&y.push.apply(y,c(k(e,t,E,8.1))),y},interpretResponse:function(e,t){var n=[];if(!e.hasOwnProperty("body")||!e.body.hasOwnProperty("seatbid"))return n;for(var a,o,u,c,d,l,f=e.body,p=f.seatbid,h=0;h<p.length;h++)if(p[h].hasOwnProperty("bid"))for(var m=p[h].bid,g=JSON.parse(t.data.r),v=0;v<m.length;v++){var b=(function(e,t){if(e)return s()(t,(function(t){return t.id===e}))})(m[v].impid,g.imp);a=m[v],o=f.cur,u=b,c=void 0,c={},d=!(!r.deepAccess(a,"exp")||!r.isInteger(a.exp)),l=r.deepAccess(a,"dealid")||r.deepAccess(a,"ext.dealid"),y.hasOwnProperty(o)?c.cpm=a.price/y[o]:c.cpm=a.price/100,c.requestId=a.impid,l&&(c.dealId=l),c.netRevenue=!0,c.currency=o,c.creativeId=a.hasOwnProperty("crid")?a.crid:"-",r.deepAccess(a,"ext.vasturl")?(c.vastUrl=a.ext.vasturl,c.width=u.video.w,c.height=u.video.h,c.mediaType=i.d,c.ttl=d?a.exp:3600):(c.ad=a.adm,c.width=a.w,c.height=a.h,c.mediaType=i.b,c.ttl=d?a.exp:300),c.meta={},c.meta.networkId=r.deepAccess(a,"ext.dspid"),c.meta.brandId=r.deepAccess(a,"ext.advbrandid"),c.meta.brandName=r.deepAccess(a,"ext.advbrand"),a.adomain&&0<a.adomain.length&&(c.meta.advertiserDomains=a.adomain),n.push(c)}return n},transformBidParams:function(e){return r.convertTypes({siteID:"number"},e)},getUserSyncs:function(e){return e.iframeEnabled?[{type:"iframe",url:"https://js-sec.indexww.com/um/ixmatch.html"}]:[]}};Object(u.registerBidder)(D)}},[559]),pbjsChunk([249],{565:function(e,t,n){e.exports=n(566)},566:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return o}));var r=n(1),i=n(0),a=[],o={code:"justpremium",gvlid:62,time:6e4,isBidRequestValid:function(e){return!!(e&&e.params&&e.params.zone)},buildRequests:function(e,t){var n,r,a=(n={},r={},e.forEach((function(e){var t=e.params,i=t.zone;if(1!==n[i]){var a=t.allow||t.formats||[],o=t.exclude||[];if(0===a.length&&0===o.length)return n[t.zone]=1;n[i]=n[i]||[[],{}],n[i][0]=(function(e){for(var t=e.concat(),n=0;n<t.length;++n)for(var r=n+1;r<t.length;++r)t[n]===t[r]&&t.splice(r--,1);return t})(n[i][0].concat(a)),o.forEach((function(e){n[i][1][e]?n[i][1][e]++:n[i][1][e]=1})),r[i]=r[i]||0,o.length&&r[i]++}})),Object.keys(r).forEach((function(e){var t;1!==n[e]&&(t=[],Object.keys(n[e][1]).forEach((function(i){n[e][1][i]===r[e]&&t.push(i)})),n[e][1]=t)})),Object.keys(n).forEach((function(e){1!==n[e]&&n[e][1].length&&(n[e][0].forEach((function(t){var r=n[e][1].indexOf(t);-1<r&&n[e][1].splice(r,1)})),n[e][0].length=0),1===n[e]||n[e][0].length||n[e][1].length||(n[e]=1)})),n),o=(function(){var e;try{e=window.top}catch(t){e=window}return{screenWidth:e.screen.width,screenHeight:e.screen.height,innerWidth:e.innerWidth,innerHeight:e.innerHeight}})(),s={zone:e.map((function(e){return parseInt(e.params.zone)})).filter((function(e,t,n){return n.indexOf(e)===t})),referer:t.refererInfo.referer,sw:o.screenWidth,sh:o.screenHeight,ww:o.innerWidth,wh:o.innerHeight,c:a,id:e[0].params.zone,sizes:{}};e.forEach((function(e){var t=e.params.zone,n=s.sizes;n[t]=n[t]||[],n[t].push.apply(n[t],e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes)})),Object(i.deepAccess)(e[0],"userId.pubcid")?s.pubcid=Object(i.deepAccess)(e[0],"userId.pubcid"):Object(i.deepAccess)(e[0],"crumbs.pubcid")&&(s.pubcid=Object(i.deepAccess)(e[0],"crumbs.pubcid")),s.uids=e[0].userId,t&&t.gdprConsent&&(s.gdpr_consent={consent_string:t.gdprConsent.consentString,consent_required:"boolean"!=typeof t.gdprConsent.gdprApplies||t.gdprConsent.gdprApplies}),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),s.version={prebid:"4.43.4",jp_adapter:"1.7"};var u=JSON.stringify(s);return{method:"POST",url:"https://pre.ads.justpremium.com/v/2.0/t/xhr?i="+ +new Date,data:u,bids:e}},interpretResponse:function(e,t){var n=e.body,r=[];return t.bids.forEach((function(e){var t,i,a=(function(e,t){var n=e.zone;if(t[n])for(var r=t[n].length;r--;)if(function(e,t){var n=t.format;return e.allow&&e.allow.length?-1<e.allow.indexOf(n):!e.exclude||!e.exclude.length||e.exclude.indexOf(n)<0}(e,t[n][r]))return t[n].splice(r,1).pop();return!1})(e.params,n.bid);a&&(t=e.mediaTypes&&e.mediaTypes.banner&&e.mediaTypes.banner.sizes&&e.mediaTypes.banner.sizes.length&&e.mediaTypes.banner.sizes[0]||[],i={requestId:e.bidId,creativeId:a.id,width:t[0]||a.width,height:t[1]||a.height,ad:a.adm,cpm:a.price,netRevenue:!0,currency:a.currency||"USD",ttl:a.ttl||o.time,format:a.format,meta:{advertiserDomains:a.adomain&&0<a.adomain.length?a.adomain:[]}},r.push(i))})),r},getUserSyncs:function(e,t,n,r){var i="https://pre.ads.justpremium.com/v/1.0/t/sync?_c=a"+Math.random().toString(36).substring(7)+Date.now();return n&&"boolean"==typeof n.gdprApplies&&n.gdprApplies&&n.consentString&&(i=i+"&consentString="+encodeURIComponent(n.consentString)),r&&(i=i+"&usPrivacy="+encodeURIComponent(r)),e.iframeEnabled&&a.push({type:"iframe",url:i}),a}};Object(r.registerBidder)(o)}},[565]),pbjsChunk([205],{669:function(e,t,n){e.exports=n(670)},670:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return s}));var r=n(0),i=n(1),a=[n(2).b],o={},s={code:"nativo",aliases:["ntv"],supportedMediaTypes:a,isBidRequestValid:function(e){return e.params&&!!e.params.placementId},buildRequests:function(e,t){var n,r,i=[],a={};e.forEach((function(e){r=r||e.params.url,n=e.params.placementId,i.push(n),a[n]={bidId:e.bidId,size:(function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return e&&0!==e.length?1===e.length?e[0]:e.reduce((function(e,n){return t(n)>t(e)?n:e})):[]})(e.sizes)}})),o[t.bidderRequestId]=a,r=r||t.refererInfo.referer;var s={adUnits:e.map((function(e){return{adUnitCode:e.adUnitCode,mediaTypes:e.mediaTypes}}))},d=[{key:"ntv_ptd",value:i.toString()},{key:"ntv_pb_rid",value:t.bidderRequestId},{key:"ntv_ppc",value:btoa(JSON.stringify(s))},{key:"ntv_url",value:encodeURIComponent(r)}];return t.gdprConsent&&d.unshift({key:"ntv_gdpr_consent",value:t.gdprConsent.consentString}),t.uspConsent&&d.unshift({key:"us_privacy",value:t.uspConsent}),{method:"GET",url:"https://exchange.postrelease.com/prebid?"+d.reduce((function(e,t){return u(e,t.key,t.value)}),"")}},interpretResponse:function(e){var t=this;if(!e||!e.body||r.isEmpty(e.body))return[];try{var n,i,a="string"==typeof e.body?JSON.parse(e.body):e.body,s=[];return a.seatbid.forEach((function(e){e.bid.forEach((function(e){i=t.getRequestId(a.id,e.impid),n={requestId:i.bidId,cpm:e.price,currency:a.cur,width:e.w||i.size[0],height:e.h||i.size[1],creativeId:e.crid,dealId:e.id,netRevenue:!0,ttl:e.ttl||360,ad:e.adm,meta:{advertiserDomains:e.adomain}},s.push(n)}))})),delete o[a.id],s}catch(e){return[]}},getUserSyncs:function(e,t,n,i){var a="";n&&(a=u(a,"gdpr",n.gdprApplies?1:0),a=u(a,"gdpr_consent",encodeURIComponent(n.consentString||""))),i&&(a=u(a,"us_privacy",encodeURIComponent(i.uspConsent)));var o,s={iframe:e.iframeEnabled,image:e.pixelEnabled},c=[];return t.forEach((function(e){return e&&e.body&&!r.isEmpty(e.body)?void((o="string"==typeof e.body?JSON.parse(e.body):e.body)&&o.seatbid&&0!==o.seatbid.length&&o.seatbid.forEach((function(e){e.syncUrls.forEach((function(e){s[e.type]&&""!==e.url.trim()&&c.push({type:e.type,url:e.url.replace("{GDPR_params}",a)})}))}))):c})),c},onTimeout:function(){},onBidWon:function(){},onSetTargeting:function(){},getRequestId:function(e,t){return o[e]&&o[e][t]}};function u(e,t,n){return e+"".concat(e.length?"&":"").concat(t,"=").concat(n)}Object(i.registerBidder)(s);var c=function(e){return e[0]*e[1]}}},[669]),pbjsChunk([196],{687:function(e,t,n){e.exports=n(688)},688:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return s}));var r=n(0),i=n(1);function a(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var s={code:"oneVideo",VERSION:"3.1.1",ENDPOINT:"https://ads.adaptv.advertising.com/rtb/openrtb?ext_id=",E2ETESTENDPOINT:"https://ads-wc.v.ssp.yahoo.com/rtb/openrtb?ext_id=",SYNC_ENDPOINT1:"https://pixel.advertising.com/ups/57304/sync?gdpr=&gdpr_consent=&_origin=0&redir=true",SYNC_ENDPOINT2:"https://match.adsrvr.org/track/cmf/generic?ttd_pid=adaptv&ttd_tpi=1",supportedMediaTypes:["video","banner"],isBidRequestValid:function(e){if("oneVideo"!==e.bidder||void 0===e.params)return!1;if(e.params&&e.params.video&&e.params.video.e2etest)return!0;if(void 0===e.mediaTypes.video&&void 0===e.mediaTypes.banner)return r.logError("Failed validation: adUnit mediaTypes.video OR mediaTypes.banner not declared"),!1;if(e.mediaTypes.video){if(void 0===e.mediaTypes.video.playerSize&&e.params.video&&(void 0===e.params.video.playerWidth||void 0===e.params.video.playerHeight))return r.logError("Failed validation: Player size not declared in either mediaTypes.playerSize OR bid.params.video.plauerWidth & bid.params.video.playerHeight."),!1;if(void 0===e.mediaTypes.video.mimes&&(!e.params.video||void 0===e.params.video.mimes))return r.logError("Failed validation: adUnit mediaTypes.mimes OR params.video.mimes not declared"),!1;if("outstream"===e.mediaTypes.video.context&&e.params.video&&1===e.params.video.display)return r.logError("Failed validation: Dynamic Ad Placement cannot be used with context Outstream (params.video.display=1)"),!1}return e.mediaTypes.banner&&e.params.video&&!e.params.video.display?(r.logError("Failed validation: If you are trying to use Dynamic Ad Placement you must pass params.video.display=1"),!1):void 0!==e.params.pubId||(r.logError("Failed validation: Adapter cannot send requests without bid.params.pubId"),!1)},buildRequests:function(e,t){var n=t?t.gdprConsent:null;return e.map((function(e){var i=s.ENDPOINT,a=e.params.pubId;return e.params.video.e2etest&&(i=s.E2ETESTENDPOINT,a="HBExchange"),{method:"POST",url:i+a,data:(function(e,t,n){var i,a,o=n.refererInfo.referer,d=e.params.site&&e.params.site.page?e.params.site.page:o.href,l=e.params.site&&e.params.site.referrer?e.params.site.referrer:n.refererInfo.referer,f={currency:e.params.cur||"USD",mediaType:"video",size:"*"},p={id:r.generateUUID(),at:2,imp:[{id:"1",secure:"https:"===document.location.protocol,ext:{hb:1,prebidver:"4.43.4",adapterver:s.VERSION}}],site:{page:d,ref:l},device:{ua:navigator.userAgent},tmax:200};if(null==e.params.video.display||1!=e.params.video.display?(p.imp[0].video={linearity:1},e.params.video.playerWidth&&e.params.video.playerHeight?(p.imp[0].video.w=e.params.video.playerWidth,p.imp[0].video.h=e.params.video.playerHeight):(i=u(e.mediaTypes.video.playerSize),p.imp[0].video.w=i.width,p.imp[0].video.h=i.height),e.params.video.mimes?p.imp[0].video.mimes=e.params.video.mimes:p.imp[0].video.mimes=e.mediaTypes.video.mimes,(e.mediaTypes.video.maxbitrate||e.params.video.maxbitrate)&&(p.imp[0].video.maxbitrate=e.params.video.maxbitrate||e.mediaTypes.video.maxbitrate),(e.mediaTypes.video.maxduration||e.params.video.maxduration)&&(p.imp[0].video.maxduration=e.params.video.maxduration||e.mediaTypes.video.maxduration),(e.mediaTypes.video.minduration||e.params.video.minduration)&&(p.imp[0].video.minduration=e.params.video.minduration||e.mediaTypes.video.minduration),(e.mediaTypes.video.api||e.params.video.api)&&(p.imp[0].video.api=e.params.video.api||e.mediaTypes.video.api),(e.mediaTypes.video.delivery||e.params.video.delivery)&&(p.imp[0].video.delivery=e.params.video.delivery||e.mediaTypes.video.delivery),(e.mediaTypes.video.position||e.params.video.position)&&(p.imp[0].video.pos=e.params.video.position||e.mediaTypes.video.position),(e.mediaTypes.video.playbackmethod||e.params.video.playbackmethod)&&(p.imp[0].video.playbackmethod=e.params.video.playbackmethod||e.mediaTypes.video.playbackmethod),(e.mediaTypes.video.placement||e.params.video.placement)&&(p.imp[0].video.placement=e.params.video.placement||e.mediaTypes.video.placement),e.params.video.rewarded&&(p.imp[0].ext.rewarded=e.params.video.rewarded),(e.mediaTypes.video.linearity||e.params.video.linearity)&&(p.imp[0].video.linearity=e.params.video.linearity||e.mediaTypes.video.linearity||1),(e.mediaTypes.video.protocols||e.params.video.protocols)&&(p.imp[0].video.protocols=e.params.video.protocols||e.mediaTypes.video.protocols||[2,5])):1==e.params.video.display&&(f.mediaType="banner",p.imp[0].banner={mimes:e.params.video.mimes,w:e.params.video.playerWidth,h:e.params.video.playerHeight,pos:e.params.video.position},e.params.video.placement&&(p.imp[0].banner.placement=e.params.video.placement),e.params.video.maxduration&&(p.imp[0].banner.ext=p.imp[0].banner.ext||{},p.imp[0].banner.ext.maxduration=e.params.video.maxduration),e.params.video.minduration&&(p.imp[0].banner.ext=p.imp[0].banner.ext||{},p.imp[0].banner.ext.minduration=e.params.video.minduration)),r.isFn(e.getFloor)?(a=e.getFloor(f),p.imp[0].bidfloor=a.floor,p.cur=a.currency):p.imp[0].bidfloor=e.params.bidfloor,e.params.video.inventoryid&&(p.imp[0].ext.inventoryid=e.params.video.inventoryid),e.params.video.sid?(p.source={ext:{schain:{complete:1,nodes:[{sid:e.params.video.sid,rid:p.id}]}}},1==e.params.video.hp&&(p.source.ext.schain.nodes[0].hp=e.params.video.hp)):e.schain&&(p.source={ext:{schain:e.schain}},p.source.ext.schain.nodes[0].rid=p.id),e.params.site&&e.params.site.id&&(p.site.id=e.params.site.id),(c(t)||n&&n.uspConsent)&&(p.regs={ext:{}},c(t)&&(p.regs.ext.gdpr=1),t&&t.consentString&&(p.user={ext:{consent:t.consentString}}),n&&n.uspConsent&&(p.regs.ext.us_privacy=n.uspConsent)),e.params.video.e2etest&&(r.logMessage("E2E test mode enabled: \n The following parameters are being overridden by e2etest mode:\n* bidfloor:null\n* width:300\n* height:250\n* mimes: video/mp4, application/javascript\n* api:2\n* site.page/ref: verizonmedia.com\n* tmax:1000"),p.imp[0].bidfloor=null,p.imp[0].video.w=300,p.imp[0].video.h=250,p.imp[0].video.mimes=["video/mp4","application/javascript"],p.imp[0].video.api=[2],p.site.page="https://verizonmedia.com",p.site.ref="https://verizonmedia.com",p.tmax=1e3),e.params.video.custom&&r.isPlainObject(e.params.video.custom))for(var h in p.imp[0].ext.custom={},e.params.video.custom)(r.isStr(e.params.video.custom[h])||r.isNumber(e.params.video.custom[h]))&&(p.imp[0].ext.custom[h]=e.params.video.custom[h]);if(e.params.video.content&&r.isPlainObject(e.params.video.content)){p.site.content={};var m=["id","title","series","season","genre","contentrating","language"],g=["episode","prodq","context","livestream","len"],v=["cat"],y=["ext"];for(var b in e.params.video.content)-1<m.indexOf(b)&&r.isStr(e.params.video.content[b])||-1<g.indexOf(b)&&r.isNumber(e.params.video.content[b])||-1<y.indexOf(b)&&r.isPlainObject(e.params.video.content[b])||-1<v.indexOf(b)&&r.isArray(e.params.video.content[b])&&e.params.video.content[b].every((function(e){return r.isStr(e)}))?p.site.content[b]=e.params.video.content[b]:r.logMessage("oneVideo bid adapter validation error: ",b," is either not supported is OpenRTB V2.5 or value is undefined")}return p})(e,n,t),bidRequest:e}}))},interpretResponse:function(e,t){var n,i,a,o,c=t.bidRequest;try{n=(e=e.body).seatbid[0].bid[0]}catch(t){e=null}return e&&n&&(n.adm||n.nurl)&&n.price?(i=u(c.sizes),(a={requestId:c.bidId,bidderCode:s.code,cpm:n.price,creativeId:n.crid,width:i.width,height:i.height,currency:e.cur,ttl:0<c.params.video.ttl&&c.params.video.ttl<=3600?c.params.video.ttl:300,netRevenue:!0,adUnitCode:c.adUnitCode,meta:{advertiserDomains:n.adomain}}).mediaType=c.mediaTypes.banner?"banner":"video",n.nurl?a.vastUrl=n.nurl:n.adm&&1===c.params.video.display?a.ad=n.adm:n.adm&&(a.vastXml=n.adm),c.mediaTypes.video&&(a.renderer="outstream"===c.mediaTypes.video.context?void((o=c).renderer||(o.renderer={},o.renderer.url="https://cdn.vidible.tv/prod/hb-outstream-renderer/renderer.js",o.renderer.render=function(e){setTimeout((function(){o2PlayerRender(e)}),700)})):void 0),a):(r.logWarn("No valid bids from ".concat(s.code," bidder")),[])},getUserSyncs:function(e,t,n){var r=2<arguments.length&&void 0!==n?n:{},i=r.gdprApplies,a=r.consentString,o=void 0===a?"":a;if(e.pixelEnabled)return[{type:"image",url:s.SYNC_ENDPOINT1},{type:"image",url:"https://sync-tm.everesttech.net/upi/pid/m7y5t93k?gdpr=".concat(i?1:0,"&gdpr_consent=").concat(o,"&redir=https%3A%2F%2Fpixel.advertising.com%2Fups%2F55986%2Fsync%3Fuid%3D%24%7BUSER_ID%7D%26_origin%3D0")+encodeURI("&gdpr=".concat(i?1:0,"&gdpr_consent=").concat(o))},{type:"image",url:s.SYNC_ENDPOINT2}]}};function u(e){var t=r.parseSizesInput(e),n=a(t.length?t[0].split("x"):[],2),i=n[0],o=n[1];return{width:parseInt(i,10)||void 0,height:parseInt(o,10)||void 0}}function c(e){return e&&e.gdprApplies}Object(i.registerBidder)(s)}},[687]),pbjsChunk([193],{699:function(e,t,n){e.exports=n(700)},700:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"USER_ID_CODE_TO_QUERY_ARG",(function(){return p})),n.d(t,"spec",(function(){return h}));var r=n(3),i=n(1),a=n(0),o=n(2),s=n(13),u=n.n(s);function c(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var l=[o.b,o.d],f=["startdelay","mimes","minduration","maxduration","startdelay","skippable","playbackmethod","api","protocols","boxingallowed","linearity","delivery","protocol","placement","minbitrate","maxbitrate"],p={britepoolid:"britepoolid",criteoId:"criteoid",fabrickId:"nuestarid",haloId:"audigentid",id5id:"id5id",idl_env:"lre",IDP:"zeotapid",idxId:"idxid",intentIqId:"intentiqid",lipb:"lipbid",lotamePanoramaId:"lotameid",merkleId:"merkleid",netId:"netid",parrableId:"parrableid",pubcid:"pubcid",quantcastId:"quantcastid",sharedId:"sharedid",tapadId:"tapadid",tdid:"ttduuid",verizonMediaId:"verizonmediaid"},h={code:"openx",gvlid:69,supportedMediaTypes:l,isBidRequestValid:function(e){var t=e.params.delDomain||e.params.platform;return a.deepAccess(e,"mediaTypes.banner")&&t?!!e.params.unit||0<a.deepAccess(e,"mediaTypes.banner.sizes.length"):!(!e.params.unit||!t)},buildRequests:function(e,t){if(0===e.length)return[];var n=[],i=c(e.reduce((function(e,t){var n;return n=t,a.deepAccess(n,"mediaTypes.video")&&!a.deepAccess(n,"mediaTypes.banner")||n.mediaType===o.d?e[0].push(t):e[1].push(t),e}),[[],[]]),2),s=i[0],d=i[1];return 0<d.length&&n.push(function(e,t){var n=[],i=!1,s=m(e,t),u=a._map(e,(function(e){return e.params.unit}));return s.aus=a._map(e,(function(e){return a.parseSizesInput(e.mediaTypes.banner.sizes).join(",")})).join("|"),s.divids=a._map(e,(function(e){return encodeURIComponent(e.adUnitCode)})).join(","),s.aucs=a._map(e,(function(e){var t=a.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return encodeURIComponent(t||"")})).join(","),u.some((function(e){return e}))&&(s.auid=u.join(",")),e.some((function(e){return e.params.doNotTrack}))&&(s.ns=1),!0!==r.b.getConfig("coppa")&&!e.some((function(e){return e.params.coppa}))||(s.tfcd=1),e.forEach((function(e){var t,r;e.params.customParams?(t=a._map(Object.keys(e.params.customParams),(function(t){return (function(e,t){var n=t[e];return a.isArray(n)&&(n=n.join(",")),(e.toLowerCase()+"="+n.toLowerCase()).replace("+",".").replace("/","_")})(t,e.params.customParams)})),r=window.btoa(t.join("&")),i=!0,n.push(r)):n.push("")})),i&&(s.tps=n.join(",")),g(s,o.b,e),{method:"GET",url:s.ph?"https://u.openx.net/w/1.0/arj":"https://".concat(e[0].params.delDomain,"/w/1.0/arj"),data:s,payload:{bids:e,startTime:new Date}}}(d,t)),0<s.length&&s.forEach((function(e){var r,i;n.push({method:"GET",url:(i=(function(e,t){var n,r,i=a.deepAccess(e,"mediaTypes.video"),s=m([e],t),c=a.deepAccess(e,"params.video")||{},d=a.deepAccess(e,"mediaTypes.video.context"),l=a.deepAccess(e,"mediaTypes.video.playerSize");a.isArray(e.sizes)&&2===e.sizes.length&&!a.isArray(e.sizes[0])?(n=parseInt(e.sizes[0],10),r=parseInt(e.sizes[1],10)):a.isArray(e.sizes)&&a.isArray(e.sizes[0])&&2===e.sizes[0].length?(n=parseInt(e.sizes[0][0],10),r=parseInt(e.sizes[0][1],10)):a.isArray(l)&&2===l.length&&(n=parseInt(l[0],10),r=parseInt(l[1],10));var p={w:n,h:r},h=e.params.video||e.params.openrtb||{};h.openrtb&&(h=h.openrtb),a.isArray(h.imp)&&(h=h.imp[0].video),Object.keys(h).filter((function(e){return u()(f,e)})).forEach((function(e){return p[e]=h[e]})),Object.keys(i).filter((function(e){return u()(f,e)})).forEach((function(e){return p[e]=i[e]}));var v={imp:[{video:p}]};s.openrtb=JSON.stringify(v),s.auid=e.params.unit,s.vwd=n||c.vwd,s.vht=r||c.vht,"outstream"===d&&(s.vos="101"),c.mimes&&(s.vmimes=c.mimes),e.params.test&&(s.vtest=1);var y=a.deepAccess(e,"ortb2Imp.ext.data.pbadslot");return y&&(s.aucs=encodeURIComponent(y)),g(s,o.d,[e]),s})(r=e,t)).ph?"https://u.openx.net/v/1.0/avjp":"https://".concat(r.params.delDomain,"/v/1.0/avjp"),data:i,payload:{bid:r,startTime:new Date}})})),n},interpretResponse:function(e,t){var n=e.body;return((/avjp$/.test(t.url)?o.d:o.b)===o.d?function(e,t){var n,r,i=t.bid,s=(t.startTime,[]);return void 0!==e&&""!==e.vastUrl&&0<e.pub_rev&&(n=a.parseUrl(e.vastUrl).search||{},(r={}).requestId=i.bidId,e.deal_id&&(r.dealId=e.deal_id),r.ttl=300,r.netRevenue=!0,r.currency=e.currency,r.cpm=parseInt(e.pub_rev,10)/1e3,r.width=parseInt(e.width,10),r.height=parseInt(e.height,10),r.creativeId=e.adid,r.vastUrl=e.vastUrl,r.mediaType=o.d,e.ph=n.ph,e.colo=n.colo,e.ts=n.ts,s.push(r)),s}:function(e,t){for(var n=t.bids,r=(t.startTime,e.ads.ad),i=[],a=0;a<r.length;a++){var o,s=r[a],u=parseInt(s.idx,10),c={};c.requestId=n[u].bidId,s.pub_rev&&(c.cpm=Number(s.pub_rev)/1e3,(o=s.creative[0])&&(c.width=o.width,c.height=o.height),c.creativeId=o.id,c.ad=s.html,s.deal_id&&(c.dealId=s.deal_id),c.ttl=300,c.netRevenue=!0,c.currency=s.currency,s.tbd&&(c.tbd=s.tbd),c.ts=s.ts,c.meta={},s.brand_id&&(c.meta.brandId=s.brand_id),s.adomain&&0<length(s.adomain)?c.meta.advertiserDomains=s.adomain:c.meta.advertiserDomains=[],s.adv_id&&(c.meta.dspid=s.adv_id),i.push(c))}return i})(n,t.payload)},getUserSyncs:function(e,t,n,r){if(e.iframeEnabled||e.pixelEnabled)return[{type:e.iframeEnabled?"iframe":"image",url:a.deepAccess(t,"0.body.ads.pixels")||a.deepAccess(t,"0.body.pixels")||(function(e,t){var n=[];return e&&(n.push("gdpr="+(e.gdprApplies?1:0)),n.push("gdpr_consent="+encodeURIComponent(e.consentString||""))),t&&n.push("us_privacy="+encodeURIComponent(t)),"".concat("https://u.openx.net/w/1.0/pd").concat(0<n.length?"?"+n.join("&"):"")})(n,r)}]},transformBidParams:function(e){return a.convertTypes({unit:"string",customFloor:"number"},e)}};function m(e,t){var n,i,o,s,u=a.inIframe(),c={ju:r.b.getConfig("pageUrl")||t.refererInfo.referer,ch:document.charSet||document.characterSet,res:"".concat(screen.width,"x").concat(screen.height,"x").concat(screen.colorDepth),ifr:u,tz:(new Date).getTimezoneOffset(),tws:(function(e){var t,n,r,i=window,a=document,o=a.documentElement;if(e){try{i=window.top,a=window.top.document}catch(e){return}o=a.documentElement,r=a.body,t=i.innerWidth||o.clientWidth||r.clientWidth,n=i.innerHeight||o.clientHeight||r.clientHeight}else o=a.documentElement,t=i.innerWidth||o.clientWidth,n=i.innerHeight||o.clientHeight;return"".concat(t,"x").concat(n)})(u),be:1,bc:e[0].params.bc||"".concat("hb_pb","_").concat("3.0.3"),dddid:a._map(e,(function(e){return e.transactionId})).join(","),nocache:(new Date).getTime()};return e[0].params.platform&&(c.ph=e[0].params.platform),t.gdprConsent&&(void 0!==(n=t.gdprConsent).consentString&&(c.gdpr_consent=n.consentString),void 0!==n.gdprApplies&&(c.gdpr=n.gdprApplies?1:0),"iab"===r.b.getConfig("consentManagement.cmpApi")&&(c.x_gdpr_f=1)),t&&t.uspConsent&&(c.us_privacy=t.uspConsent),a.deepAccess(e[0],"crumbs.pubcid")&&a.deepSetValue(e[0],"userId.pubcid",a.deepAccess(e[0],"crumbs.pubcid")),i=c,o=e[0].userId,a._each(o,(function(e,t){var n=p[t];if(p.hasOwnProperty(t))switch(t){case"lipb":i[n]=e.lipbid;break;case"parrableId":i[n]=e.eid;break;case"id5id":i[n]=e.uid;break;default:i[n]=e}})),c=i,e[0].schain&&(c.schain=(s=e[0].schain,"".concat(s.ver,",").concat(s.complete,"!").concat(function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return e[t]||""})).join(",")})).join("!")}(s.nodes)))),c}function g(e,t,n){var i=[],a=!1;n.forEach((function(e){var n=(function(e,t){var n={},i=r.b.getConfig("currency.adServerCurrency")||"USD";"function"==typeof e.getFloor&&(n=e.getFloor({currency:i,mediaType:t,size:"*"}));var a=n.floor||e.params.customFloor||0;return Math.round(1e3*a)})(e,t);n?(i.push(n),a=!0):i.push(0)})),a&&(e.aumfs=i.join(","))}Object(i.registerBidder)(h)}},[699]),pbjsChunk([174],{744:function(e,t,n){e.exports=n(745)},745:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"pubCommonIdSubmodule",(function(){return b}));var r=n(0),i=n(11),a=n(7),o=n(4),s=n(8);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var c="PublisherCommonId",d="cookie",l="html5",f="https://id.sharedid.org/id",p="_sharedid",h=Object(a.b)(887,"pubCommonId");function m(e,t){try{var n,i;t&&(n=e.storage.name+p,i=new Date(Date.now()+864e5*h.expires).toUTCString(),e.storage.type===d?h.cookiesAreEnabled()&&h.setCookie(n,t,i,"LAX",b.domainOverride()):e.storage.type===l&&h.hasLocalStorage()&&(h.setDataInLocalStorage("".concat(n,"_exp"),i),h.setDataInLocalStorage(n,t)))}catch(e){r.logError(e)}}function g(e){try{var t=e.storage.name+p;if(e.storage.type===d){if(h.cookiesAreEnabled())return h.getCookie(t)}else if(e.storage.type===l&&h.hasLocalStorage()){var n=h.getDataFromLocalStorage("".concat(t,"_exp"));if(!n)return h.getDataFromLocalStorage(t);if(0<new Date(n).getTime()-Date.now())return h.getDataFromLocalStorage(t)}}catch(e){r.logError(e)}}function v(e,t,n){return{success:function(i){if(i)try{var a=JSON.parse(i);r.logInfo("PubCommonId: Generated SharedId: "+a.sharedId),a.sharedId&&("00000000000000000000000000"!==a.sharedId?m(n,a.sharedId):(function(e){try{var t=e.storage.name+p;e.storage.type===d?h.cookiesAreEnabled()&&h.setCookie(t,"","Thu, 01 Jan 1970 00:00:01 GMT"):e.storage.type===l&&(h.removeDataFromLocalStorage("".concat(t,"_exp")),h.removeDataFromLocalStorage(t))}catch(e){r.logError(e)}})(n)),t(e)}catch(i){r.logError(i)}},error:function(){r.logInfo("PubCommonId: failed to get sharedid")}}}function y(e,t,n,r){return function(i){var a,u,c;"function"==typeof t&&t(),Object(o.a)((a=r,u=s.uspDataHandler.getConsentData(),c=f,u&&"string"==typeof u&&(c="".concat(f,"?us_privacy=").concat(u)),a&&"boolean"==typeof a.gdprApplies&&a.gdprApplies?c=u?"".concat(c,"&gdpr=1&gdpr_consent=").concat(a.consentString):"".concat(f,"?gdpr=1&gdpr_consent=").concat(a.consentString):c),v(e,i,n),void 0,{method:"GET",withCredentials:!0})}}var b={name:"pubCommonId",gvlid:887,makeCallback:function(e,t){var n=1<arguments.length&&void 0!==t?t:"";if(e){var i=r.parseUrl(e);i.search.id=encodeURIComponent("pubcid:"+n);var a=r.buildUrl(i);return function(){r.triggerPixel(a)}}},decode:function(e,t){var n,r={pubcid:e},i=t.params,a=(i=void 0===i?{}:i).enableSharedId;return!(void 0!==a&&a)||(n=g(t))&&(r.sharedid={id:n}),r},getId:function(e,t,n){var i=0<arguments.length&&void 0!==e?e:{},a=1<arguments.length?t:void 0,o=2<arguments.length?n:void 0;if(!s.coppaDataHandler.getCoppa()){var d=i.params,l=(d=void 0===d?{}:d).create,f=void 0===l||l,p=d.pixelUrl,h=d.enableSharedId,m=void 0!==h&&h,g=o;if(!g){try{"object"===u(window[c])&&(g=window[c].getId())}catch(e){}g=g||(f&&r.hasDeviceAccess()?r.generateUUID():void 0)}var v=this.makeCallback(p,g);return{id:g,callback:m?y(g,v,i,a):v}}r.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId")},extendId:function(e,t,n){var i=0<arguments.length&&void 0!==e?e:{},a=2<arguments.length?n:void 0;if(s.coppaDataHandler.getCoppa())r.logInfo("PubCommonId: IDs not provided for coppa requests, exiting PubCommonId");else{var o=i.params,d=(o=void 0===o?{}:o).extend,l=void 0!==d&&d,f=o.pixelUrl,p=o.enableSharedId,h=void 0!==p&&p;if(l){try{if("object"===u(window[c]))return void(h&&m(i,g(i)))}catch(e){}return f?{callback:this.makeCallback(f,a)}:(h&&m(i,g(i)),{id:a})}}},domainOverride:function(){for(var e,t,n=document.domain.split("."),r="_gd".concat(Date.now()),i=0;i<n.length;i++){var a=n.slice(i).join(".");if(h.setCookie(r,"1",void 0,void 0,a),t=h.getCookie(r),h.setCookie(r,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,a),"1"!==t)return e;e=a}}};Object(i.e)("userId",b)}},[744]),pbjsChunk([171],{752:function(e,t,n){e.exports=n(753)},753:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return q}));var r=n(0),i=n(1),a=n(2),o=n(3),s=n(12);function u(){return(u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,i,a;r=e,a=n[i=t],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return(l="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var f="pubmatic",p="PubMatic: ",h="USD",m=void 0,g="https://pubmatic.bbvms.com/r/".concat("$RENDERER",".js"),v={kadpageurl:"",gender:"",yob:"",lat:"",lon:"",wiid:"",profId:"",verId:""},y="number",b="string",E="boolean",_="array",S={mimes:_,minduration:y,maxduration:y,startdelay:y,playbackmethod:_,api:_,protocols:_,w:y,h:y,battr:_,linearity:y,placement:y,minbitrate:y,maxbitrate:y,skip:y},A={TITLE:{ID:1,KEY:"title",TYPE:0},IMAGE:{ID:2,KEY:"image",TYPE:0},ICON:{ID:3,KEY:"icon",TYPE:0},SPONSOREDBY:{ID:4,KEY:"sponsoredBy",TYPE:1},BODY:{ID:5,KEY:"body",TYPE:2},CLICKURL:{ID:6,KEY:"clickUrl",TYPE:0},VIDEO:{ID:7,KEY:"video",TYPE:0},EXT:{ID:8,KEY:"ext",TYPE:0},DATA:{ID:9,KEY:"data",TYPE:0},LOGO:{ID:10,KEY:"logo",TYPE:0},SPONSORED:{ID:11,KEY:"sponsored",TYPE:1},DESC:{ID:12,KEY:"data",TYPE:2},RATING:{ID:13,KEY:"rating",TYPE:3},LIKES:{ID:14,KEY:"likes",TYPE:4},DOWNLOADS:{ID:15,KEY:"downloads",TYPE:5},PRICE:{ID:16,KEY:"price",TYPE:6},SALEPRICE:{ID:17,KEY:"saleprice",TYPE:7},PHONE:{ID:18,KEY:"phone",TYPE:8},ADDRESS:{ID:19,KEY:"address",TYPE:9},DESC2:{ID:20,KEY:"desc2",TYPE:10},DISPLAYURL:{ID:21,KEY:"displayurl",TYPE:11},CTA:{ID:22,KEY:"cta",TYPE:12}},w=1,O=2,I=3,C=[{id:A.SPONSOREDBY.ID,required:!0,data:{type:1}},{id:A.TITLE.ID,required:!0},{id:A.IMAGE.ID,required:!0}],T={1:"PMP",5:"PREF",6:"PMPG"},P=1,x=2,k={bootstrapPlayer:function(e){var t={code:e.adUnitCode};if(e.vastXml?t.vastXml=e.vastXml:e.vastUrl&&(t.vastUrl=e.vastUrl),e.vastXml||e.vastUrl){for(var n,i=k.getRendererId("pubmatic",e.rendererCode),a=document.getElementById(e.adUnitCode),o=0;o<window.bluebillywig.renderers.length;o++)if(window.bluebillywig.renderers[o]._id===i){n=window.bluebillywig.renderers[o];break}n?n.bootstrap(t,a):r.logWarn("".concat(p,": Couldn't find a renderer with ").concat(i))}else r.logWarn("".concat(p,": No vastXml or vastUrl on bid, bailing..."))},newRenderer:function(e,t){var n=g.replace("$RENDERER",e),i=s.a.install({url:n,loaded:!1,adUnitCode:t});try{i.setRender(k.outstreamRender)}catch(e){r.logWarn("".concat(p,": Error tying to setRender on renderer"),e)}return i},outstreamRender:function(e){e.renderer.push((function(){k.bootstrapPlayer(e)}))},getRendererId:function(e,t){return"".concat(e,"-").concat(t)}},N=[a.b,a.d,a.c],D=0,R=!1,j={},M={};function B(e,t){if(!r.isStr(t))return t&&r.logWarn(p+"Ignoring param key: "+e+", expects string-value, found "+l(t)),m;switch(e){case"pmzoneid":return t.split(",").slice(0,50).map((function(e){return e.trim()})).join();case"kadfloor":case"lat":case"lon":return parseFloat(t)||m;case"yob":return parseInt(t)||m;default:return t}}function U(e){var t;e.params.adUnit="",e.params.adUnitIndex="0",e.params.width=0,e.params.height=0,e.params.adSlot=(t=e.params.adSlot,r.isStr(t)?t.replace(/^\s+/g,"").replace(/\s+$/g,""):(t&&r.logWarn(f+": adSlot must be a string. Ignoring adSlot"),""));var n=(i=e.params.adSlot).split(":"),i=n[0];if(2==n.length&&(e.params.adUnitIndex=n[1]),n=i.split("@"),e.params.adUnit=n[0],1<n.length){if(2!=(n=n[1].split("x")).length)return void r.logWarn(p+"AdSlot Error: adSlot not in required format");e.params.width=parseInt(n[0],10),e.params.height=parseInt(n[1],10)}else if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(a.b)&&e.mediaTypes.banner.hasOwnProperty("sizes")){for(var o=0,s=[];o<e.mediaTypes.banner.sizes.length;o++)2===e.mediaTypes.banner.sizes[o].length&&s.push(e.mediaTypes.banner.sizes[o]);e.mediaTypes.banner.sizes=s,1<=e.mediaTypes.banner.sizes.length&&(e.params.width=e.mediaTypes.banner.sizes[0][0],e.params.height=e.mediaTypes.banner.sizes[0][1],e.mediaTypes.banner.sizes=e.mediaTypes.banner.sizes.splice(1,e.mediaTypes.banner.sizes.length-1))}}function L(e){var t,n=r.mergeDeep(r.deepAccess(e.mediaTypes,"video"),e.params.video);if(n!==m){for(var i in t={},S)n.hasOwnProperty(i)&&(t[i]=(function(e,t,n){var i,a="Ignoring param key: "+e+", expects "+n+", found "+l(t);switch(n){case E:i=r.isBoolean;break;case y:i=r.isNumber;break;case b:i=r.isStr;break;case _:i=r.isArray}return i(t)?t:(r.logWarn(p+a),m)})(i,n[i],S[i]));r.isArray(e.mediaTypes.video.playerSize[0])?(t.w=parseInt(e.mediaTypes.video.playerSize[0][0],10),t.h=parseInt(e.mediaTypes.video.playerSize[0][1],10)):r.isNumber(e.mediaTypes.video.playerSize[0])&&(t.w=parseInt(e.mediaTypes.video.playerSize[0],10),t.h=parseInt(e.mediaTypes.video.playerSize[1],10))}else t=m,r.logWarn(p+"Error: Video config params missing for adunit: "+e.params.adUnit+" with mediaType set as video. Ignoring video impression in the adunit.");return t}function V(e){var t,n,i,s,u,c,f,g,v,y,b,E,_={},S={},T=e.hasOwnProperty("sizes")?e.sizes:[],P="",x=[];_={id:e.bidId,tagid:e.params.adUnit||void 0,bidfloor:B("kadfloor",e.params.kadfloor),secure:1,ext:{pmZoneId:B("pmzoneid",e.params.pmzoneid)},bidfloorcur:e.params.currency?B("currency",e.params.currency):h};if(i=_,(s=e).params.deals&&(r.isArray(s.params.deals)?s.params.deals.forEach((function(e){r.isStr(e)&&3<e.length?(i.pmp||(i.pmp={private_auction:0,deals:[]}),i.pmp.deals.push({id:e})):r.logWarn(p+"Error: deal-id present in array bid.params.deals should be a strings with more than 3 charaters length, deal-id ignored: "+e)})):r.logWarn(p+"Error: bid.params.deals should be an array of strings.")),u=_,v="",(c=e).params.dctr&&(v=c.params.dctr,r.isStr(v)&&0<v.length?(g=v.split("|"),v="",g.forEach((function(e){v+=0<e.length?e.trim()+"|":""})),f=v.length,"|"===v.substring(f,f-1)&&(v=v.substring(0,f-1)),u.ext.key_val=v.trim()):r.logWarn(p+"Ignoring param : dctr with value : "+v+", expects string-value, found empty or non-string value")),e.hasOwnProperty("mediaTypes"))for(P in e.mediaTypes)switch(P){case a.b:(t=(function(e){var t,n=e.mediaTypes.banner.sizes,i=[];if(n!==m&&r.isArray(n)){if(t={},e.params.width||e.params.height)t.w=e.params.width,t.h=e.params.height;else{if(0===n.length)return t=m,r.logWarn(p+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t;t.w=parseInt(n[0][0],10),t.h=parseInt(n[0][1],10),n=n.splice(1,n.length-1)}0<n.length&&(i=[],n.forEach((function(e){1<e.length&&i.push({w:e[0],h:e[1]})})),0<i.length&&(t.format=i)),t.pos=0,t.topframe=r.inIframe()?0:1}else r.logWarn(p+"Error: mediaTypes.banner.size missing for adunit: "+e.params.adUnit+". Ignoring the banner impression in the adunit."),t=m;return t})(e))!==m&&(_.banner=t);break;case a.c:S.request=JSON.stringify(function(e){var t,n,i,a={assets:[]};for(var o in e){if(e.hasOwnProperty(o)){var s={};if(!(a.assets&&0<a.assets.length&&a.assets.hasOwnProperty(o)))switch(o){case A.TITLE.KEY:e[o].len||e[o].length?s={id:A.TITLE.ID,required:e[o].required?1:0,title:{len:e[o].len||e[o].length,ext:e[o].ext}}:r.logWarn(p+"Error: Title Length is required for native ad: "+JSON.stringify(e));break;case A.IMAGE.KEY:e[o].sizes&&0<e[o].sizes.length?s={id:A.IMAGE.ID,required:e[o].required?1:0,img:{type:I,w:e[o].w||e[o].width||(e[o].sizes?e[o].sizes[0]:m),h:e[o].h||e[o].height||(e[o].sizes?e[o].sizes[1]:m),wmin:e[o].wmin||e[o].minimumWidth||(e[o].minsizes?e[o].minsizes[0]:m),hmin:e[o].hmin||e[o].minimumHeight||(e[o].minsizes?e[o].minsizes[1]:m),mimes:e[o].mimes,ext:e[o].ext}}:r.logWarn(p+"Error: Image sizes is required for native ad: "+JSON.stringify(e));break;case A.ICON.KEY:e[o].sizes&&0<e[o].sizes.length?s={id:A.ICON.ID,required:e[o].required?1:0,img:{type:w,w:e[o].w||e[o].width||(e[o].sizes?e[o].sizes[0]:m),h:e[o].h||e[o].height||(e[o].sizes?e[o].sizes[1]:m)}}:r.logWarn(p+"Error: Icon sizes is required for native ad: "+JSON.stringify(e));break;case A.VIDEO.KEY:s={id:A.VIDEO.ID,required:e[o].required?1:0,video:{minduration:e[o].minduration,maxduration:e[o].maxduration,protocols:e[o].protocols,mimes:e[o].mimes,ext:e[o].ext}};break;case A.EXT.KEY:s={id:A.EXT.ID,required:e[o].required?1:0};break;case A.LOGO.KEY:s={id:A.LOGO.ID,required:e[o].required?1:0,img:{type:O,w:e[o].w||e[o].width||(e[o].sizes?e[o].sizes[0]:m),h:e[o].h||e[o].height||(e[o].sizes?e[o].sizes[1]:m)}};break;case A.SPONSOREDBY.KEY:case A.BODY.KEY:case A.RATING.KEY:case A.LIKES.KEY:case A.DOWNLOADS.KEY:case A.PRICE.KEY:case A.SALEPRICE.KEY:case A.PHONE.KEY:case A.ADDRESS.KEY:case A.DESC2.KEY:case A.DISPLAYURL.KEY:case A.CTA.KEY:n=e,void 0,i=(t=M[o]).KEY,s={id:t.ID,required:n[i].required?1:0,data:{type:t.TYPE,len:n[i].len,ext:n[i].ext}}}}s&&s.id&&(a.assets[a.assets.length]=s)}var u=C.length,c=0;return C.forEach((function(e){for(var t=a.assets.length,n=0;n<t;n++)if(e.id==a.assets[n].id){c++;break}})),R=u!=c,a}(e.nativeParams)),R?r.logWarn(p+"Error: Error in Native adunit "+e.params.adUnit+". Ignoring the adunit. Refer to http://prebid.org/dev-docs/show-native-ads.html for more details."):_.native=S;break;case a.d:(n=L(e))!==m&&(_.video=n)}else t={pos:0,w:e.params.width,h:e.params.height,topframe:r.inIframe()?0:1},r.isArray(T)&&1<T.length&&((T=T.splice(1,T.length-1)).forEach((function(e){x.push({w:e[0],h:e[1]})})),t.format=x),_.banner=t;return y=_,b=e,E=d({},r.deepAccess(b,"ortb2Imp.ext.data")),Object.keys(E).forEach((function(e){"pbadslot"===e?"string"==typeof E[e]&&E[e]&&r.deepSetValue(y,"ext.data.pbadslot",E[e]):"adserver"===e?["name","adslot"].forEach((function(e){var t=r.deepAccess(E,"adserver.".concat(e));"string"==typeof t&&t&&(r.deepSetValue(y,"ext.data.adserver.".concat(e.toLowerCase()),t),"adslot"===e&&r.deepSetValue(y,"ext.dfp_ad_unit_code",t))})):r.deepSetValue(y,"ext.data.".concat(e),E[e])})),(function(e,t){var n=-1;"function"!=typeof t.getFloor||o.b.getConfig("pubmatic.disableFloors")||[a.b,a.d,a.c].forEach((function(r){var i,a;e.hasOwnProperty(r)&&("object"!==l(i=t.getFloor({currency:e.bidfloorcur,mediaType:r,size:"*"}))||i.currency!==e.bidfloorcur||isNaN(parseInt(i.floor))||(a=parseFloat(i.floor),n=-1==n?a:Math.min(a,n)))})),e.bidfloor&&(n=Math.max(n,e.bidfloor)),e.bidfloor=!isNaN(n)&&0<n?n:m})(_,e),_.hasOwnProperty(a.b)||_.hasOwnProperty(a.c)||_.hasOwnProperty(a.d)?_:m}function F(e,t){var n=null,i=r.deepAccess(e,"0.userId.flocId");if(i&&i.id)switch(t){case x:n={id:"FLOC",name:"FLOC",ext:{ver:i.version},segment:[{id:i.id,name:"chrome.com",value:i.id.toString()}]};break;case P:default:n={source:"chrome.com",uids:[{atype:1,id:i.id,ext:{ver:i.version}}]}}return n}function G(e){return!0===r.isArray(e)&&0<e.length}r._each(A,(function(e){j[e.ID]=e.KEY})),r._each(A,(function(e){M[e.KEY]=e}));var q={code:f,gvlid:76,supportedMediaTypes:[a.b,a.d,a.c],isBidRequestValid:function(e){if(e&&e.params){if(!r.isStr(e.params.publisherId))return r.logWarn(p+"Error: publisherId is mandatory and cannot be numeric (wrap it in quotes in your config). Call to OpenBid will not be sent for ad unit: "+JSON.stringify(e)),!1;if(e.hasOwnProperty("mediaTypes")&&e.mediaTypes.hasOwnProperty(a.d)){var t=r.deepAccess(e.mediaTypes,"video.mimes"),n=r.deepAccess(e,"params.video.mimes");if(!1===G(t)&&!1===G(n))return r.logWarn(p+"Error: For video ads, bid.mediaTypes.video.mimes OR bid.params.video.mimes should be present and must be a non-empty array. Call to OpenBid will not be sent for ad unit:"+JSON.stringify(e)),!1;if(!e.mediaTypes[a.d].hasOwnProperty("context"))return r.logError("".concat(p,": no context specified in bid. Rejecting bid: "),e),!1;if("outstream"===e.mediaTypes[a.d].context&&!r.isStr(e.params.outstreamAU)&&!e.hasOwnProperty("renderer")&&!e.mediaTypes[a.d].hasOwnProperty("renderer"))return r.logError("".concat(p,': for "outstream" bids either outstreamAU parameter must be provided or ad unit supplied renderer is required. Rejecting bid: '),e),!1}return!0}return!1},buildRequests:function(e,t){var n;t&&t.refererInfo&&(n=t.refererInfo);var i,s,c,d,f,g,y,b,E,_,S,A,w,O={pageURL:(i=n)&&i.referer?i.referer:window.location.href,refURL:window.document.referrer},I=(s=O,{id:""+(new Date).getTime(),at:1,cur:[h],imp:[],site:{page:s.pageURL,ref:s.refURL,publisher:{}},device:{ua:navigator.userAgent,js:1,dnt:"yes"==navigator.doNotTrack||"1"==navigator.doNotTrack||"1"==navigator.msDoNotTrack?1:0,h:screen.height,w:screen.width,language:navigator.language},user:{},ext:{}}),C="",T=[],k=[];if(e.forEach((function(e){var t;(c=r.deepClone(e)).params.adSlot=c.params.adSlot||"",U(c),c.params.hasOwnProperty("video")||c.hasOwnProperty("mediaTypes")&&c.mediaTypes.hasOwnProperty(a.c)||0!==c.params.width||0!==c.params.height?(O.pubId=O.pubId||c.params.publisherId,(O=(function(e,t){var n,i,a;for(n in t.kadpageurl||(t.kadpageurl=t.pageURL),v)v.hasOwnProperty(n)&&(i=e[n])&&("object"===l(a=v[n])&&(i=a.f(i,t)),r.isStr(i)?t[n]=i:r.logWarn(p+"Ignoring param : "+n+" with value : "+v[n]+", expects string-value, found "+l(i)));return t})(c.params,O)).transactionId=c.transactionId,""===C?C=c.params.currency||m:c.params.hasOwnProperty("currency")&&C!==c.params.currency&&r.logWarn(p+"Currency specifier ignored. Only one currency permitted."),c.params.currency=C,c.params.hasOwnProperty("dctr")&&r.isStr(c.params.dctr)&&T.push(c.params.dctr),c.params.hasOwnProperty("bcat")&&r.isArray(c.params.bcat)&&(k=k.concat(c.params.bcat)),(t=V(c))&&I.imp.push(t)):r.logWarn(p+"Skipping the non-standard adslot: ",c.params.adSlot,JSON.stringify(c))})),0!=I.imp.length){I.site.publisher.id=O.pubId.trim(),D=O.pubId.trim(),I.ext.wrapper={},I.ext.wrapper.profile=parseInt(O.profId)||m,I.ext.wrapper.version=parseInt(O.verId)||m,I.ext.wrapper.wiid=O.wiid||t.auctionId,I.ext.wrapper.wv="prebid_prebid_4.43.4",I.ext.wrapper.transactionId=O.transactionId,I.ext.wrapper.wp="pbjs",I.user.gender=O.gender?O.gender.trim():m,I.user.geo={},I.user.geo.lat=B("lat",O.lat),I.user.geo.lon=B("lon",O.lon),I.user.yob=B("yob",O.yob),I.device.geo=I.user.geo,I.site.page=O.kadpageurl.trim()||I.site.page.trim(),I.site.domain=(d=I.site.page,(f=document.createElement("a")).href=d,f.hostname),"object"===l(o.b.getConfig("content"))&&(I.site.content=o.b.getConfig("content")),"object"===l(o.b.getConfig("device"))&&(I.device=u(I.device,o.b.getConfig("device"))),r.deepSetValue(I,"source.tid",O.transactionId),-1!==window.location.href.indexOf("pubmaticTest=true")&&(I.test=1),e[0].schain&&r.deepSetValue(I,"source.ext.schain",e[0].schain),t&&t.gdprConsent&&(r.deepSetValue(I,"user.ext.consent",t.gdprConsent.consentString),r.deepSetValue(I,"regs.ext.gdpr",t.gdprConsent.gdprApplies?1:0)),t&&t.uspConsent&&r.deepSetValue(I,"regs.ext.us_privacy",t.uspConsent),!0===o.b.getConfig("coppa")&&r.deepSetValue(I,"regs.coppa",1),g=I,y=e,b=r.deepAccess(y,"0.userIdAsEids"),(E=F(y,P))&&(b=b||[]).push(E),r.isArray(b)&&0<b.length&&r.deepSetValue(g,"user.eids",b),_=I,0<(S=(S=k).filter((function(e){return"string"==typeof e||(r.logWarn(p+"bcat: Each category should be a string, ignoring category: "+e),!1)})).map((function(e){return e.trim()})).filter((function(e,t,n){return 3<e.length?n.indexOf(e)===t:void r.logWarn(p+"bcat: Each category should have a value of a length of more than 3 characters, ignoring category: "+e)}))).length&&(r.logWarn(p+"bcat: Selected: ",S),_.bcat=S),A=I,(w=F(e,x))&&(A.user||(A.user={}),A.user.data||(A.user.data=[]),A.user.data.push(w));var N=o.b.getConfig("ortb2")||{};return N.site&&r.mergeDeep(I,{site:N.site}),N.user&&r.mergeDeep(I,{user:N.user}),"object"===l(o.b.getConfig("app"))&&(I.app=o.b.getConfig("app"),I.app.publisher=I.site.publisher,I.app.ext=I.site.ext||m,"object"!==l(I.app.content)&&(I.app.content=I.site.content||m),delete I.site),{method:"POST",url:"https://hbopenbid.pubmatic.com/translator?source=prebid-client",data:JSON.stringify(I),bidderRequest:t}}},interpretResponse:function(e,t){var n=[],i=h,o=JSON.parse(t.data),s=o.site&&o.site.ref?o.site.ref:"";try{e.body&&e.body.seatbid&&r.isArray(e.body.seatbid)&&(i=e.body.cur||i,e.body.seatbid.forEach((function(e){e.bid&&r.isArray(e.bid)&&e.bid.forEach((function(u){var c={requestId:u.impid,cpm:(parseFloat(u.price)||0).toFixed(2),width:u.w,height:u.h,creativeId:u.crid||u.id,dealId:u.dealid,currency:i,netRevenue:!0,ttl:300,referrer:s,ad:u.adm,pm_seat:e.seat||null,pm_dspid:u.ext&&u.ext.dspid?u.ext.dspid:null,partnerImpId:u.id||""};o.imp&&0<o.imp.length&&o.imp.forEach((function(e){if(u.impid===e.id)switch(function(e,t){if(e.ext&&null!=e.ext.BidType)t.mediaType=N[e.ext.BidType];else{r.logInfo(p+"bid.ext.BidType does not exist, checking alternatively for mediaType");var n,i=e.adm,o=new RegExp(/VAST\s+version/);if(0<=i.indexOf('span class="PubAPIAd"'))t.mediaType=a.b;else if(o.test(i))t.mediaType=a.d;else try{(n=JSON.parse(i.replace(/\\/g,"")))&&n.native&&(t.mediaType=a.c)}catch(e){r.logWarn(p+"Error: Cannot parse native reponse for ad response: "+i)}}}(u,c),c.mediaType){case a.b:break;case a.d:c.width=u.hasOwnProperty("w")?u.w:e.video.w,c.height=u.hasOwnProperty("h")?u.h:e.video.h,c.vastXml=u.adm,(function(e,t){var n,r,i;if(t.bidderRequest&&t.bidderRequest.bids){for(var o=0;o<t.bidderRequest.bids.length;o++)t.bidderRequest.bids[o].bidId===e.requestId&&(n=t.bidderRequest.bids[o].params,r=t.bidderRequest.bids[o].mediaTypes[a.d].context,i=t.bidderRequest.bids[o].adUnitCode);r&&"outstream"===r&&n&&n.outstreamAU&&i&&(e.rendererCode=n.outstreamAU,e.renderer=k.newRenderer(e.rendererCode,i))}})(c,t);break;case a.c:!(function(e,t){if(t.native={},e.hasOwnProperty("adm")){var n="";try{n=JSON.parse(e.adm.replace(/\\/g,""))}catch(e){return r.logWarn(p+"Error: Cannot parse native reponse for ad response: "+t.adm)}if(n&&n.native&&n.native.assets&&0<n.native.assets.length){t.mediaType=a.c;for(var i=0,o=n.native.assets.length;i<o;i++)switch(n.native.assets[i].id){case A.TITLE.ID:t.native.title=n.native.assets[i].title&&n.native.assets[i].title.text;break;case A.IMAGE.ID:t.native.image={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case A.ICON.ID:t.native.icon={url:n.native.assets[i].img&&n.native.assets[i].img.url,height:n.native.assets[i].img&&n.native.assets[i].img.h,width:n.native.assets[i].img&&n.native.assets[i].img.w};break;case A.SPONSOREDBY.ID:case A.BODY.ID:case A.LIKES.ID:case A.DOWNLOADS.ID:case A.PRICE:case A.SALEPRICE.ID:case A.PHONE.ID:case A.ADDRESS.ID:case A.DESC2.ID:case A.CTA.ID:case A.RATING.ID:case A.DISPLAYURL.ID:t.native[j[n.native.assets[i].id]]=n.native.assets[i].data&&n.native.assets[i].data.value}t.native.clickUrl=n.native.link&&n.native.link.url,t.native.clickTrackers=n.native.link&&n.native.link.clicktrackers||[],t.native.impressionTrackers=n.native.imptrackers||[],t.native.jstracker=n.native.jstracker||[],t.width||(t.width=0),t.height||(t.height=0)}}})(u,c)}})),u.ext&&u.ext.deal_channel&&(c.dealChannel=T[u.ext.deal_channel]||null),c.meta={},u.ext&&u.ext.dspid&&(c.meta.networkId=u.ext.dspid),u.ext&&u.ext.advid&&(c.meta.buyerId=u.ext.advid),u.adomain&&0<u.adomain.length&&(c.meta.advertiserDomains=u.adomain,c.meta.clickUrl=u.adomain[0]),e.ext&&e.ext.buyid&&(c.adserverTargeting={hb_buyid_pubmatic:e.ext.buyid}),n.push(c)}))})))}catch(e){r.logError(e)}return n},getUserSyncs:function(e,t,n,r){var i=""+D;return n&&(i+="&gdpr="+(n.gdprApplies?1:0),i+="&gdpr_consent="+encodeURIComponent(n.consentString||"")),r&&(i+="&us_privacy="+encodeURIComponent(r)),!0===o.b.getConfig("coppa")&&(i+="&coppa=1"),e.iframeEnabled?[{type:"iframe",url:"https://ads.pubmatic.com/AdServer/js/user_sync.html?kdntuid=1&p="+i}]:[{type:"image",url:"https://image8.pubmatic.com/AdServer/ImgSync?p="+i}]},transformBidParams:function(e){return r.convertTypes({publisherId:"string",adSlot:"string"},e)}};Object(i.registerBidder)(q)}},[752]),pbjsChunk([145],{824:function(e,t,n){e.exports=n(825)},825:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return E})),t.hasVideoMediaType=I,n.d(t,"resetRubiConf",(function(){return T})),t.masSizeOrdering=P,t.determineRubiconVideoSizeId=x,t.getPriceGranularity=k,t.hasValidVideoParams=N,t.hasValidSupplyChainParams=D,t.encodeParam=R,t.resetUserSync=function(){j=!1};var r=n(0),i=n(1),a=n(3),o=n(2),s=n(10),u=n.n(s),c=n(12),d=n(16);function l(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){g(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function h(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e){return(v="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var y={};a.b.getConfig("rubicon",(function(e){r.mergeDeep(y,e.rubicon)}));var b={1:"468x60",2:"728x90",5:"120x90",7:"125x125",8:"120x600",9:"160x600",10:"300x600",13:"200x200",14:"250x250",15:"300x250",16:"336x280",17:"240x400",19:"300x100",31:"980x120",32:"250x360",33:"180x500",35:"980x150",37:"468x400",38:"930x180",39:"750x100",40:"750x200",41:"750x300",42:"2x4",43:"320x50",44:"300x50",48:"300x300",53:"1024x768",54:"300x1050",55:"970x90",57:"970x250",58:"1000x90",59:"320x80",60:"320x150",61:"1000x1000",64:"580x500",65:"640x480",66:"930x600",67:"320x480",68:"1800x1000",72:"320x320",73:"320x160",78:"980x240",79:"980x300",80:"980x400",83:"480x300",85:"300x120",90:"548x150",94:"970x310",95:"970x100",96:"970x210",101:"480x320",102:"768x1024",103:"480x280",105:"250x800",108:"320x240",113:"1000x300",117:"320x100",125:"800x250",126:"200x600",144:"980x600",145:"980x150",152:"1000x250",156:"640x320",159:"320x250",179:"250x600",195:"600x300",198:"640x360",199:"640x200",213:"1030x590",214:"980x360",221:"1x1",229:"320x180",230:"2000x1400",232:"580x400",234:"6x6",251:"2x2",256:"480x820",257:"400x600",258:"500x200",259:"998x200",264:"970x1000",265:"1920x1080",274:"1800x200",278:"320x500",282:"320x400",288:"640x380",548:"500x1000",550:"980x480",552:"300x200",558:"640x640"};r._each(b,(function(e,t){return b[e]=t}));var E={code:"rubicon",gvlid:52,supportedMediaTypes:[o.b,o.d],isBidRequestValid:function(e){if("object"!==v(e.params))return!1;for(var t=0,n=["accountId","siteId","zoneId"];t<n.length;t++)if(e.params[n[t]]=parseInt(e.params[n[t]]),isNaN(e.params[n[t]]))return r.logError("Rubicon: wrong format of accountId or siteId or zoneId."),!1;var i=C(e,!0);return!!i&&("video"!==i||N(e))},buildRequests:function(e,t){var n,i=e.filter((function(e){return"video"===C(e)})).map((function(e){e.startTime=(new Date).getTime();var n={id:e.transactionId,test:a.b.getConfig("debug")?1:0,cur:["USD"],source:{tid:e.transactionId},tmax:t.timeout,imp:[{exp:a.b.getConfig("s2sConfig.defaultTtl"),id:e.adUnitCode,secure:1,ext:g({},e.bidder,e.params),video:r.deepAccess(e,"mediaTypes.video")||{}}],ext:{prebid:{channel:{name:"pbjs",version:pbjs.version},cache:{vastxml:{returnCreative:!0===y.returnVast}},targeting:{includewinners:!0,includebidderkeys:!1,pricegranularity:k(a.b)},bidders:{rubicon:{integration:y.int_type||"pbjs"}}}}};"rubicon"!==e.bidder&&(n.ext.prebid.aliases=g({},e.bidder,"rubicon"));var i,s,u,c=Object(d.a)().installedModules;if(!c||c.length&&-1===c.indexOf("rubiconAnalyticsAdapter")||r.deepSetValue(n,"ext.prebid.analytics",{rubicon:{"client-analytics":!0}}),"function"!=typeof e.getFloor||y.disableFloors)i=parseFloat(r.deepAccess(e,"params.floor"));else{try{s=e.getFloor({currency:"USD",mediaType:"video",size:A(e,"video")})}catch(e){r.logError("Rubicon: getFloor threw an error: ",e)}i="object"!==v(s)||"USD"!==s.currency||isNaN(parseInt(s.floor))?void 0:parseFloat(s.floor)}isNaN(i)||(n.imp[0].bidfloor=i),n.imp[0].ext[e.bidder].video.size_id=x(e),(function(e,t,n){e&&("object"===v(a.b.getConfig("app"))?e.app=a.b.getConfig("app"):e.site={page:_(t,n)},"object"===v(a.b.getConfig("device"))&&(e.device=a.b.getConfig("device")),t.params.video.language&&["site","device"].forEach((function(n){e[n]&&(e[n].content=p({language:t.params.video.language},e[n].content))})))})(n,e,t),(function(e,t){"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skip&&(e.imp[0].video.skip=t.params.video.skip),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.skipafter&&(e.imp[0].video.skipafter=t.params.video.skipdelay),"object"===v(e.imp[0].video)&&void 0===e.imp[0].video.pos&&("atf"===t.params.position?e.imp[0].video.pos=1:"btf"===t.params.position&&(e.imp[0].video.pos=3));var n=A(t,"video");e.imp[0].video.w=n[0],e.imp[0].video.h=n[1]})(n,e),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(u=t.gdprConsent.gdprApplies?1:0),r.deepSetValue(n,"regs.ext.gdpr",u),r.deepSetValue(n,"user.ext.consent",t.gdprConsent.consentString)),t.uspConsent&&r.deepSetValue(n,"regs.ext.us_privacy",t.uspConsent);var l=r.deepAccess(t,"bids.0.userIdAsEids");l&&l.length&&r.deepSetValue(n,"user.ext.eids",l);var f=a.b.getConfig("user.id");f&&r.deepSetValue(n,"user.id",f),!0===a.b.getConfig("coppa")&&r.deepSetValue(n,"regs.coppa",1),e.schain&&D(e.schain)&&r.deepSetValue(n,"source.ext.schain",e.schain);var h=a.b.getConfig("multibid");return h&&r.deepSetValue(n,"ext.prebid.multibid",h.reduce((function(e,t){var n={};return Object.keys(t).forEach((function(e){n[e.toLowerCase()]=t[e]})),e.push(n),e}),[])),w(e,o.d,n),e.storedAuctionResponse&&r.deepSetValue(n.imp[0],"ext.prebid.storedauctionresponse.id",e.storedAuctionResponse.toString()),r.deepSetValue(n.imp[0],"ext.prebid.auctiontimestamp",t.auctionStart),{method:"POST",url:"https://".concat(y.videoHost||"prebid-server",".rubiconproject.com/openrtb2/auction"),data:n,bidRequest:e}}));return!0!==y.singleRequest?i.concat(e.filter((function(e){return"banner"===C(e)})).map((function(e){var n=E.createSlotParams(e,t);return{method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:E.getOrderedParams(n).reduce((function(e,t){var i=n[t];return r.isStr(i)&&""!==i||r.isNumber(i)?"".concat(e).concat(R(t,i),"&"):e}),"")+"slots=1&rand=".concat(Math.random()),bidRequest:e}}))):(n=e.filter((function(e){return"banner"===C(e)})).reduce((function(e,t){return(e[t.params.siteId]=e[t.params.siteId]||[]).push(t),e}),{}),i.concat(Object.keys(n).reduce((function(e,i){var a;return a=n[i],10,a.map((function(e,t){return t%10==0?a.slice(t,t+10):null})).filter((function(e){return e})).forEach((function(n){var i=E.combineSlotUrlParams(n.map((function(e){return E.createSlotParams(e,t)})));e.push({method:"GET",url:"https://".concat(y.bannerHost||"fastlane",".rubiconproject.com/a/api/fastlane.json"),data:E.getOrderedParams(i).reduce((function(e,t){var n=i[t];return r.isStr(n)&&""!==n||r.isNumber(n)?"".concat(e).concat(R(t,n),"&"):e}),"")+"slots=".concat(n.length,"&rand=").concat(Math.random()),bidRequest:n})})),e}),[])))},getOrderedParams:function(e){var t=/^tg_v/,n=/^tg_i/,r=/^eid_|^tpid_/,i=["account_id","site_id","zone_id","size_id","alt_size_ids","p_pos","gdpr","gdpr_consent","us_privacy","rp_schain"].concat(Object.keys(e).filter((function(e){return r.test(e)}))).concat(["x_liverampidl","ppuid","rf","p_geo.latitude","p_geo.longitude","kw"]).concat(Object.keys(e).filter((function(e){return t.test(e)}))).concat(Object.keys(e).filter((function(e){return n.test(e)}))).concat(["tk_flint","x_source.tid","x_source.pchain","p_screen_res","rp_floor","rp_secure","tk_user_key"]);return i.concat(Object.keys(e).filter((function(e){return-1===i.indexOf(e)})))},combineSlotUrlParams:function(e){if(1===e.length)return e[0];var t=e.reduce((function(t,n,r){return Object.keys(n).forEach((function(i){t.hasOwnProperty(i)||(t[i]=new Array(e.length)),t[i].splice(r,1,n[i])})),t}),{}),n=new RegExp("^([^;]*)(;\\1)+$");return Object.keys(t).forEach((function(e){var r=t[e].join(";"),i=r.match(n);t[e]=i?i[1]:r})),t},createSlotParams:function(e,t){e.startTime=(new Date).getTime();var n,i=e.params,s=A(e,"banner"),c=h(i.latLong||[],2),d=c[0],l=c[1],f={account_id:i.accountId,site_id:i.siteId,zone_id:i.zoneId,size_id:s[0],alt_size_ids:s.slice(1).join(",")||void 0,rp_floor:.01<=(i.floor=parseFloat(i.floor))?i.floor:void 0,rp_secure:"1",tk_flint:"".concat(y.int_type||"pbjs_lite","_v4.43.4"),"x_source.tid":e.transactionId,"x_source.pchain":i.pchain,p_screen_res:[window.screen.width,window.screen.height].join("x"),tk_user_key:i.userId,"p_geo.latitude":isNaN(parseFloat(d))?void 0:parseFloat(d).toFixed(4),"p_geo.longitude":isNaN(parseFloat(l))?void 0:parseFloat(l).toFixed(4),"tg_fl.eid":e.code,rf:_(e,t)};if("function"==typeof e.getFloor&&!y.disableFloors){try{n=e.getFloor({currency:"USD",mediaType:"banner",size:"*"})}catch(e){r.logError("Rubicon: getFloor threw an error: ",e)}f.rp_hard_floor="object"!==v(n)||"USD"!==n.currency||isNaN(parseInt(n.floor))?void 0:n.floor}f.p_pos="atf"===i.position||"btf"===i.position?i.position:"";var p=a.b.getConfig("user.id");return p&&(f.ppuid=p),e.userIdAsEids&&e.userIdAsEids.forEach((function(e){try{var t;"adserver.org"===e.source?(f.tpid_tdid=e.uids[0].id,f["eid_adserver.org"]=e.uids[0].id):"liveintent.com"===e.source?(f["tpid_liveintent.com"]=e.uids[0].id,f["eid_liveintent.com"]=e.uids[0].id,e.ext&&Array.isArray(e.ext.segments)&&e.ext.segments.length&&(f["tg_v.LIseg"]=e.ext.segments.join(","))):"liveramp.com"===e.source?f.x_liverampidl=e.uids[0].id:"sharedid.org"===e.source?f["eid_sharedid.org"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.third||""):"id5-sync.com"===e.source?f["eid_id5-sync.com"]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype,"^").concat(e.uids[0].ext&&e.uids[0].ext.linkType||""):f["eid_".concat(e.source)]="".concat(e.uids[0].id,"^").concat(e.uids[0].atype||""),f.ppuid||(t=u()(e.uids,(function(e){return e.ext&&"ppuid"===e.ext.stype})))&&t.id&&(f.ppuid=t.id)}catch(t){r.logWarn("Rubicon: error reading eid:",e,t)}})),t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(f.gdpr=Number(t.gdprConsent.gdprApplies)),f.gdpr_consent=t.gdprConsent.consentString),t.uspConsent&&(f.us_privacy=encodeURIComponent(t.uspConsent)),f.rp_maxbids=t.bidLimit||1,w(e,o.b,f),!0===a.b.getConfig("coppa")&&(f.coppa=1),e.schain&&D(e.schain)&&(f.rp_schain=E.serializeSupplyChain(e.schain)),f},serializeSupplyChain:function(e){if(!D(e))return"";var t=e.ver,n=e.complete,r=e.nodes;return"".concat(t,",").concat(n,"!").concat(E.serializeSupplyChainNodes(r))},serializeSupplyChainNodes:function(e){var t=["asi","sid","hp","rid","name","domain"];return e.map((function(e){return t.map((function(t){return encodeURIComponent(e[t]||"")})).join(",")})).join("!")},interpretResponse:function(e,t){var n=t.bidRequest;if(!(e=e.body)||"object"!==v(e))return[];if(e.seatbid){var i=r.deepAccess(e,"ext.errors.rubicon");Array.isArray(i)&&0<i.length&&r.logWarn("Rubicon: Error in video response");var a=[];return e.seatbid.forEach((function(t){(t.bid||[]).forEach((function(i){var s={requestId:n.bidId,currency:e.cur||"USD",creativeId:i.crid,cpm:i.price||0,bidderCode:t.seat,ttl:300,netRevenue:!1!==y.netRevenue,width:i.w||r.deepAccess(n,"mediaTypes.video.w")||r.deepAccess(n,"params.video.playerWidth"),height:i.h||r.deepAccess(n,"mediaTypes.video.h")||r.deepAccess(n,"params.video.playerHeight")};i.id&&(s.seatBidId=i.id),i.dealid&&(s.dealId=i.dealid),i.adomain&&r.deepSetValue(s,"meta.advertiserDomains",Array.isArray(i.adomain)?i.adomain:[i.adomain]),r.deepAccess(i,"ext.bidder.rp.advid")&&r.deepSetValue(s,"meta.advertiserId",i.ext.bidder.rp.advid);var u,d=r.deepAccess(e,"ext.responsetimemillis.rubicon");n&&d&&(n.serverResponseTimeMs=d),r.deepAccess(i,"ext.prebid.type")===o.d?(s.mediaType=o.d,r.deepSetValue(s,"meta.mediaType",o.d),(u=r.deepAccess(i,"ext.prebid.targeting"))&&"object"===v(u)&&(s.adserverTargeting=u),i.ext.prebid.cache&&"object"===v(i.ext.prebid.cache.vastXml)&&i.ext.prebid.cache.vastXml.cacheId&&i.ext.prebid.cache.vastXml.url?(s.videoCacheKey=i.ext.prebid.cache.vastXml.cacheId,s.vastUrl=i.ext.prebid.cache.vastXml.url):u&&u.hb_uuid&&u.hb_cache_host&&u.hb_cache_path&&(s.videoCacheKey=u.hb_uuid,s.vastUrl="https://".concat(u.hb_cache_host).concat(u.hb_cache_path,"?uuid=").concat(u.hb_uuid)),i.adm&&(s.vastXml=i.adm),i.nurl&&(s.vastUrl=i.nurl),!s.vastUrl&&i.nurl&&(s.vastUrl=i.nurl),"outstream"===r.deepAccess(n,"mediaTypes.video.context").toLowerCase()&&(s.renderer=(function(e){var t=c.a.install({id:e.adId,url:y.rendererUrl||"https://video-outstream.rubiconproject.com/apex-2.0.0.js",config:y.rendererConfig||{},loaded:!1,adUnitCode:e.adUnitCode});try{t.setRender(S)}catch(e){r.logWarn("Prebid Error calling setRender on renderer",e)}return t})(s))):r.logWarn("Rubicon: video response received non-video media type"),a.push(s)}))})),a}var s,u=e.ads,d=0;return"object"!==v(n)||Array.isArray(n)||"video"!==C(n)||"object"!==v(u)||(u=u[n.adUnitCode]),!Array.isArray(u)||u.length<1?[]:u.reduce((function(t,i,a){if(i.impression_id&&s===i.impression_id?d++:s=i.impression_id,"ok"!==i.status)return t;var u,c,l,f,p=Array.isArray(n)?n[a-d]:n;return p&&"object"===v(p)?(u={requestId:p.bidId,currency:"USD",creativeId:i.creative_id||"".concat(i.network||"","-").concat(i.advertiser||""),cpm:i.cpm||0,dealId:i.deal,ttl:300,netRevenue:!1!==y.netRevenue,rubicon:{advertiserId:i.advertiser,networkId:i.network},meta:{advertiserId:i.advertiser,networkId:i.network,mediaType:o.b}},i.creative_type&&(u.mediaType=i.creative_type),i.adomain&&(u.meta.advertiserDomains=Array.isArray(i.adomain)?i.adomain:[i.adomain]),i.creative_type===o.d?(u.width=p.params.video.playerWidth,u.height=p.params.video.playerHeight,u.vastUrl=i.creative_depot_url,u.impression_id=i.impression_id,u.videoCacheKey=i.impression_id):(u.ad=(l=i.script,f=i.impression_id,"<html>\n<head><script type='text/javascript'>inDapIF=true;<\/script></head>\n<body style='margin : 0; padding: 0;'>\n\x3c!-- Rubicon Project Ad Tag --\x3e\n<div data-rp-impression-id='".concat(f,"'>\n<script type='text/javascript'>").concat(l,"<\/script>\n</div>\n</body>\n</html>")),c=h(b[i.size_id].split("x").map((function(e){return Number(e)})),2),u.width=c[0],u.height=c[1]),u.rubiconTargeting=(Array.isArray(i.targeting)?i.targeting:[]).reduce((function(e,t){return e[t.key]=t.values[0],e}),{rpfl_elemid:p.adUnitCode}),t.push(u)):r.logError("Rubicon: bidRequest undefined at index position:".concat(a),n,e),t}),[]).sort((function(e,t){return(t.cpm||0)-(e.cpm||0)}))},getUserSyncs:function(e,t,n,r){if(!j&&e.iframeEnabled){var i="";return n&&"string"==typeof n.consentString&&("boolean"==typeof n.gdprApplies?i+="?gdpr=".concat(Number(n.gdprApplies),"&gdpr_consent=").concat(n.consentString):i+="?gdpr_consent=".concat(n.consentString)),r&&(i+="".concat(i?"&":"?","us_privacy=").concat(encodeURIComponent(r))),j=!0,{type:"iframe",url:"https://".concat(y.syncHost||"eus",".rubiconproject.com/usync.html")+i}}},transformBidParams:function(e){return r.convertTypes({accountId:"number",siteId:"number",zoneId:"number"},e)}};function _(e,t){var n=a.b.getConfig("pageUrl");n=e.params.referrer?e.params.referrer:n||t.refererInfo.referer;return e.params.secure?n.replace(/^http:/i,"https:"):n}function S(e){var t,n,r,i=document.getElementById(e.adUnitCode);(t=i.querySelector("div[id^='google_ads']"))&&t.style.setProperty("display","none"),(r=(n=i.querySelector("script[id^='sas_script']"))&&n.nextSibling)&&"iframe"===r.localName&&r.style.setProperty("display","none");var a=e.renderer.getConfig();e.renderer.push((function(){window.MagniteApex.renderAd({width:e.width,height:e.height,vastUrl:e.vastUrl,placement:{attachTo:"#".concat(e.adUnitCode),align:a.align||"center",position:a.position||"append"},closeButton:a.closeButton||!1,label:a.label||void 0,collapse:a.collapse||!0})}))}function A(e,t){var n=e.params;if("video"===t){var i=[];return n.video&&n.video.playerWidth&&n.video.playerHeight?i=[n.video.playerWidth,n.video.playerHeight]:Array.isArray(r.deepAccess(e,"mediaTypes.video.playerSize"))&&1===e.mediaTypes.video.playerSize.length?i=e.mediaTypes.video.playerSize[0]:Array.isArray(e.sizes)&&0<e.sizes.length&&Array.isArray(e.sizes[0])&&1<e.sizes[0].length&&(i=e.sizes[0]),i}var a=[];return Array.isArray(n.sizes)?a=n.sizes:void 0!==r.deepAccess(e,"mediaTypes.banner.sizes")?a=O(e.mediaTypes.banner.sizes):Array.isArray(e.sizes)&&0<e.sizes.length?a=O(e.sizes):r.logWarn("Rubicon: no sizes are setup or found"),P(a)}function w(e,t,n){var i={user:{ext:{data:f({},e.params.visitor)}},site:{ext:{data:f({},e.params.inventory)}}};function s(e,t,i,a){var o=!(3<arguments.length&&void 0!==a)||a,s=(function(e,t,n){if("data"===t&&Array.isArray(e))return e.filter((function(e){return e.segment&&r.deepAccess(e,"ext.segtax")&&d[n]&&-1!==d[n].indexOf(r.deepAccess(e,"ext.segtax"))})).map((function(e){var t=e.segment.filter((function(e){return e.id})).reduce((function(e,t){return e.push(t.id),e}),[]);if(0<t.length)return t.toString()})).toString();if("object"!==v(e)||Array.isArray(e)){if(void 0!==e)return Array.isArray(e)?e.filter((function(e){return"object"!==v(e)&&void 0!==e?e.toString():void r.logWarn("Rubicon: Filtered value: ",e,"for key",t,": Expected value to be string, integer, or an array of strings/ints")})).toString():e.toString()}else r.logWarn("Rubicon: Filtered FPD key: ",t,": Expected value to be string, integer, or an array of strings/ints")})(e,i,t),u=l[i]&&o?"".concat(l[i]):"data"===i?"".concat(l[t],"iab"):"".concat(l[t]).concat(i);n[u]=n[u]?n[u].concat(",",s):s}e.params.keywords&&(i.site.keywords=r.isArray(e.params.keywords)?e.params.keywords.join(","):e.params.keywords);var u=r.mergeDeep({},a.b.getConfig("ortb2")||{},i),c=r.deepAccess(e.ortb2Imp,"ext.data")||{},d={user:[3],site:[1,2]},l={user:"tg_v.",site:"tg_i.",adserver:"tg_i.dfp_ad_unit_code",pbadslot:"tg_i.pbadslot",keywords:"kw"};Object.keys(c).forEach((function(e){"adserver"===e?["name","adslot"].forEach((function(t){c[e][t]&&(c[e][t]=c[e][t].toString().replace(/^\/+/,""))})):"pbadslot"===e&&(c[e]=c[e].toString().replace(/^\/+/,""))})),t===o.b?(["site","user"].forEach((function(e){Object.keys(u[e]).forEach((function(t){"site"===e&&"content"===t&&u[e][t].data?s(u[e][t].data,e,"data"):"ext"!==t?s(u[e][t],e,t):u[e][t].data&&Object.keys(u[e].ext.data).forEach((function(t){s(u[e].ext.data[t],e,t,!1)}))}))})),Object.keys(c).forEach((function(e){"adserver"===e?s(c[e].adslot,name,e):s(c[e],"site",e)}))):(Object.keys(c).length&&r.mergeDeep(n.imp[0].ext,{data:c}),r.mergeDeep(n,u))}function O(e){return r.parseSizesInput(e).reduce((function(e,t){var n=parseInt(b[t],10);return n&&e.push(n),e}),[])}function I(e){return"object"===v(r.deepAccess(e,"params.video"))&&void 0!==r.deepAccess(e,"mediaTypes.".concat(o.d))}function C(e,t){var n=1<arguments.length&&void 0!==t&&t;return I(e)?-1===["outstream","instream"].indexOf(r.deepAccess(e,"mediaTypes.".concat(o.d,".context")))?void(n&&r.logError("Rubicon: mediaTypes.video.context must be outstream or instream")):A(e,"video").length<2?void(n&&r.logError("Rubicon: could not determine the playerSize of the video")):(n&&r.logMessage("Rubicon: making video request for adUnit",e.adUnitCode),"video"):0===A(e,"banner").length?void(n&&r.logError("Rubicon: could not determine the sizes for banner request")):(n&&r.logMessage("Rubicon: making banner request for adUnit",e.adUnitCode),"banner")}var T=function(){return y={}};function P(e){var t=[15,2,9];return e.sort((function(e,n){var r=t.indexOf(e),i=t.indexOf(n);return-1<r||-1<i?-1===r?1:-1===i?-1:r-i:e-n}))}function x(e){var t=parseInt(r.deepAccess(e,"params.video.size_id"));return isNaN(t)?"outstream"===r.deepAccess(e,"mediaTypes.".concat(o.d,".context"))?203:201:t}function k(e){return{ranges:{low:[{max:5,increment:.5}],medium:[{max:20,increment:.1}],high:[{max:20,increment:.01}],auto:[{max:5,increment:.05},{min:5,max:10,increment:.1},{min:10,max:20,increment:.5}],dense:[{max:3,increment:.01},{min:3,max:8,increment:.05},{min:8,max:20,increment:.5}],custom:e.getConfig("customPriceBucket")&&e.getConfig("customPriceBucket").buckets}[e.getConfig("priceGranularity")]}}function N(e){var t=!0,n=Object.prototype.toString.call([]),i={mimes:n,protocols:n,linearity:Object.prototype.toString.call(0),api:n};return Object.keys(i).forEach((function(n){Object.prototype.toString.call(r.deepAccess(e,"mediaTypes.video."+n))!==i[n]&&(t=!1,r.logError("Rubicon: mediaTypes.video."+n+" is required and must be of type: "+i[n]))})),t}function D(e){var t=!1,n=["asi","sid","hp"];return e.nodes&&((t=e.nodes.reduce((function(e,t){return e?n.every((function(e){return t.hasOwnProperty(e)})):e}),!0))||r.logError("Rubicon: required schain params missing")),t}function R(e,t){return"rp_schain"===e?"rp_schain=".concat(t):"".concat(e,"=").concat(encodeURIComponent(t))}var j=!1;Object(i.registerBidder)(E)}},[824]),pbjsChunk([136],{846:function(e,t,n){e.exports=n(847)},847:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"sharethroughInternal",(function(){return c})),n.d(t,"sharethroughAdapterSpec",(function(){return d}));var r=n(1),i=n(0),a=n(3);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s="sharethrough",u=[1,1],c={b64EncodeUnicode:l,handleIframe:function(){var e=!1;if(!window.lockedInFrame){var t=document.createElement("script");t.src="https://native.sharethrough.com/assets/sfp-set-targeting.js",t.type="text/javascript";try{window.document.getElementsByTagName("body")[0].appendChild(t),e=!0}catch(e){i.logError("Trouble writing frame buster script, error details:",e)}}if(!(e?window.top.STR&&window.top.STR.Tag:window.STR&&window.STR.Tag)){var n=document.createElement("script");n.src="https://native.sharethrough.com/assets/sfp.js",n.type="text/javascript";try{e?window.top.document.getElementsByTagName("body")[0].appendChild(n):window.document.getElementsByTagName("body")[0].appendChild(n)}catch(e){i.logError("Trouble writing sfp script, error details:",e)}}},isLockedInFrame:function(){window.lockedInFrame=!1;try{window.lockedInFrame=!window.top.document}catch(e){window.lockedInFrame=e instanceof DOMException}},getProtocol:function(){return document.location.protocol}},d={code:s,isBidRequestValid:function(e){return!!e.params.pkey&&e.bidder===s},buildRequests:function(e,t){return e.map((function(e){var n={placement_key:e.params.pkey,bidId:e.bidId,consent_required:!1,instant_play_capable:(function(){var e=navigator.userAgent;if(!e)return!1;var t=/Android/i.test(e),n=/iPhone|iPad|iPod/i.test(e),r=parseInt((/Chrome\/([0-9]+)/.exec(e)||[0,0])[1]),i=parseInt((/CriOS\/([0-9]+)/.exec(e)||[0,0])[1]),a=parseInt((/Version\/([0-9]+)/.exec(e)||[0,0])[1]);return!!(t&&53<=r||n&&(10<=a||53<=i)||!t&&!n)})(),hbSource:"prebid",hbVersion:"4.43.4",strVersion:"3.4.0"};o(n,(function(e){if(!e.userId)return{};var t={},n=i.deepAccess(e,"userId.tdid");n&&(t.ttduid=n);var r=i.deepAccess(e,"userId.pubcid")||i.deepAccess(e,"crumbs.pubcid");r&&(t.pubcid=r);var a=i.deepAccess(e,"userId.idl_env");a&&(t.idluid=a);var o,s=i.deepAccess(e,"userId.id5id.uid");s&&(t.id5uid={id:s},(o=i.deepAccess(e,"userId.id5id.ext.linkType"))&&(t.id5uid.linkType=o));var u=i.deepAccess(e,"userId.lipb.lipbid");u&&(t.liuid=u);var c=i.deepAccess(e,"userId.sharedid");return c&&(t.shduid=c),t})(e));var r=c.getProtocol().indexOf("http")<0;n.secure=r||-1<c.getProtocol().indexOf("https"),t&&t.gdprConsent&&t.gdprConsent.consentString&&(n.consent_string=t.gdprConsent.consentString),t&&t.gdprConsent&&(n.consent_required=!!t.gdprConsent.gdprApplies),t&&t.uspConsent&&(n.us_privacy=t.uspConsent),!0===a.b.getConfig("coppa")&&(n.coppa=!0),e.schain&&(n.schain=JSON.stringify(e.schain));var s=(function(e){if(i.isFn(e.getFloor)){var t=e.getFloor({currency:"USD",mediaType:"banner",size:e.sizes.map((function(e){return{w:e[0],h:e[1]}}))});if(i.isPlainObject(t)&&!isNaN(t.floor)&&"USD"===t.currency)return parseFloat(t.floor)}return null})(e);return s&&(n.bidfloor=s),e.params.badv&&(n.badv=e.params.badv),e.params.bcat&&(n.bcat=e.params.bcat),{method:"POST",url:"https://btlr.sharethrough.com/WYu2BXv1/v1",data:n,strData:{skipIframeBusting:e.params.iframe,iframeSize:e.params.iframeSize,sizes:e.sizes}}}))},interpretResponse:function(e,t){var n=e.body;if(!n||!n.creatives||!n.creatives.length)return[];var r=n.creatives[0],i=u;function a(e){return e[0]*e[1]}return(t.strData.iframeSize||t.strData.sizes.length)&&(i=t.strData.iframeSize?t.strData.iframeSize:t.strData.sizes.reduce((function(e,t){return a(t)>a(e)?t:e}))),[{requestId:t.data.bidId,width:i[0],height:i[1],cpm:r.cpm,creativeId:r.creative.creative_key,dealId:r.creative.deal_id,currency:"USD",netRevenue:!0,ttl:360,meta:{advertiserDomains:r.creative&&r.creative.adomain?r.creative.adomain:[]},ad:(function(e,t){var n="str_response_".concat(t.data.bidId),r='\n    <div data-str-native-key="'.concat(t.data.placement_key,'" data-stx-response-name="').concat(n,'">\n    </div>\n    <script>var ').concat(n,' = "').concat(l(JSON.stringify(e)),'"<\/script>\n  ');return t.strData.skipIframeBusting?r+='<script src="https://native.sharethrough.com/assets/sfp.js"><\/script>':r+="\n      <script>\n        (".concat(c.isLockedInFrame.toString(),")()\n      <\/script>\n      <script>\n        (").concat(c.handleIframe.toString(),")()\n      <\/script>"),r})(n,t)}]},getUserSyncs:function(e,t,n,r){var i=r?"&us_privacy=".concat(r):"",a=[];return e.pixelEnabled&&0<t.length&&t[0].body&&t[0].body.cookieSyncUrls&&t[0].body.cookieSyncUrls.forEach((function(e){a.push({type:"image",url:e+i})})),a},onTimeout:function(){},onBidWon:function(){},onSetTargeting:function(){}};function l(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)})))}Object(r.registerBidder)(d)}},[846]),pbjsChunk([16],{20:function(e,t,n){t.b=function(e){var t=[];for(var n in e){var a;e.hasOwnProperty(n)&&("pubProvidedId"===n?t=t.concat(e.pubProvidedId):(a=(function(e,t){var n=i[t];if(n&&e){var a={};a.source=n.source;var o=r.isFn(n.getValue)?n.getValue(e):e;if(r.isStr(o)){var s,u,c={id:o,atype:n.atype};return!r.isFn(n.getUidExt)||(s=n.getUidExt(e))&&(c.ext=s),a.uids=[c],!r.isFn(n.getEidExt)||(u=n.getEidExt(e))&&(a.ext=u),a}}return null})(e[n],n))&&t.push(a))}return t},t.a=function(e){var t=[];return e.filter((function(e){return r.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){r.deepAccess(e,"config.bidders")&&Array.isArray(e.config.bidders)&&r.deepAccess(i,n+".source")&&t.push({source:i[n].source,bidders:e.config.bidders})}))})),t};var r=n(0),i={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=r.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3}}},862:function(e,t,n){e.exports=n(863)},863:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return u}));var r=n(0),i=n(2),a=n(3),o=n(1),s=n(20),u={code:"smartadserver",gvlid:45,aliases:["smart"],supportedMediaTypes:[i.b,i.d],isBidRequestValid:function(e){return!!(e.params&&e.params.siteId&&e.params.pageId&&e.params.formatId)},serializeSupplyChain:function(e){if(!e||!e.nodes)return null;var t=["asi","sid","hp","rid","name","domain"];return"".concat(e.ver,",").concat(e.complete,"!")+e.nodes.map((function(e){return t.map((function(t){return e[t]?encodeURIComponent(e[t]):""})).join(",")})).join("!")},buildRequests:function(e,t){return e.map((function(e){var n={siteid:e.params.siteId,pageid:e.params.pageId,formatid:e.params.formatId,currencyCode:a.b.getConfig("currency.adServerCurrency"),bidfloor:e.params.bidfloor||0,targeting:e.params.target&&""!==e.params.target?e.params.target:void 0,buid:e.params.buId&&""!==e.params.buId?e.params.buId:void 0,appname:e.params.appName&&""!==e.params.appName?e.params.appName:void 0,ckid:e.params.ckId||0,tagId:e.adUnitCode,pageDomain:t&&t.refererInfo&&t.refererInfo.referer?t.refererInfo.referer:void 0,transactionId:e.transactionId,timeout:a.b.getConfig("bidderTimeout"),bidId:e.bidId,prebidVersion:"4.43.4",schain:u.serializeSupplyChain(e.schain)},o=r.deepAccess(e,"mediaTypes.video");if(o){if(!o||"instream"!==o.context&&"outstream"!==o.context)return{};var c=null;e.params.video&&e.params.video.protocol?c=e.params.video.protocol:Array.isArray(o.protocols)&&(c=Math.max.apply(Math,o.protocols));var d=2;e.params.video&&e.params.video.startDelay?d=e.params.video.startDelay:0==o.startdelay?d=1:-1==o.startdelay?d=2:-2==o.startdelay&&(d=3);var l=o.playerSize[0];n.isVideo="instream"===o.context,n.mediaType=i.d,n.videoData={videoProtocol:c,playerWidth:l[0],playerHeight:l[1],adBreak:d}}else{var f=r.deepAccess(e,"mediaTypes.banner");n.sizes=f.sizes.map((function(e){return{w:e[0],h:e[1]}}))}t&&t.gdprConsent&&(n.addtl_consent=t.gdprConsent.addtlConsent,n.gdpr_consent=t.gdprConsent.consentString,n.gdpr=t.gdprConsent.gdprApplies),e&&e.userId&&(n.eids=Object(s.b)(e.userId)),t&&t.uspConsent&&(n.us_privacy=t.uspConsent);var p=JSON.stringify(n);return{method:"POST",url:(void 0!==e.params.domain?e.params.domain:"https://prg.smartadserver.com")+"/prebid/v1",data:p}}))},interpretResponse:function(e,t){var n,a,o=[],s=e.body;try{s&&!s.isNoAd&&(a={requestId:(n=JSON.parse(t.data)).bidId,cpm:s.cpm,width:s.width,height:s.height,creativeId:s.creativeId,dealId:s.dealId,currency:s.currency,netRevenue:s.isNetCpm,ttl:s.ttl,dspPixels:s.dspPixels,meta:{advertiserDomains:s.adomain?s.adomain:[]}},n.mediaType===i.d?(a.mediaType=i.d,a.vastUrl=s.adUrl,a.vastXml=s.ad,a.content=s.ad):(a.adUrl=s.adUrl,a.ad=s.ad),o.push(a))}catch(e){r.logError("Error while parsing smart server response",e)}return o},getUserSyncs:function(e,t){var n=[];return e.iframeEnabled&&0<t.length?n.push({type:"iframe",url:t[0].body.cSyncUrl}):e.pixelEnabled&&0<t.length&&void 0!==t[0].body.dspPixels&&t[0].body.dspPixels.forEach((function(e){n.push({type:"image",url:e})})),n}};Object(o.registerBidder)(u)}},[862]),pbjsChunk([122],{880:function(e,t,n){e.exports=n(881)},881:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return m})),n.d(t,"_isInbounds",(function(){return E})),t._getPlatform=_;var r=n(1),i=n(0),a=n(2),o=n(3),s=n(12),u=n(43);function c(e,t){return (function(e){if(Array.isArray(e))return e})(e)||(function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}})(e,t)||(function(e,t){if(e){if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}})(e,t)||(function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p="sonobi",h=Object(i.generateUUID)(),m={code:p,supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){if(!e.params)return!1;if(!e.params.ad_unit&&!e.params.placement_id)return!1;if(!Object(i.deepAccess)(e,"mediaTypes.banner")&&!Object(i.deepAccess)(e,"mediaTypes.video"))return!1;if(Object(i.deepAccess)(e,"mediaTypes.banner")){if(!Object(i.deepAccess)(e,"mediaTypes.banner.sizes")&&!e.params.sizes)return!1}else if(Object(i.deepAccess)(e,"mediaTypes.video")){if("outstream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!e.params.sizes)return!1;if("instream"===Object(i.deepAccess)(e,"mediaTypes.video.context")&&!Object(i.deepAccess)(e,"mediaTypes.video.playerSize"))return!1}return!0},buildRequests:function(e,t){var n=e.map((function(e){var t=(function(e){return e.params.ad_unit?e.params.ad_unit:e.params.placement_id})(e);return/^[\/]?[\d]+[[\/].+[\/]?]?$/.test(t)?(t="/"===t.charAt(0)?t:"/"+t,f({},"".concat(t,"|").concat(e.bidId),"".concat(g(e)).concat(v(e)).concat(y(e)))):/^[0-9a-fA-F]{20}$/.test(t)&&20===t.length?f({},e.bidId,"".concat(t,"|").concat(g(e)).concat(v(e)).concat(y(e))):void Object(i.logError)("The ad unit code or Sonobi Placement id for slot ".concat(e.bidId," is invalid"))})),r={};n.forEach((function(e){l(r,e)}));var a,s={key_maker:JSON.stringify(r),ref:t.refererInfo.referer,s:Object(i.generateUUID)(),pv:h,vp:_(),lib_name:"prebid",lib_v:"4.43.4",us:0};o.b.getConfig("userSync")&&o.b.getConfig("userSync").syncsPerBidder&&(s.us=o.b.getConfig("userSync").syncsPerBidder),u.a.canBidderRegisterSync("iframe",p)?s.ius=1:s.ius=0,Object(i.deepAccess)(e[0],"params.hfa")&&(s.hfa=Object(i.deepAccess)(e[0],"params.hfa")),e[0].params.referrer&&(s.ref=e[0].params.referrer),t&&t.gdprConsent&&(s.gdpr=t.gdprConsent.gdprApplies?"true":"false",t.gdprConsent.consentString&&(s.consent_string=t.gdprConsent.consentString)),e[0].schain&&(s.schain=JSON.stringify(e[0].schain)),Object(i.deepAccess)(e[0],"userId")&&0<Object.keys(e[0].userId).length&&((a=Object(i.deepClone)(e[0].userId)).id5id&&(a.id5id=Object(i.deepAccess)(a,"id5id.uid")),s.userid=JSON.stringify(a));var c=Object(i.deepAccess)(e[0],"userIdAsEids");Array.isArray(c)&&0<c.length&&(s.eids=JSON.stringify(c));var d=e[0].params.keywords;if(d&&(s.kw=d),t&&t.uspConsent&&(s.us_privacy=t.uspConsent),!0===o.b.getConfig("coppa")?s.coppa=1:s.coppa=0,Object(i.isEmpty)(r))return null;var m="https://apex.go.sonobi.com/trinity.json";return Object(i.deepAccess)(e[0],"params.bid_request_url")&&(m=Object(i.deepAccess)(e[0],"params.bid_request_url")),{method:"GET",url:m,withCredentials:!0,data:s,bidderRequests:e}},interpretResponse:function(e,t){var n=e.body,r=[],a=t.data.ref;return 0===Object.keys(n.slots).length||Object.keys(n.slots).forEach((function(e){var o=n.slots[e],u=e.split("|").slice(-1)[0],d=(function(e,t){for(var n=0;n<e.length;n++)if(e[n].bidId===t)return e[n]})(t.bidderRequests,u),l=null;"video"===o.sbi_ct&&(l="video","outstream"===Object(i.deepAccess)(d,"mediaTypes.video.context")&&(l="outstream"));var f,p,h,m,g,v,y,E,_=b(l,a);o.sbi_aid&&o.sbi_mouse&&o.sbi_size&&(h=void 0===(p=(f=c(o.sbi_size.split("x"),2))[0])?1:p,g=void 0===(m=f[1])?1:m,v=[],o.sbi_adomain&&(v=[o.sbi_adomain]),y={requestId:u,cpm:Number(o.sbi_mouse),width:Number(h),height:Number(g),ad:_(n.sbi_dc,o.sbi_aid),ttl:500,creativeId:o.sbi_crid||o.sbi_aid,aid:o.sbi_aid,netRevenue:!0,currency:"USD",meta:{advertiserDomains:v}},o.sbi_dozer&&(y.dealId=o.sbi_dozer),"video"===l?(y.mediaType="video",y.vastUrl=_(n.sbi_dc,o.sbi_aid),delete y.ad,delete y.width,delete y.height):"outstream"===l&&d&&(y.mediaType="video",y.vastUrl=_(n.sbi_dc,o.sbi_aid),y.renderer=(function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=s.a.install({id:t.aid,url:"https://mtrx.go.sonobi.com/sbi_outstream_renderer.js",config:n,loaded:!1,adUnitCode:e});try{r.setRender(S)}catch(e){Object(i.logWarn)("Prebid Error calling setRender on renderer",e)}return r.setEventHandlers({impression:function(){return Object(i.logMessage)("Sonobi outstream video impression event")},loaded:function(){return Object(i.logMessage)("Sonobi outstream video loaded event")},ended:function(){Object(i.logMessage)("Sonobi outstream renderer video event")}}),r})(d.adUnitCode,y,Object(i.deepAccess)(d,"renderer.options")),E=Object(i.deepAccess)(d,"params.sizes"),Array.isArray(E)&&Array.isArray(E[0])&&(E=E[0]),E&&(y.width=E[0],y.height=E[1])),r.push(y))})),r},getUserSyncs:function(e,t){var n=[];try{e.pixelEnabled&&t[0].body.sbi_px.forEach((function(e){n.push({type:e.type,url:e.url})}))}catch(e){}return n}};function g(e){return Object(i.deepAccess)(e,"mediaTypes.video")?"":e.params.sizes?Object(i.parseSizesInput)(e.params.sizes).join(","):Object(i.deepAccess)(e,"mediaTypes.banner.sizes")?Object(i.parseSizesInput)(Object(i.deepAccess)(e,"mediaTypes.banner.sizes")).join(","):e.sizes?Object(i.parseSizesInput)(e.sizes).join(","):void 0}function v(e){return e.params.floor?"|f=".concat(e.params.floor):""}function y(e){var t=Object(i.deepAccess)(e,"ortb2Imp.ext.data.pbadslot")||Object(i.deepAccess)(Object(i.getGptSlotInfoForAdUnitCode)(e.adUnitCode),"gptSlot")||e.params.ad_unit;return t?"|gpid=".concat(t):""}var b=function(e,t){return function(n,r){return"video"===e||"outstream"===e?(i=r,a=t,"https://".concat(n,"apex.go.sonobi.com/vast.xml?vid=").concat(i,"&ref=").concat(encodeURIComponent(a))):'<script type="text/javascript" src="'+"https://".concat(n,"apex.go.sonobi.com/sbi.js?aid=").concat(r,"&as=null&ref=").concat(encodeURIComponent(t))+'"><\/script>';var i,a}},E=function(e){var t=0<arguments.length&&void 0!==e?e:window;return function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Number.MAX_SAFE_INTEGER;return t.innerWidth>=e&&t.innerWidth<n}};function _(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,t=E(e),n=992,r=768;return t(0,768)?"mobile":t(r,n)?"tablet":"desktop"}function S(e){e.renderer.push((function(){var t=c(e.getSize().split("x"),2),n=t[0],r=t[1],i=new window.SbiOutstreamRenderer;i.init({vastUrl:e.vastUrl,height:r,width:n}),i.setRootElement(e.adUnitCode)}))}Object(r.registerBidder)(m)}},[880]),pbjsChunk([121],{890:function(e,t,n){e.exports=n(891)},891:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"GOOGLE_CONSENT",(function(){return c})),n.d(t,"spec",(function(){return d}));var r=n(0),i=n(12),a=n(1),o=n(2);function s(e){return(s="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var u="spotx",c={consented_providers:["3","7","11","12","15","20","22","35","43","46","48","55","57","61","62","66","70","80","83","85","86","89","93","108","122","124","125","126","131","134","135","136","143","144","147","149","153","154","159","161","162","165","167","171","178","184","188","192","195","196","202","209","211","218","221","228","229","230","236","239","241","253","255","259","266","271","272","274","286","291","294","303","308","310","311","313","314","316","317","322","323","327","336","338","340","348","350","358","359","363","367","370","371","384","385","389","393","394","397","398","407","414","415","424","429","430","432","436","438","440","442","443","445","448","449","453","459","479","482","486","491","492","494","495","503","505","510","522","523","528","537","540","550","559","560","568","571","574","575","576","584","585","587","588","590","591","592","595","609","621","624","723","725","733","737","776","780","782","787","797","798","802","803","814","817","820","821","827","829","839","853","864","867","874","899","904","922","926","931","932","933","938","955","973","976","979","981","985","987","991","1003","1024","1025","1027","1028","1029","1033","1034","1040","1047","1048","1051","1052","1053","1054","1062","1063","1067","1072","1085","1092","1095","1097","1099","1100","1107","1126","1127","1143","1149","1152","1162","1166","1167","1170","1171","1172","1188","1192","1199","1201","1204","1205","1211","1212","1215","1220","1225","1226","1227","1230","1232","1236","1241","1248","1250","1252","1268","1275","1276","1284","1286","1298","1301","1307","1312","1313","1317","1329","1336","1344","1345","1356","1362","1365","1375","1403","1409","1411","1415","1416","1419","1423","1440","1442","1449","1451","1455","1456","1468","1496","1503","1509","1512","1514","1517","1520","1525","1540","1547","1548","1555","1558","1570","1575","1577","1579","1583","1584","1591","1598","1603","1608","1613","1616","1626","1631","1633","1638","1642","1648","1651","1652","1653","1660","1665","1667","1669","1671","1674","1677","1678","1682","1684","1697","1703","1705","1716","1720","1721","1722","1725","1732","1733","1735","1739","1741","1745","1750","1753","1760","1765","1769","1776","1780","1782","1786","1791","1794","1799","1800","1801","1810","1827","1831","1832","1834","1837","1840","1843","1844","1845","1858","1859","1863","1866","1870","1872","1875","1878","1880","1882","1883","1889","1892","1896","1898","1899","1902","1905","1911","1922","1928","1929","1934","1942","1943","1944","1945","1958","1960","1962","1963","1964","1967","1968","1978","1985","1986","1987","1998","2003","2007","2012","2013","2027","2035","2038","2039","2044","2047","2052","2056","2059","2062","2064","2068","2070","2072","2078","2079","2084","2088","2090","2095","2100","2103","2107","2109","2113","2115","2121","2127","2130","2133","2137","2140","2141","2145","2147","2150","2156","2166","2170","2171","2176","2177","2179","2183","2186","2192","2198","2202","2205","2214","2216","2219","2220","2222","2223","2224","2225","2227","2228","2234","2238","2247","2251","2253","2262","2264","2271","2276","2278","2279","2282","2290","2292","2295","2299","2305","2306","2310","2311","2312","2315","2320","2325","2328","2331","2334","2335","2336","2337","2343","2346","2354","2357","2358","2359","2366","2370","2373","2376","2377","2380","2382","2387","2389","2392","2394","2400","2403","2405","2406","2407","2410","2411","2413","2414","2415","2416","2418","2422","2425","2427","2435","2437","2440","2441","2447","2453","2459","2461","2462","2464","2467","2468","2472","2477","2481","2484","2486","2492","2493","2496","2497","2498","2499","2504","2506","2510","2511","2512","2517","2526","2527","2531","2532","2534","2542","2544","2552","2555","2559","2563","2564","2567","2568","2569","2571","2572","2573","2575","2577","2579","2583","2584","2586","2589","2595","2596","2597","2601","2604","2605","2609","2610","2612","2614","2621","2622","2624","2628","2629","2632","2634","2636","2639","2643","2645","2646","2647","2649","2650","2651","2652","2656","2657","2658","2660","2661","2662","2663","2664","2669","2670","2673","2676","2677","2678","2681","2682","2684","2685","2686","2689","2690","2691","2695","2698","2699","2702","2704","2705","2706","2707","2709","2710","2713","2714","2727","2729","2739","2758","2765","2766","2767","2768","2770","2771","2772","2776","2777","2778","2779","2780","2783","2784","2786","2787","2791","2792","2793","2797","2798","2801","2802","2803","2805","2808","2809","2810","2811","2812","2813","2814","2817","2818","2824","2826","2827","2829","2830","2831","2832","2834","2836","2838","2840","2842","2843","2844","2850","2851","2852","2854","2858","2860","2862","2864","2865","2866","2867","2868","2869","2871"]},d={code:u,aliases:["spotx"],supportedMediaTypes:[o.d],isBidRequestValid:function(e){if(e&&"object"!==s(e.params))return r.logError(u+": params is not defined or is incorrect in the bidder settings."),!1;if(!r.deepAccess(e,"mediaTypes.video"))return r.logError(u+": mediaTypes.video is not present in the bidder settings."),!1;var t=r.deepAccess(e,"mediaTypes.video.playerSize");if(!t||!r.isArray(t))return r.logError(u+": mediaTypes.video.playerSize is not defined in the bidder settings."),!1;if(!r.getBidIdParameter("channel_id",e.params))return r.logError(u+": channel_id is not present in bidder params"),!1;if(("outstream"==r.deepAccess(e,"mediaTypes.video.context")||"outstream"==r.deepAccess(e,"params.ad_unit"))&&!r.getBidIdParameter("outstream_function",e.params)){if(!r.getBidIdParameter("outstream_options",e.params))return r.logError(u+": please define outstream_options parameter or override the default SpotX outstream rendering by defining your own Outstream function using field outstream_function."),!1;if(!r.getBidIdParameter("slot",e.params.outstream_options))return r.logError(u+": please define parameters slot outstream_options object in the configuration."),!1}return!0},buildRequests:function(e,t){var n=t.refererInfo.referer,i=!!n.match(/^https:/);return e.map((function(e){var a=r.getBidIdParameter("channel_id",e.params),o=null,s=r.deepAccess(e,"mediaTypes.video.playerSize"),u=s[0][0],d=s[0][1],l=i||(r.getBidIdParameter("secure",e.params)?1:0),f={sdk_name:"Prebid 1+",versionOrtb:"2.3"};if(""!=r.getBidIdParameter("hide_skin",e.params)&&(f.hide_skin=+!!r.getBidIdParameter("hide_skin",e.params)),""!=r.getBidIdParameter("ad_volume",e.params)&&(f.ad_volume=r.getBidIdParameter("ad_volume",e.params)),""!=r.getBidIdParameter("ad_unit",e.params)&&(f.ad_unit=r.getBidIdParameter("ad_unit",e.params)),""!=r.getBidIdParameter("outstream_options",e.params)&&(f.outstream_options=r.getBidIdParameter("outstream_options",e.params)),""!=r.getBidIdParameter("outstream_function",e.params)&&(f.outstream_function=r.getBidIdParameter("outstream_function",e.params)),""!=r.getBidIdParameter("custom",e.params)&&(f.custom=r.getBidIdParameter("custom",e.params)),""!=r.getBidIdParameter("pre_market_bids",e.params)&&r.isArray(r.getBidIdParameter("pre_market_bids",e.params))){var p=r.getBidIdParameter("pre_market_bids",e.params);for(var h in f.pre_market_bids=[],p){var m=p[h],g="";m.vast_url?g='<?xml version="1.0" encoding="utf-8"?><VAST version="2.0"><Ad><Wrapper><VASTAdTagURI>'+m.vast_url+"</VASTAdTagURI></Wrapper></Ad></VAST>":m.vast_string&&(g=m.vast_string),f.pre_market_bids.push({id:m.deal_id,seatbid:[{bid:[{impid:Date.now(),dealid:m.deal_id,price:m.price,adm:g}]}],cur:m.currency,ext:{event_log:[{}]}})}}var v=r.getBidIdParameter("mimes",e.params)||["application/javascript","video/mp4","video/webm"],y={id:e.bidId,secure:l,video:{w:u,h:d,ext:f,mimes:v}};""!=r.getBidIdParameter("price_floor",e.params)&&(y.bidfloor=r.getBidIdParameter("price_floor",e.params)),""!=r.getBidIdParameter("start_delay",e.params)&&(y.video.startdelay=0+Boolean(r.getBidIdParameter("start_delay",e.params))),""!=r.getBidIdParameter("min_duration",e.params)&&(y.video.minduration=r.getBidIdParameter("min_duration",e.params)),""!=r.getBidIdParameter("max_duration",e.params)&&(y.video.maxduration=r.getBidIdParameter("max_duration",e.params)),""!=r.getBidIdParameter("placement_type",e.params)&&(y.video.ext.placement=r.getBidIdParameter("placement_type",e.params)),""!=r.getBidIdParameter("position",e.params)&&(y.video.ext.pos=r.getBidIdParameter("position",e.params)),e.crumbs&&e.crumbs.pubcid&&(o=e.crumbs.pubcid);var b=navigator.language?"language":"userLanguage",E={h:screen.height,w:screen.width,dnt:r.getDNT()?1:0,language:navigator[b].split("-")[0],make:navigator.vendor?navigator.vendor:"",ua:navigator.userAgent},_={id:a,imp:y,site:{id:"",page:n,content:"content"},device:E,ext:{wrap_response:1}};r.getBidIdParameter("number_of_ads",e.params)&&(_.ext.number_of_ads=r.getBidIdParameter("number_of_ads",e.params));var S={};return 1==r.getBidIdParameter("spotx_all_google_consent",e.params)&&(S.consented_providers_settings=c),t&&t.gdprConsent&&(S.consent=t.gdprConsent.consentString,void 0!==t.gdprConsent.gdprApplies&&(_.regs={ext:{gdpr:t.gdprConsent.gdprApplies?1:0}})),t&&t.uspConsent&&(_.regs={ext:{us_privacy:t.uspConsent}}),e&&e.userId&&e.userId.id5id&&(S.eids=S.eids||[],S.eids.push({source:"id5-sync.com",uids:[{id:e.userId.id5id}]})),o&&(S.fpc=o),e&&e.schain&&(_.source={ext:{schain:e.schain}}),e&&e.userId&&e.userId.tdid&&(S.eids=S.eids||[],S.eids.push({source:"adserver.org",uids:[{id:e.userId.tdid,ext:{rtiPartner:"TDID"}}]})),r.isEmpty(S)||(_.user={ext:S}),{method:"POST",url:"https://search.spotxchange.com/openrtb/2.3/dados/"+a,data:_,bidRequest:t}}))},interpretResponse:function(e,t){var n=[],a=e.body;return a&&r.isArray(a.seatbid)&&r._each(a.seatbid,(function(e){r._each(e.bid,(function(e){var s={};for(var u in t.bidRequest.bids)e.impid==t.bidRequest.bids[u].bidId&&(s=t.bidRequest.bids[u]);r._each(s.params.pre_market_bids,(function(t){t.deal_id==e.id&&(e.price=t.price,a.cur=t.currency)}));var c={requestId:s.bidId,currency:a.cur||"USD",cpm:e.price,creativeId:e.crid||"",ttl:360,netRevenue:!0,channel_id:a.id,cache_key:e.ext.cache_key,vastUrl:"https://search.spotxchange.com/ad/vast.html?key="+e.ext.cache_key,mediaType:o.d,width:e.w,height:e.h};c.meta=c.meta||{},e&&e.adomain&&0<e.adomain.length&&(c.meta.advertiserDomains=e.adomain);var d=r.deepAccess(s,"mediaTypes.video.context"),f=r.deepAccess(s,"params.ad_unit");if("outstream"==d||"outstream"==f){var p=r.deepAccess(s,"mediaTypes.video.playerSize"),h=i.a.install({id:0,url:"//",config:{adText:"SpotX Outstream Video Ad via Prebid.js",player_width:p[0][0],player_height:p[0][1],content_page_url:r.deepAccess(t,"data.site.page"),ad_mute:+!!r.deepAccess(s,"params.ad_mute"),hide_skin:+!!r.deepAccess(s,"params.hide_skin"),outstream_options:r.deepAccess(s,"params.outstream_options"),outstream_function:r.deepAccess(s,"params.outstream_function")}});try{h.setRender(l),h.setEventHandlers({impression:function(){return r.logMessage("SpotX outstream video impression event")},loaded:function(){return r.logMessage("SpotX outstream video loaded event")},ended:function(){r.logMessage("SpotX outstream renderer video event")}})}catch(s){r.logWarn("Prebid Error calling setRender or setEve,tHandlers on renderer",s)}c.renderer=h}n.push(c)}))})),n}};function l(e){var t=(function(e){var t=r.getBidIdParameter("slot",e.renderer.config.outstream_options);r.logMessage("[SPOTX][renderer] Handle SpotX outstream renderer");var n=window.document.createElement("script");n.type="text/javascript",n.src="https://js.spotx.tv/easi/v1/"+e.channel_id+".js";var i={};i["data-spotx_channel_id"]=""+e.channel_id,i["data-spotx_vast_url"]=""+e.vastUrl,i["data-spotx_content_page_url"]=e.renderer.config.content_page_url,i["data-spotx_ad_unit"]="incontent",r.logMessage("[SPOTX][renderer] Default beahavior"),r.getBidIdParameter("ad_mute",e.renderer.config.outstream_options)&&(i["data-spotx_ad_mute"]="0"),i["data-spotx_collapse"]="0",i["data-spotx_autoplay"]="1",i["data-spotx_blocked_autoplay_override_mode"]="1",i["data-spotx_video_slot_can_autoplay"]="1";var a,o,s,u,c,d,l=r.getBidIdParameter("playersize_auto_adapt",e.renderer.config.outstream_options);l&&r.isBoolean(l)&&!0===l&&(e.width&&r.isNumber(e.width)&&e.height&&r.isNumber(e.height)?(a=e.width/e.height,o=window.document.getElementById(t).clientWidth,s=e.renderer.config.player_width,u=e.renderer.config.player_height,c=0,o<s&&(u=(s=o)/a),d=a<=1?(c=Math.round(u*a),u):(c=s,Math.round(s/a)),i["data-spotx_content_width"]=""+c,i["data-spotx_content_height"]=""+d):r.logWarn("[SPOTX][renderer] PlayerSize auto adapt: bid.width and bid.height are incorrect"));var f=r.getBidIdParameter("custom_override",e.renderer.config.outstream_options);if(f&&r.isPlainObject(f))for(var p in r.logMessage("[SPOTX][renderer] Custom beahavior."),f)f.hasOwnProperty(p)&&("channel_id"===p||"vast_url"===p||"content_page_url"===p||"ad_unit"===p?r.logWarn("[SPOTX][renderer] Custom beahavior: following option cannot be overrided: "+p):i["data-spotx_"+p]=f[p]);for(var h in i)i.hasOwnProperty(h)&&n.setAttribute(h,i[h]);return n})(e);if(null!=e.renderer.config.outstream_function&&"function"==typeof e.renderer.config.outstream_function)e.renderer.config.outstream_function(e,t);else try{var n,i,a,o=r.getBidIdParameter("in_iframe",e.renderer.config.outstream_options);o&&"IFRAME"==window.document.getElementById(o).nodeName?(!(i=(n=window.document.getElementById(o)).contentDocument)&&n.contentWindow&&(i=n.contentWindow.document),i.body.appendChild(t)):(a=r.getBidIdParameter("slot",e.renderer.config.outstream_options))&&window.document.getElementById(a)?window.document.getElementById(a).appendChild(t):window.document.getElementsByTagName("head")[0].appendChild(t)}catch(e){r.logError("[SPOTX][renderer] Error:"+e.message)}}Object(a.registerBidder)(d)}},[890]),pbjsChunk([111],{912:function(e,t,n){e.exports=n(913)},913:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return h})),n.d(t,"getTimeoutUrl",(function(){return y}));var r=n(0),i=n(35),a=n(1),o=n(2),s=n(5);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}n.n(s);var d="telaria",l="tremorhub.com",f="ads.".concat(l,"/ad/tag"),p="events.".concat(l,"/diag"),h={code:d,aliases:["tremor","tremorvideo"],supportedMediaTypes:[o.d],isBidRequestValid:function(e){return!!(e&&e.params&&e.params.adCode&&e.params.supplyCode)},buildRequests:function(e,t){var n=[];return e.forEach((function(e){var i=(function(e,t){var n,i,a=r.deepAccess(e,"mediaTypes.video.playerSize");a||r.logWarn("Although player size isn't required it is highly recommended"),a&&(!r.isArray(a)||2!==a.length||isNaN(a[0])||isNaN(a[1])?"object"===u(a)&&(n=a[0][0],i=a[0][1]):(n=a[0],i=a[1]));var o=r.deepAccess(e,"params.supplyCode"),s=r.deepAccess(e,"params.adCode");if(o&&s){var d="https://".concat(o,".").concat(f,"?adCode=").concat(s);n&&(d+="&playerWidth=".concat(n)),i&&(d+="&playerHeight=".concat(i));var l=c({srcPageUrl:m()},e.params);return delete l.adCode,d+="".concat(v(l,e.schain)),d+="&transactionId=".concat(e.transactionId),t&&(t.gdprConsent&&("boolean"==typeof t.gdprConsent.gdprApplies&&(d+="&gdpr=".concat(t.gdprConsent.gdprApplies?1:0)),t.gdprConsent.consentString&&(d+="&gdpr_consent=".concat(t.gdprConsent.consentString))),t.refererInfo&&t.refererInfo.referer&&(d+="&referrer=".concat(encodeURIComponent(t.refererInfo.referer)))),d+"&hb=1&fmt=json"}})(e,t);i&&n.push({method:"GET",url:i,bidId:e.bidId,vastUrl:i.split("&fmt=json")[0]})})),n},interpretResponse:function(e,t){var n,a,o,u,d=[];try{n=e.body,t.url.split("&").forEach((function(e){var t=e.toLowerCase();-1<t.indexOf("player")&&(-1<t.indexOf("width")?a=e.split("=")[1]:-1<t.indexOf("height")&&(o=e.split("=")[1]))}))}catch(e){r.logError(e),o=a=0}return!n||n.error?(u="in response for ".concat(t.bidderCode," adapter"),n&&n.error&&(u+=": ".concat(n.error)),r.logError(u)):r.isEmpty(n.seatbid)||n.seatbid[0].bid.forEach((function(e){d.push(function(e,t,n,r,a,o){var s=Object(i.a)(e,t);return n&&c(s,{requestId:t.bidId,cpm:n.price,creativeId:n.crid||"-1",vastXml:n.adm,vastUrl:t.vastUrl,mediaType:"video",width:r,height:a,bidderCode:"telaria",currency:"USD",netRevenue:!0,ttl:300,ad:n.adm}),s.meta=s.meta||{},n&&n.adomain&&0<n.adomain.length&&(s.meta.advertiserDomains=n.adomain),s}(s.STATUS.GOOD,t,e,a,o))})),d},getUserSyncs:function(e,t){var n=[];return e.pixelEnabled&&t.length&&(r.deepAccess(t,"0.body.ext.telaria.userSync")||[]).forEach((function(e){return n.push({type:"image",url:e})})),n},onTimeout:function(e){var t=y(e);t&&r.triggerPixel(t)}};function m(){return encodeURIComponent(document.location.href)}function g(e){return""!==e&&void 0!==e?encodeURIComponent(e):""}function v(e,t){var n="";if(!r.isEmpty(e)){for(var i in e)"schain"!==i&&e.hasOwnProperty(i)&&!r.isEmpty(e[i])&&(n+="&".concat(i,"=").concat(e[i]));n+=(function(e){if(r.isEmpty(e))return"";var t="&schain=".concat(e.ver,",").concat(e.complete);return e.nodes.forEach((function(e){t+="!",t+="".concat(g(e.asi),","),t+="".concat(g(e.sid),","),t+="".concat(g(e.hp),","),t+="".concat(g(e.rid),","),t+="".concat(g(e.name),","),t+="".concat(g(e.domain))})),t})(r.isEmpty(t)?e.schain:t)}return n}var y=function(e){var t=r.deepAccess(e,"0.params.0");if(!r.isEmpty(t)){var n="https://".concat(p);t=c({srcPageUrl:m()},t);return(n+="".concat(v(t)))+"&hb=1&evt=TO"}};Object(a.registerBidder)(h)}},[912]),pbjsChunk([102],{932:function(e,t,n){e.exports=n(933)},933:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"tripleliftAdapterSpec",(function(){return m}));var r=n(2),i=n(1),a=n(0),o=n(3);function s(){return(s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}function c(e,t){var n,r=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)),r}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){var r,i,a;r=e,a=n[i=t],i in r?Object.defineProperty(r,i,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[i]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e){return (function(e){if(Array.isArray(e))return f(e)})(e)||(function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)})(e)||(function(e,t){if(e){if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?f(e,t):void 0}})(e)||(function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")})()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=!0,h=null,m={gvlid:28,code:"triplelift",supportedMediaTypes:[r.b,r.d],isBidRequestValid:function(e){return void 0!==e.params.inventoryCode},buildRequests:function(e,t){var n,r="https://tlx.3lift.com/header/auction?",i=(function(e){var t={},n=e[0].schain,r=(function(){var e={},t={},n={},r=o.b.getLegacyFpd(o.b.getConfig("ortb2"))||{},i=s({},r.context),u=s({},r.user);return v(t,i),v(n,u),a.isEmpty(t)||(e.context=t),a.isEmpty(n)||(e.user=n),e})();t.imp=e.map((function(e,t){var n={id:t,tagid:e.params.inventoryCode,floor:(function(e){var t,n=null;return"function"==typeof e.getFloor&&("object"!==u(t=e.getFloor({currency:"USD",mediaType:g(e)?"video":"banner",size:"*"}))||"USD"!==t.currency||isNaN(parseFloat(t.floor))||(n=parseFloat(t.floor))),null!==n?n:e.params.floor})(e)};return g(e)?n.video=(function(e){var t=d(d({},e.params.video),e.mediaTypes.video);return t.w||(t.w=t.playerSize[0][0]),t.h||(t.h=t.playerSize[0][1]),"instream"===t.context&&(t.placement=1),delete t.playerSize,t})(e):e.mediaTypes.banner&&(n.banner={format:e.sizes.filter(b).map((function(e){return{w:e[0],h:e[1]}}))}),a.isEmpty(e.ortb2Imp)||(n.fpd=(function(e){var t={},n={};return v(n,e.ext),a.isEmpty(n)||(t.context=n),t})(e.ortb2Imp)),n}));var i=[].concat(l(function(e){return y(e,"tdid","adserver.org","TDID")}([e[0]])),l(function(e){return y(e,"idl_env","liveramp.com","idl")}([e[0]])),l(function(e){return y(e,"criteoId","criteo.com","criteoId")}([e[0]])),l(function(e){return y(e,"pubcid","pubcid.org","pubcid")}([e[0]])));0<i.length&&(t.user={ext:{eids:i}});var c=(function(e,t){var n={};return a.isEmpty(e)||(n.schain=d({},e)),a.isEmpty(t)||(n.fpd=d({},t)),n})(n,r);return a.isEmpty(c)||(t.ext=c),t})(e);return r=a.tryAppendQueryString(r,"lib","prebid"),r=a.tryAppendQueryString(r,"v","4.43.4"),t&&t.refererInfo&&(n=t.refererInfo.referer,r=a.tryAppendQueryString(r,"referrer",n)),t&&t.timeout&&(r=a.tryAppendQueryString(r,"tmax",t.timeout)),t&&t.gdprConsent&&(void 0!==t.gdprConsent.gdprApplies&&(p=t.gdprConsent.gdprApplies,r=a.tryAppendQueryString(r,"gdpr",p.toString())),void 0!==t.gdprConsent.consentString&&(h=t.gdprConsent.consentString,r=a.tryAppendQueryString(r,"cmp_cs",h))),t&&t.uspConsent&&(r=a.tryAppendQueryString(r,"us_privacy",t.uspConsent)),!0===o.b.getConfig("coppa")&&(r=a.tryAppendQueryString(r,"coppa",!0)),r.lastIndexOf("&")===r.length-1&&(r=r.substring(0,r.length-1)),a.logMessage("tlCall request built: "+r),{method:"POST",url:r,data:i,bidderRequest:t}},interpretResponse:function(e,t){var n=t.bidderRequest;return(e.body.bids||[]).map((function(e){return (function(e,t){var n={},r=t.width||1,i=t.height||1,a=t.deal_id||"",o=t.crid||"",s=e.bids[t.imp_id];return 0!=t.cpm&&t.ad&&(n={requestId:s.bidId,cpm:t.cpm,width:r,height:i,netRevenue:!0,ad:t.ad,creativeId:o,dealId:a,currency:"USD",ttl:300,tl_source:t.tl_source,meta:{}},g(s)&&(n.vastXml=t.ad,n.mediaType="video"),t.advertiser_name&&(n.meta.advertiserName=t.advertiser_name),t.adomain&&t.adomain.length&&(n.meta.advertiserDomains=t.adomain),t.tl_source&&"hdx"==t.tl_source&&(n.meta.mediaType="banner"),t.tl_source&&"tlx"==t.tl_source&&(n.meta.mediaType="native")),n})(n,e)}))},getUserSyncs:function(e,t,n,r){var i=(function(e){if(e)return e.iframeEnabled?"iframe":e.pixelEnabled?"image":void 0})(e);if(i){var o="https://eb2.3lift.com/sync?";return"image"===i&&(o=a.tryAppendQueryString(o,"px",1),o=a.tryAppendQueryString(o,"src","prebid")),null!==h&&(o=a.tryAppendQueryString(o,"gdpr",p),o=a.tryAppendQueryString(o,"cmp_cs",h)),r&&(o=a.tryAppendQueryString(o,"us_privacy",r)),[{type:i,url:o}]}}};function g(e){return e.mediaTypes.video&&e.mediaTypes.video.context&&"instream"===e.mediaTypes.video.context.toLowerCase()}function v(e,t){a.isEmpty(t)||Object.keys(t).forEach((function(n){null!=t[n]&&(e[n]=t[n])}))}function y(e,t,n,r){return e.map((o=t,function(e){return e&&e.userId&&e.userId[o]})).filter((function(e){return!!e})).map((i=n,a=r,function(e){return{source:i,uids:[{id:e,ext:{rtiPartner:a}}]}}));var i,a,o}function b(e){return 2===e.length&&"number"==typeof e[0]&&"number"==typeof e[1]}Object(i.registerBidder)(m)}},[932]),pbjsChunk([95],{948:function(e,t,n){e.exports=n(949)},949:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"spec",(function(){return s}));var r=n(0),i=n(1),a=n(2);function o(e){if(!e)return null;var t=e.gdprApplies?"1":"0",n=e.consentString?e.consentString:"";return"gdpr=".concat(t,"&gdprstr=").concat(n)}var s={code:"undertone",supportedMediaTypes:[a.b,a.d],isBidRequestValid:function(e){if(e&&e.params&&e.params.publisherId)return e.params.publisherId=parseInt(e.params.publisherId),!0},buildRequests:function(e,t){var n=Math.max(document.documentElement.clientWidth,window.innerWidth||0),i=Math.max(document.documentElement.clientHeight,window.innerHeight||0),a=0==n||0==i?null:[n,i],s={"x-ut-hb-params":[],commons:{adapterVersion:"4.43.4",uids:e[0].userId,pageSize:a}},u=t.refererInfo.referer,c=(function(e){var t=null;try{var n=/[-\w]+\.([-\w]+|[-\w]{3,}|[-\w]{1,3}\.[-\w]{2})$/i.exec(e);if(null!=n&&0<n.length){t=n[0];for(var r=1;r<n.length;r++)n[r].length>t.length&&(t=n[r])}}catch(e){t=null}return t})(Object(r.parseUrl)(u).hostname),d=(function(){try{var e=window.top.document.querySelector("link[rel='canonical']");if(null!==e)return e.href}catch(e){}return null})()||u,l=e[0].params.publisherId,f="".concat("https://hb.undertone.com/hb","?pid=").concat(l,"&domain=").concat(c),p=o(t.gdprConsent);return p&&(f+="&".concat(p)),t.uspConsent&&(f+="&ccpa=".concat(t.uspConsent)),e.map((function(e){var t={bidRequestId:e.bidId,coordinates:(function(e){var t=document.getElementById(e),n=-1,r=-1;if(t){n=t.offsetLeft,r=t.offsetTop;var i=t.offsetParent;return i&&(n+=i.offsetLeft,r+=i.offsetTop),[n,r]}return null})(e.adUnitCode),hbadaptor:"prebid",url:d,domain:c,placementId:null!=e.params.placementId?e.params.placementId:null,publisherId:e.params.publisherId,sizes:e.sizes,params:e.params};Object(r.deepAccess)(e,"mediaTypes.video")&&(t.video={playerSize:Object(r.deepAccess)(e,"mediaTypes.video.playerSize")||null,streamType:Object(r.deepAccess)(e,"mediaTypes.video.context")||null,playbackMethod:Object(r.deepAccess)(e,"params.video.playbackMethod")||null,maxDuration:Object(r.deepAccess)(e,"params.video.maxDuration")||null,skippable:Object(r.deepAccess)(e,"params.video.skippable")||null},t.mediaType="video"),s["x-ut-hb-params"].push(t)})),{method:"POST",url:f,withCredentials:!0,data:JSON.stringify(s)}},interpretResponse:function(e){var t=[],n=e.body;return n&&Array.isArray(n)&&0<n.length&&n.forEach((function(e){var n;e.ad&&0<e.cpm&&(n={requestId:e.bidRequestId,cpm:e.cpm,width:e.width,height:e.height,creativeId:e.adId,currency:e.currency,netRevenue:e.netRevenue,ttl:e.ttl||360,meta:{advertiserDomains:e.adomain?e.adomain:[]}},e.mediaType&&"video"===e.mediaType?(n.vastXml=e.ad,n.mediaType=e.mediaType):n.ad=e.ad,t.push(n))})),t},getUserSyncs:function(e,t,n,r){var i=[],a=o(n),s="",u="";return a&&(s+="?".concat(a),u+="&".concat(a)),r&&(s+=""!=s?"&":"?",s+="ccpa=".concat(r),u+="&ccpa=".concat(r)),e.iframeEnabled?i.push({type:"iframe",url:"https://cdn.undertone.com/js/usersync.html"+s}):e.pixelEnabled&&i.push({type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=1&of=2"+u},{type:"image",url:"https://usr.undertone.com/userPixel/syncOne?id=2&of=2"+u}),i}};Object(i.registerBidder)(s)}},[948]),pbjsChunk([93],{952:function(e,t,n){e.exports=n(953)},953:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"unifiedIdSubmodule",(function(){return s}));var r=n(0),i=n(4),a=n(11),o="unifiedId",s={name:o,gvlid:21,decode:function(e){return e&&"string"==typeof e.TDID?{tdid:e.TDID}:void 0},getId:function(e){var t=e&&e.params||{};if(t&&("string"==typeof t.partner||"string"==typeof t.url)){var n=t.url||"https://match.adsrvr.org/track/rid?ttd_pid=".concat(t.partner,"&fmt=json");return{callback:function(e){var t={success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(t){r.logError(t)}e(n)},error:function(t){r.logError("".concat(o,": ID fetch encountered an error"),t),e()}};Object(i.a)(n,t,void 0,{method:"GET",withCredentials:!0})}}}r.logError("User ID - unifiedId submodule requires either partner or url to be defined")}};Object(a.e)("userId",s)}},[952]),pbjsChunk([7],{20:function(e,t,n){t.b=function(e){var t=[];for(var n in e){var a;e.hasOwnProperty(n)&&("pubProvidedId"===n?t=t.concat(e.pubProvidedId):(a=(function(e,t){var n=i[t];if(n&&e){var a={};a.source=n.source;var o=r.isFn(n.getValue)?n.getValue(e):e;if(r.isStr(o)){var s,u,c={id:o,atype:n.atype};return!r.isFn(n.getUidExt)||(s=n.getUidExt(e))&&(c.ext=s),a.uids=[c],!r.isFn(n.getEidExt)||(u=n.getEidExt(e))&&(a.ext=u),a}}return null})(e[n],n))&&t.push(a))}return t},t.a=function(e){var t=[];return e.filter((function(e){return r.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).forEach((function(e){Object.keys(e.idObj).forEach((function(n){r.deepAccess(e,"config.bidders")&&Array.isArray(e.config.bidders)&&r.deepAccess(i,n+".source")&&t.push({source:i[n].source,bidders:e.config.bidders})}))})),t};var r=n(0),i={intentIqId:{source:"intentiq.com",atype:1},pubcid:{source:"pubcid.org",atype:1},tdid:{source:"adserver.org",atype:1,getUidExt:function(){return{rtiPartner:"TDID"}}},id5id:{getValue:function(e){return e.uid},source:"id5-sync.com",atype:1,getUidExt:function(e){if(e.ext)return e.ext}},parrableId:{source:"parrable.com",atype:1,getValue:function(e){return e.eid?e.eid:e.ccpaOptout?"":null},getUidExt:function(e){var t=r.pick(e,["ibaOptout","ccpaOptout"]);if(Object.keys(t).length)return t}},idl_env:{source:"liveramp.com",atype:3},lipb:{getValue:function(e){return e.lipbid},source:"liveintent.com",atype:3,getEidExt:function(e){if(Array.isArray(e.segments)&&e.segments.length)return{segments:e.segments}}},britepoolid:{source:"britepool.com",atype:3},dmdId:{source:"hcn.health",atype:3},lotamePanoramaId:{source:"crwdcntrl.net",atype:1},criteoId:{source:"criteo.com",atype:1},merkleId:{source:"merkleinc.com",atype:3,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.keyID?{keyID:e.keyID}:void 0}},netId:{source:"netid.de",atype:1},sharedid:{source:"sharedid.org",atype:1,getValue:function(e){return e.id},getUidExt:function(e){return e&&e.third?{third:e.third}:void 0}},IDP:{source:"zeotap.com",atype:1},haloId:{source:"audigent.com",atype:1},quantcastId:{source:"quantcast.com",atype:1},nextrollId:{source:"nextroll.com",atype:1},idx:{source:"idx.lat",atype:1},connectid:{source:"verizonmedia.com",atype:3},fabrickId:{source:"neustar.biz",atype:1},mwOpenLinkId:{source:"mediawallahscript.com",atype:1},tapadId:{source:"tapad.com",atype:1},novatiq:{getValue:function(e){return e.snowflake},source:"novatiq.com",atype:1},uid2:{source:"uidapi.com",atype:3,getValue:function(e){return e.id}},deepintentId:{source:"deepintent.com",atype:3},admixerId:{source:"admixer.net",atype:3}}},956:function(e,t,n){e.exports=n(957)},957:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"PBJS_USER_ID_OPTOUT_NAME",(function(){return T})),n.d(t,"coreStorage",(function(){return P})),n.d(t,"syncDelay",(function(){return _})),n.d(t,"auctionDelay",(function(){return S})),t.setSubmoduleRegistry=function(e){R=e},t.setStoredValue=j,t.setStoredConsentData=U,t.findRootDomain=F,t.requestBidsHook=W,n.d(t,"validateGdprEnforcement",(function(){return $})),t.attachIdSystem=Q,t.init=Z;var r=n(10),i=n.n(r),a=n(3),o=n(9),s=n.n(o),u=n(0),c=n(16),d=n(8),l=n(5),f=n.n(l),p=n(11),h=n(20),m=n(7),g=n(13),v=n.n(g);function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b,E,_,S,A="User ID",w="cookie",O="html5",I="_pbjs_userid_consent_data",C=30,T="_pbjs_id_optout",P=Object(m.a)("userid"),x=[],k=!1,N=[],D=[],R=[];function j(e,t){var n=e.config.storage,r="function"==typeof e.submodule.domainOverride?e.submodule.domainOverride():null;try{var i=u.isPlainObject(t)?JSON.stringify(t):t,a=new Date(Date.now()+864e5*n.expires).toUTCString();n.type===w?(P.setCookie(n.name,i,a,"Lax",r),"number"==typeof n.refreshInSeconds&&P.setCookie("".concat(n.name,"_last"),(new Date).toUTCString(),a,"Lax",r)):n.type===O&&(P.setDataInLocalStorage("".concat(n.name,"_exp"),a),P.setDataInLocalStorage(n.name,encodeURIComponent(i)),"number"==typeof n.refreshInSeconds&&P.setDataInLocalStorage("".concat(n.name,"_last"),(new Date).toUTCString()))}catch(e){u.logError(e)}}function M(e,t){var n,r,i=1<arguments.length&&void 0!==t?t:void 0,a=i?"".concat(e.name,"_").concat(i):e.name;try{e.type===w?n=P.getCookie(a):e.type===O&&(""===(r=P.getDataFromLocalStorage("".concat(e.name,"_exp")))?n=P.getDataFromLocalStorage(a):r&&0<new Date(r).getTime()-Date.now()&&(n=decodeURIComponent(P.getDataFromLocalStorage(a)))),"string"==typeof n&&"{"===n.trim().charAt(0)&&(n=JSON.parse(n))}catch(e){u.logError(e)}return n}function B(e){var t={consentString:"",gdprApplies:!1,apiVersion:0};return e&&(t.consentString=e.consentString,t.gdprApplies=e.gdprApplies,t.apiVersion=e.apiVersion),u.cyrb53Hash(JSON.stringify(t))}function U(e){try{var t=new Date(Date.now()+864e5*C).toUTCString();P.setCookie(I,B(e),t,"Lax")}catch(e){u.logError(e)}}function L(){try{return P.getCookie(I)}catch(e){u.logError(e)}}function V(e){if(e&&"boolean"==typeof e.gdprApplies&&e.gdprApplies){if(!e.consentString)return;if(1===e.apiVersion&&!1===u.deepAccess(e,"vendorData.purposeConsents.1"))return;if(2===e.apiVersion&&!1===u.deepAccess(e,"vendorData.purpose.consents.1"))return}return 1}function F(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.hostname;if(!P.cookiesAreEnabled())return e;var t,n,r=e.split(".");if(2==r.length)return e;var i=-2,a="_rdc".concat(Date.now()),o="writeable";do{t=r.slice(i).join(".");var s=new Date(u.timestamp()+1e4).toUTCString();P.setCookie(a,o,s,"Lax",t,void 0),P.getCookie(a,void 0)===o?(n=!1,P.setCookie(a,"","Thu, 01 Jan 1970 00:00:01 GMT",void 0,t,void 0)):(i+=-1,n=Math.abs(i)<=r.length)}while(n);return t}function G(e,t){var n=function(){};t&&(n=u.delayExecution((function(){clearTimeout(E),t()}),e.length)),e.forEach((function(e){e.callback((function(t){t?(e.config.storage&&j(e,t),e.idObj=e.submodule.decode(t,e.config)):u.logInfo("".concat(A,": ").concat(e.submodule.name," - request id responded with an empty value")),n()})),e.callback=void 0}))}function q(e){return Array.isArray(e)&&e.length?e.filter((function(e){return u.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{}}function z(e){var t,n,r,i,a,o=!1;void 0===b&&(b=(function(e,t){var n=$(e,t),r=n.userIdModules;if(!n.hasValidated&&!V(t))return u.logWarn("".concat(A," - gdpr permission not valid for local storage or cookies, exit module")),[];var i=L();return U(t),r.reduce((function(e,n){return J(n,t,i,!1),e.push(n),e}),[])})(N,d.gdprDataHandler.getConsentData())).length&&(i=b,"function"==typeof(a=Object(u.getPrebidInternal)().setEidPermissions)&&u.isArray(i)&&a(Object(h.a)(i)),(t=b.filter((function(e){return u.isFn(e.callback)}))).length&&(e&&0<S?(n=!(o=!0),r=function(){n||(n=!0,e())},u.logInfo("".concat(A," - auction delayed by ").concat(S," at most to fetch ids")),E=setTimeout(r,S),G(t,r)):s.a.on(f.a.EVENTS.AUCTION_END,(function e(){s.a.off(f.a.EVENTS.AUCTION_END,e),0<_?setTimeout((function(){G(t)}),_):G(t)})))),e&&!o&&e()}function W(e,t){z((function(){(function(e,t){[e].some((function(e){return!Array.isArray(e)||!e.length}))||e.forEach((function(e){e.bids&&u.isArray(e.bids)&&e.bids.forEach((function(e){var n,r,i=(n=t,r=e.bidder,Array.isArray(n)&&n.length&&r?n.filter((function(e){return!e.config.bidders||!u.isArray(e.config.bidders)||v()(e.config.bidders,r)})).filter((function(e){return u.isPlainObject(e.idObj)&&Object.keys(e.idObj).length})).reduce((function(e,t){return Object.keys(t.idObj).forEach((function(n){e[n]=t.idObj[n]})),e}),{}):{});Object.keys(i).length&&(e.userId=i,e.userIdAsEids=Object(h.b)(i))}))}))})(t.adUnits||Object(c.a)().adUnits,b),e.call(this,t)}))}function H(){return z(),q(b)}function K(){return z(),Object(h.b)(q(b))}function Y(e,t){var n=(n=e?e.submoduleNames:null)||[];z((function(){var e=d.gdprDataHandler.getConsentData(),r=$(N,e),i=r.userIdModules;if(r.hasValidated||V(e)){var a=L();U(e);var o,s=[],c=(function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=(function(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}})(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}})(i);try{for(c.s();!(o=c.n()).done;){var l=o.value;0<n.length&&-1===n.indexOf(l.submodule.name)||(u.logInfo("".concat(A," - refreshing ").concat(l.submodule.name)),J(l,e,a,!0),u.isFn(l.callback)&&s.push(l))}}catch(e){c.e(e)}finally{c.f()}0<s.length&&G(s),t&&t()}else u.logWarn("".concat(A," - gdpr permission not valid for local storage or cookies, exit module"))}))}var $=Object(p.b)("sync",(function(e,t){return{userIdModules:e,hasValidated:t&&t.hasValidated}}),"validateGdprEnforcement");function J(e,t,n,r){var i,a,o,s,c,d;e.config.storage?(i=M(e.config.storage),s=!1,"number"==typeof e.config.storage.refreshInSeconds&&(s=(o=new Date(M(e.config.storage,"last")))&&Date.now()-o.getTime()>1e3*e.config.storage.refreshInSeconds),!i||s||r||(null==(d=n)||d!==B(t))?a=e.submodule.getId(e.config,t,i):"function"==typeof e.submodule.extendId&&(a=e.submodule.extendId(e.config,t,i)),u.isPlainObject(a)&&(a.id&&(j(e,a.id),i=a.id),"function"==typeof a.callback&&(e.callback=a.callback)),i&&(e.idObj=e.submodule.decode(i,e.config))):e.config.value?e.idObj=e.config.value:(c=e.submodule.getId(e.config,t,void 0),u.isPlainObject(c)&&("function"==typeof c.callback&&(e.callback=c.callback),c.id&&(e.idObj=e.submodule.decode(c.id,e.config))))}function X(){var e,t,n,r=(e=D,t=x,Array.isArray(e)?e.reduce((function(e,n){return!n||u.isEmptyStr(n.name)||(!n.storage||u.isEmptyStr(n.storage.type)||u.isEmptyStr(n.storage.name)||-1===t.indexOf(n.storage.type))&&!u.isPlainObject(n.value)&&(n.storage||n.value)||e.push(n),e}),[]):[]);r.length&&(n=R.filter((function(e){return!i()(N,(function(t){return t.name===e.name}))})),N=n.map((function(e){var t=i()(r,(function(t){return t.name&&t.name.toLowerCase()===e.name.toLowerCase()}));return t&&e.name!==t.name&&(t.name=e.name),e.findRootDomain=F,t?{submodule:e,config:t,callback:void 0,idObj:void 0}:null})).filter((function(e){return null!==e})),!k&&N.length&&(Object(c.a)().requestBids.before(W,40),u.logInfo("".concat(A," - usersync config updated for ").concat(N.length," submodules: "),N.map((function(e){return e.submodule.name}))),k=!0))}function Q(e){i()(R,(function(t){return t.name===e.name}))||(R.push(e),X())}function Z(e){N=[],k=!(D=[]),b=void 0,-1!==(x=[P.localStorageIsEnabled()?O:null,P.cookiesAreEnabled()?w:null].filter((function(e){return null!==e}))).indexOf(w)&&P.getCookie(T)?u.logInfo("".concat(A," - opt-out cookie found, exit module")):-1!==x.indexOf(O)&&P.getDataFromLocalStorage(T)?u.logInfo("".concat(A," - opt-out localStorage found, exit module")):(e.getConfig((function(e){var t=e.userSync;t&&t.userIds&&(D=t.userIds,_=u.isNumber(t.syncDelay)?t.syncDelay:500,S=u.isNumber(t.auctionDelay)?t.auctionDelay:0,X())})),Object(c.a)().getUserIds=H,Object(c.a)().getUserIdsAsEids=K,Object(c.a)().refreshUserIds=Y)}Z(a.b),Object(p.c)("userId",Q)}},[956]),pbjsChunk([89],{965:function(e,t,n){e.exports=n(966)},966:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"verizonMediaIdSubmodule",(function(){return p}));var r=n(4),i=n(11),a=n(0),o=n(13),s=n.n(o);function u(e){return(u="function"==typeof Symbol&&"symbol"==_typeof(Symbol.iterator)?function(e){return void 0===e?"undefined":_typeof(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":void 0===e?"undefined":_typeof(e)})(e)}var c="verizonMediaId",d="__PIXEL_ID__",l="https://ups.analytics.yahoo.com/ups/".concat(d,"/fed");function f(e){return e&&e.gdpr&&e.gdpr.gdprApplies}var p={name:c,gvlid:25,decode:function(e){return"object"===u(e)&&(e.connectid||e.vmuid)?{connectid:e.connectid||e.vmuid}:void 0},getId:function(e,t){var n=e.params||{};if(n&&"string"==typeof n.he&&(void 0!==n.pixelId||void 0!==n.endpoint)){var r={"1p":s()([1,"1",!0],n["1p"])?"1":"0",he:n.he,gdpr:f(t)?"1":"0",gdpr_consent:f(t)?t.gdpr.consentString:"",us_privacy:t&&t.uspConsent?t.uspConsent:""};return n.pixelId&&(r.pixelId=n.pixelId),{callback:function(e){var t={success:function(t){var n;if(t)try{n=JSON.parse(t)}catch(t){a.logError(t)}e(n)},error:function(t){a.logError("".concat(c,": ID fetch encountered an error"),t),e()}},i=l.replace(d,n.pixelId),o="".concat(n.endpoint||i,"?").concat(a.formatQS(r));p.getAjaxFn()(o,t,null,{method:"GET",withCredentials:!0})}}}a.logError("The verizonMediaId submodule requires the 'he' and 'pixelId' parameters to be defined.")},getAjaxFn:function(){return r.a}};Object(i.e)("userId",p)}},[965]),pbjs.processQueue()})]);/*  THIS IS owl_snippet.js */
var isMobile = (window && window.screen && window.screen.width < 768) || false;

window.sbm && sbm.init && sbm.init({
	versionName: "main-1-control",
	page: ((typeof(adPageZone) !== 'undefined') && adPageZone.slice(1).toLowerCase()),
	device: (isMobile ? 'mobile' : 'desktop'),
	setGaTestGroup: function(testGroup, versionName, page, auctionId) {
		var config = {
			archieLeagueAdVersion: versionName,
			adVantageTestGroup: testGroup,
			adVantagePage: page,
			adVantageAuctionId: auctionId
		};
		window.dataLayer = window.dataLayer || [];
		window.dataLayer.push(config);
	},
	trafficController: {"site":"owl","main":{"parentConfig":"v6.6-config","release":"v8.0.19-code-freeze","backendOpts":{}},"versions":[{"config":{"version":"main-1-control","archieAnalytics":{"wtRioEventEndpoint":"https://analytics.chegg.com/rio-service-wt/rest/rio-events/batch","sendSbmAnalyticsEvents":true,"sbmRsw":true,"useSbmClient":true,"sendClickStreamEvents":true,"eventBlacklist":[]},"site":"purdue","prefix":"owl","dfpSiteId":"21795412422","auctionTimeout":{"desktopMs":2500,"desktopRefreshMs":3000,"mobileMs":2500,"mobileRefreshMs":2500,"mobileReloadMs":2500,"desktopReloadMs":2500},"refresh":{"mobile":{"enabled":false,"limit":20,"visibilityMs":45000,"durationMs":120000},"desktop":{"enabled":true,"limit":20,"visibilityMs":45000,"durationMs":45000}},"adBlockBlock":{"run":false,"maxFreeCitations":1,"dismissable":false,"endpoint":"https://atc.studybreakmedia.com/modules/abb/abb-v0.8.1.js","blockablePages":["form","view"]},"cpcPartner":{"name":"paperchecker","endpoint":"https://atc.studybreakmedia.com/modules/abb/paper-checker-eb.js","ads":{"728x90":{"linkUrl":"https://bit.ly/2rmr7t8"},"300x250":{"linkUrl":"https://bit.ly/2Qes2Lg"},"160x600":{"linkUrl":"https://bit.ly/2ATOVsD"}}},"adsModal":{"run":false,"endpoint":"https://atc.studybreakmedia.com/modules/ad-modal/ad-modal-bundle-v2.1.4.js","pages":["form"],"citationCount":1,"runVast":true,"runBackfill":false,"runAmazon":false,"runAdXVideo":false,"runHypermx":false,"upsellConfig":{"text":"$9.95/month - Subscribe to EasyBib Plus"}},"tests":[{"name":"1-control","traffic":1,"session":true}],"adobeDtmUrl":"//assets.adobedtm.com/e157c7ff34e2d6bd3c151937f4c67f693db0150f/satelliteLib-c1031098c10bfbe330181ddd96ac8850d00f040d.js","gdpr":{"loadScript":true,"endpoint":"https://gdpr.studybreakmedia.com/short-circuit.js"},"prebidConfig":{"sortable":{"siteId":"s2s.easybib.com"},"userSync":{"filterSettings":{"iframe":{"bidders":["sortable"],"filter":"include"}},"userIds":[]}},"prebid":{"analytics":{},"consentManagement":{"enabled":false,"timeout":2500,"allowAuctionWithoutConsent":false}},"sticky":{"mediaMinWidth":768},"partners":{"nile":{"run":{"desktop":{"s":false,"r":false},"mobile":{"s":false,"r":false}},"placements":{}}},"placements":{"D_T1":{"sizes":[[728,90]],"divId":"D_T1","device":"desktop","skipUpgradeLink":true,"adUnit":"OWL_D_T1","skipRefreshViewable":true},"D_L1":{"sizes":[[300,250],[400,300]],"divId":"D_L1","device":"desktop","skipUpgradeLink":true,"adUnit":"OWL_D_L1","skipRefreshViewable":true},"M_T1":{"sizes":[[320,50],[300,50]],"divId":"M_T1","device":"mobile","skipUpgradeLink":true,"adUnit":"OWL_M_T1"},"M_L1":{"sizes":[[300,250]],"divId":"M_L1","device":"mobile","skipUpgradeLink":true,"adUnit":"OWL_M_L1"}},"pages":{"ros":{"D_T1":{},"M_T1":{},"D_L1":{},"M_L1":{}}},"user":{"page":"ros"}},"release":"v8.0.19-code-freeze","backendOpts":{},"name":"main-1-control","weight":1,"script":"&lt;script src=\"//atc-edge.studybreakmedia.com/releases/sbm-bundle-v8.0.19-code-freeze.js\"&gt;&lt;/script&gt;","url":"//atc-edge.studybreakmedia.com/bundles/production/owl/main-1-control.js"}],"name":"main-1-control"},
	autopilot: {}
});
